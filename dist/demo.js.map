{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/animated_sprite_demo/AnimatedSpriteDemo.ts","src/wolfie2d/Game.ts","src/wolfie2d/files/ResourceManager.ts","src/wolfie2d/loop/GameLoopTemplate.ts","src/wolfie2d/math/MathUtilities.ts","src/wolfie2d/math/Matrix.ts","src/wolfie2d/math/Vector3.ts","src/wolfie2d/rendering/TextRenderer.ts","src/wolfie2d/rendering/WebGLGameGradientCircleRenderer.ts","src/wolfie2d/rendering/WebGLGameRenderingSystem.ts","src/wolfie2d/rendering/WebGLGameShader.ts","src/wolfie2d/rendering/WebGLGameSpriteRenderer.ts","src/wolfie2d/rendering/WebGLGameTexture.ts","src/wolfie2d/scene/SceneGraph.ts","src/wolfie2d/scene/SceneObject.ts","src/wolfie2d/scene/sprite/AnimatedSprite.ts","src/wolfie2d/scene/sprite/AnimatedSpriteType.ts","src/wolfie2d/scene/sprite/GradientCircleSprite.ts","src/wolfie2d/scene/sprite/GradientCircleSpriteType.ts","src/wolfie2d/ui/UIController.ts"],"names":[],"mappings":"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","file":"demo.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","/*\n * AnimatedSpriteDemo.ts - demonstrates some simple sprite rendering and \n * animation as well as some basic mouse interactions. Note that the\n * AnimationSpriteDemo class loads and creates custom content for the\n * purpose of demonstrating basic functionality.\n */\nimport {Game} from '../wolfie2d/Game'\nimport {ResourceManager} from '../wolfie2d/files/ResourceManager'\nimport {TextToRender} from '../wolfie2d/rendering/TextRenderer'\nimport {WebGLGameRenderingSystem} from '../wolfie2d/rendering/WebGLGameRenderingSystem'\nimport {SceneGraph} from '../wolfie2d/scene/SceneGraph'\nimport {AnimatedSprite} from '../wolfie2d/scene/sprite/AnimatedSprite'\nimport {AnimatedSpriteType} from '../wolfie2d/scene/sprite/AnimatedSpriteType'\nimport { GradientCircleSpriteType } from '../wolfie2d/scene/sprite/GradientCircleSpriteType'\nimport { GradientCircleSprite } from '../wolfie2d/scene/sprite/GradientCircleSprite'\n\n// IN THIS EXAMPLE WE'LL HAVE 2 SPRITE TYPES THAT EACH HAVE THE SAME 2 STATES\n// AND WHERE EACH SPRITE TYPE HAS ITS OWN SPRITE SHEET\nconst DEMO_SPRITE_TYPES : string[] = [\n    'resources/animated_sprites/RedCircleMan.json',\n    'resources/animated_sprites/MultiColorBlock.json'\n];\nconst DEMO_SPRITE_STATES = {\n    FORWARD_STATE: 'FORWARD',\n    REVERSE_STATE: 'REVERSE'\n};\nconst DEMO_TEXTURES : string[] = [\n    'resources/images/EightBlocks.png', \n    'resources/images/RedCircleMan.png'\n];\n\nclass AnimatedSpriteDemo {\n    constructor() {}\n\n    /**\n     * This method initializes the application, building all the needed\n     * game objects and setting them up for use.\n     */\n    public buildTestScene(game : Game, callback : Function) {\n        let renderingSystem : WebGLGameRenderingSystem = game.getRenderingSystem();\n        let sceneGraph : SceneGraph = game.getSceneGraph();\n        let resourceManager : ResourceManager = game.getResourceManager();\n        let builder = this;\n \n        // EMPLOY THE RESOURCE MANAGER TO BUILD ALL THE WORLD CONTENT\n        resourceManager.loadTextures(DEMO_TEXTURES, renderingSystem, function() {\n            // ONLY AFTER ALL THE TEXTURES HAVE LOADED LOAD THE SPRITE TYPES\n            resourceManager.loadSpriteTypes(DEMO_SPRITE_TYPES, function() {\n                // ONLY AFTER ALL THE SPRITE TYPES HAVE LOADED LOAD THE SPRITES\n                builder.buildAnimatedSprites(resourceManager, sceneGraph);\n\n                // AND BUILD ALL THE TEXT OUR APP WILL USE\n                builder.buildText(game);\n\n                // EVERYTHING HAS BEEN BUILT, CALL THE CALLBACK\n                callback();\n            });\n        });\n    }\n\n    /*\n     * Builds all the animated sprites to be used by the application and\n     * adds them to the scene.\n     */\n    private buildAnimatedSprites(resourceManager : ResourceManager, scene : SceneGraph) {\n        let canvasWidth : number = (<HTMLCanvasElement>document.getElementById(\"game_canvas\")).width;\n        let canvasHeight : number = (<HTMLCanvasElement>document.getElementById(\"game_canvas\")).height;\n\n        // BUILD A BUNCH OF CIRCLE SPRITES\n        for (let i = 0; i < DEMO_SPRITE_TYPES.length; i++) {\n            for (let j = 0; j < 5; j++) {\n                let spriteTypeToUse : string = DEMO_SPRITE_TYPES[i];\n                let animatedSpriteType : AnimatedSpriteType = resourceManager.getAnimatedSpriteTypeById(spriteTypeToUse);\n                let spriteToAdd : AnimatedSprite = new AnimatedSprite(animatedSpriteType, DEMO_SPRITE_STATES.FORWARD_STATE);\n                let randomX : number = Math.floor(Math.random() * canvasWidth) - (animatedSpriteType.getSpriteWidth()/2);\n                let randomY : number = Math.floor(Math.random() * canvasHeight) - (animatedSpriteType.getSpriteHeight()/2);\n                spriteToAdd.getPosition().set(randomX, randomY, 0.0, 1.0);\n                scene.addAnimatedSprite(spriteToAdd);\n            }\n        }\n\n        //TODO: make 5 Gradient Circles\n        for (let j = 0; j < 5; j++) {\n            let gradientSpriteType : GradientCircleSpriteType = new GradientCircleSpriteType(200, 200);\n            let spriteToAdd : GradientCircleSprite = new GradientCircleSprite(gradientSpriteType, \"New Gradient Sprite\");\n            let randomX : number = Math.floor(Math.random() * canvasWidth) - (gradientSpriteType.getSpriteWidth()/2);\n            let randomY : number = Math.floor(Math.random() * canvasHeight) - (gradientSpriteType.getSpriteHeight()/2);\n            spriteToAdd.getPosition().set(randomX, randomY, 0.0, 1.0);\n            scene.addCircleSprite(spriteToAdd);\n        }\n    }\n\n    /*\n     * Builds all the text to be displayed in the application.\n     */\n    private buildText(game : Game) {\n        let sceneGraph : SceneGraph = game.getSceneGraph();\n        let numSpritesText = new TextToRender(\"Num Sprites\", \"\", 20, 50, function() {\n            numSpritesText.text = \"Number of Sprites: \" + sceneGraph.getNumSprites() + \"\" + sceneGraph.getSceneDescription();\n        });\n        let textRenderer = game.getRenderingSystem().getTextRenderer();\n        textRenderer.addTextToRender(numSpritesText);\n    }\n}\n\n// THIS IS THE ENTRY POINT INTO OUR APPLICATION, WE MAKE\n// THE Game OBJECT AND INITIALIZE IT WITH THE CANVASES\nlet game = new Game();\ngame.init(\"game_canvas\", \"text_canvas\");\n\n// BUILD THE GAME SCENE\nlet demo = new AnimatedSpriteDemo();\ndemo.buildTestScene(game, function() {\n    // AND START THE GAME LOOP\n    game.start();\n});","/*\n * Game is the focal point of the application, it has 4 subsystems,\n * the resource manager, the scene graph, the rendering system, and\n * the UI controller. In addition it serves as the game loop, providing\n * both an update and draw function that is called on a schedule.\n */\nimport {GameLoopTemplate} from './loop/GameLoopTemplate'\nimport {WebGLGameRenderingSystem} from './rendering/WebGLGameRenderingSystem'\nimport {SceneGraph} from './scene/SceneGraph'\nimport {AnimatedSprite} from './scene/sprite/AnimatedSprite'\nimport {ResourceManager} from './files/ResourceManager'\nimport {UIController} from './ui/UIController'\nimport { GradientCircleSprite } from './scene/sprite/GradientCircleSprite'\n\nexport class Game extends GameLoopTemplate {\n    private resourceManager : ResourceManager = new ResourceManager();\n    private sceneGraph : SceneGraph = new SceneGraph();\n    private renderingSystem : WebGLGameRenderingSystem = new WebGLGameRenderingSystem();\n    private uiController : UIController = new UIController();\n\n    public constructor() {\n        super();\n    }\n\n    public getRenderingSystem() : WebGLGameRenderingSystem {\n        return this.renderingSystem;\n    }\n\n    public getResourceManager() : ResourceManager {\n        return this.resourceManager;\n    }\n\n    public getSceneGraph() : SceneGraph {\n        return this.sceneGraph;\n    }\n\n    public init(gameCanvasId : string, textCanvasId : string) : void {\n        this.renderingSystem.init(gameCanvasId, textCanvasId);\n        this.uiController.init(gameCanvasId, this.sceneGraph, this.resourceManager);\n    }\n\n    public begin() : void {\n    }\n\n    /*\n     * This draws the game. Note that we are not currently using the \n     * interpolation value, but could once physics is involved.\n     */\n    public draw(interpolationPercentage : number) : void {\n        // GET THE VISIBLE SET FROM THE SCENE GRAPH\n        let visibleSprites : Array<AnimatedSprite>;\n        visibleSprites = <Array<AnimatedSprite>>this.sceneGraph.scopeSprites();\n\n        let visibleCircles : Array<GradientCircleSprite>;\n        visibleCircles = <Array<GradientCircleSprite>>this.sceneGraph.scopeCircles();\n        // RENDER THE VISIBLE SET, WHICH SHOULD ALL BE RENDERABLE\n        this.renderingSystem.render(visibleSprites, visibleCircles);\n    }\n\n    /**\n     * Updates the scene.\n     */\n    public update(delta : number) : void {\n        this.sceneGraph.update(delta);\n    }\n    \n    /**\n     * Updates the FPS counter.\n     */\n    public end(fps : number, panic : boolean) : void {\n        if (panic) {\n            var discardedTime = Math.round(this.resetFrameDelta());\n            console.warn('Main loop panicked, probably because the browser tab was put in the background. Discarding ' + discardedTime + 'ms');\n        }\n    }\n}","/*\n * ResourceManager.js\n *\n * This class is responsible for managing all shared resources. This means things\n * that may be needed by multiple game objects. In this application this means\n * textures for the purpose of GPU rendering and animated sprite types.\n */\nimport {SpriteTypeData, AnimationStateData, AnimationFrameData} from './SpriteTypeData'\nimport {HashTable} from '../data/HashTable'\nimport {WebGLGameRenderingSystem} from '../rendering/WebGLGameRenderingSystem'\nimport {WebGLGameTexture} from '../rendering/WebGLGameTexture'\nimport {AnimatedSpriteType} from '../scene/sprite/AnimatedSpriteType'\n\nexport class ResourceManager {\n    // GAME TEXTURES \n    private gameTextures : Array<WebGLGameTexture> = new Array();\n    private gameTextureIds : HashTable<number> = {};\n    private numTexturesToLoad : number;\n    private numTexturesLoaded : number;\n\n    // ANIMATED SPRITE TYPES\n    private gameSpriteTypes : Array<AnimatedSpriteType> = new Array();\n    private gameSpriteTypeIds : HashTable<number> = {};\n    private numSpriteTypesToLoad : number;\n    private numSpriteTypesLoaded : number;\n\n    public constructor() {}\n\n    // ACCESSOR METHODS\n\n    public getAnimatedSpriteTypeByIndex(typeIndex : number) : AnimatedSpriteType {\n        return this.gameSpriteTypes[typeIndex];\n    }\n\n    public getAnimatedSpriteTypeById(typeId : string) : AnimatedSpriteType {\n        let typeIndex : number = this.gameSpriteTypeIds[typeId];\n        return this.getAnimatedSpriteTypeByIndex(typeIndex);\n    }\n    \n    // ADDS A NEW SPRITE TYPE \n    public addAnimatedSpriteType(typeId : number, spriteType : AnimatedSpriteType) : void {\n        this.gameSpriteTypes[typeId] = spriteType;\n    }\n\n    /*\n     * Loads all the textures listed in the texturePaths argument and once\n     * that is done it calls the callback function.\n     */\n    public loadTextures(    texturePaths : Array<string>, \n                            renderingSystem : WebGLGameRenderingSystem, \n                            callback : Function) : void {\n        // THEN LOAD THE TEXTURES WE'LL BE USING\n        this.numTexturesToLoad = texturePaths.length;\n        this.numTexturesLoaded = 0;\n        let thisResourceManager = this;\n        let startNumTextures = this.gameTextures.length;\n        for (let i : number = 0; i < this.numTexturesToLoad; i++) {\n            let textureToLoad : WebGLGameTexture = new WebGLGameTexture();\n            let textureId = startNumTextures + i;\n            thisResourceManager.gameTextures[textureId] = textureToLoad;\n            thisResourceManager.gameTextureIds[texturePaths[i]] = textureId;\n            thisResourceManager.loadImage(texturePaths[i], textureId, function(id : number, image : HTMLImageElement) {\n                renderingSystem.initWebGLTexture(textureToLoad, id, image, function() {\n                    thisResourceManager.completeLoadingTexture(callback);\n                });\n            });\n        }\n    }\n\n    /*\n     * Loads all the sprite types listed in the spriteTypePaths argument and once\n     * that is done it calls the callback function.\n     */\n    public loadSpriteTypes(spriteTypePaths : Array<string>, \n                    callback : Function) : void {\n        // THEN LOAD THE TEXTURES WE'LL BE USING\n        this.numSpriteTypesToLoad = spriteTypePaths.length;\n        this.numSpriteTypesLoaded = 0;\n        let thisResourceManager = this;\n        let startNumSpriteTypes = this.gameSpriteTypes.length;\n        for (let i : number = 0; i < this.numSpriteTypesToLoad; i++) {\n            let spriteTypeId = startNumSpriteTypes + i;\n            this.loadSpriteType(spriteTypePaths[i], spriteTypeId, function() {\n                thisResourceManager.completeLoadingSpriteType(callback);\n            });\n        }\n    }\n\n    // PRIVATE HELPER METHODS\n\n    // LOADS A NEW JSON FILE AND UPON COMPLETION CALLS THE callback FUNCTION\n    private loadJsonFile(testFilePath : string, callback : Function) : void {\n        let xobj : XMLHttpRequest = new XMLHttpRequest();\n        xobj.overrideMimeType(\"application/json\");\n        xobj.open('GET', testFilePath, true);\n        xobj.onreadystatechange = function () {\n            if ((xobj.readyState == 4) && (xobj.status == 200)) {\n                callback(xobj.responseText);\n            }\n        };\n        xobj.send(null);\n    }\n\n    // CHECKS TO SEE IF ALL TEXTURE LOADING IS COMPLETE, IF YES, callback IS INVOKED\n    private completeLoadingTexture(callback : Function) : void {\n        this.numTexturesLoaded++;\n        if (this.numTexturesLoaded === this.numTexturesToLoad) {\n            callback();\n        }\n    }\n\n    /**\n     * Loads an Image into RAM and once that process is complete it\n     * calls the callback method argument, presumably to then load\n     * it into GPU memory.\n     */\n    private loadImage(path : string, id : number, callback : Function) : void {\n        // MAKE THE IMAGE\n        var image = new Image();\n\n        // ONCE THE IMAGE LOADING IS COMPLETED, THE CALLBACK WILL GET CALLED\n        image.onload = function () { \n            callback(id, image); \n        }\n\n        // START IMAGE LOADING\n        image.src = path;\n    }\n\n    /*\n     * This function loads a single sprite type resource from a JSON file and upon\n     * completion calls the callback function.\n     */\n    private loadSpriteType(jsonFilePath : string, spriteTypeId : number, callback : Function) : void {\n        let thisResourceManager : ResourceManager = this;\n        this.loadJsonFile(jsonFilePath, function(jsonText : string) {\n            let spriteType : AnimatedSpriteType = thisResourceManager.loadSpriteTypeData(jsonText);\n            thisResourceManager.gameSpriteTypes[spriteTypeId] = spriteType;\n            thisResourceManager.gameSpriteTypeIds[jsonFilePath] = spriteTypeId;\n            callback();\n        });\n    }\n\n    /*\n     * This helper function loads all the json text into an AnimatedSpriteType\n     * object and returns it.\n     */\n    private loadSpriteTypeData = (jsonText : string) : AnimatedSpriteType => {\n        let jsonData : SpriteTypeData = <SpriteTypeData>JSON.parse(jsonText);\n        let texturePath = jsonData.spriteSheetImage;\n        let textureId = this.gameTextureIds[texturePath];\n        let texture : WebGLGameTexture = this.gameTextures[textureId];\n        let spriteWidth : number = jsonData.spriteWidth;\n        let spriteHeight : number = jsonData.spriteHeight;\n        let animatedSpriteType = new AnimatedSpriteType(texture, spriteWidth, spriteHeight);\n        for (let i = 0; i < jsonData.animations.length; i++) {\n            let animation = <AnimationStateData>jsonData.animations[i];\n            animatedSpriteType.addAnimation(animation.name);\n            for (var j = 0; j < animation.frames.length; j++) {\n                var frame = animation.frames[j];\n                animatedSpriteType.addAnimationFrame(animation.name, frame.index, frame.duration);\n            }\n        }\n        return animatedSpriteType;\n    }\n\n    // CHECKS TO SEE IF ALL SPRITE TYPE LOADING IS COMPLETE, IF YES, callback IS INVOKED\n    private completeLoadingSpriteType(callback : Function) : void {\n        this.numSpriteTypesLoaded++;\n        if (this.numSpriteTypesLoaded === this.numSpriteTypesToLoad) {\n            callback();\n        }\n    }    \n}","export abstract class GameLoopTemplate {\n    // ALL INSTANCE VARIABLES WILL BE INITIALIZED VIA THE CONSTRUCTOR\n    private fps: number;\n    private simulationTimestep: number;\n    private frameDelta: number;\n    private lastFrameTimeMs: number;\n    private fpsAlpha: number;\n    private fpsUpdateInterval: number;\n    private lastFpsUpdate: number;\n    private framesSinceLastFpsUpdate: number;\n    private numUpdateSteps: number;\n    private minFrameDelay: number;\n    private running: boolean;\n    private started: boolean;\n    private panic: boolean;\n    private raf: number;\n\n    constructor() {\n        // An exponential moving average of the frames per second.\n        this.fps = 60;\n\n        // The amount of time (in milliseconds) to simulate each time update() runs.\n        // See `MainLoop.setSimulationTimestep()` for details.\n        this.simulationTimestep = 1000 / this.fps;\n\n        // The cumulative amount of in-app time that hasn't been simulated yet.\n        // See the comments inside animate() for details.\n        this.frameDelta = 0;\n\n        // The timestamp in milliseconds of the last time the main loop was run.\n        // Used to compute the time elapsed between frames.\n        this.lastFrameTimeMs = 0;\n\n        // A factor that affects how heavily to weight more recent seconds'\n        // performance when calculating the average frames per second. Valid values\n        // range from zero to one inclusive. Higher values result in weighting more\n        // recent seconds more heavily.\n        this.fpsAlpha = 0.9;\n\n        // The minimum duration between updates to the frames-per-second estimate.\n        // Higher values increase accuracy, but result in slower updates.\n        this.fpsUpdateInterval = 1000;\n\n        // The timestamp (in milliseconds) of the last time the `fps` moving\n        // average was updated.\n        this.lastFpsUpdate = 0;\n\n        // The number of frames delivered since the last time the `fps` moving\n        // average was updated (i.e. since `lastFpsUpdate`).\n        this.framesSinceLastFpsUpdate = 0;\n\n        // The number of times update() is called in a given frame. This is only\n        // relevant inside of animate(), but a reference is held externally so that\n        // this variable is not marked for garbage collection every time the main\n        // loop runs.\n        this.numUpdateSteps = 0;\n\n        // The minimum amount of time in milliseconds that must pass since the last\n        // frame was executed before another frame can be executed. The\n        // multiplicative inverse caps the FPS (the default of zero means there is\n        // no cap).\n        this.minFrameDelay = 0;\n\n        // Whether the main loop is running.\n        this.running = false;\n\n        // `true` if `MainLoop.start()` has been called and the most recent time it\n        // was called has not been followed by a call to `MainLoop.stop()`. This is\n        // different than `running` because there is a delay of a few milliseconds\n        // after `MainLoop.start()` is called before the application is considered\n        // \"running.\" This delay is due to waiting for the next frame.\n        this.started = false;\n\n        // Whether the simulation has fallen too far behind real time.\n        // Specifically, `panic` will be set to `true` if too many updates occur in\n        // one frame. This is only relevant inside of animate(), but a reference is\n        // held externally so that this variable is not marked for garbage\n        // collection every time the main loop runs.\n        this.panic = false;\n    }\n\n    /**\n     * Gets how many milliseconds should be simulated by every run of update().\n     *\n     * See `MainLoop.setSimulationTimestep()` for details on this value.\n     *\n     * @return {Number}\n     *   The number of milliseconds that should be simulated by every run of\n     *   {@link #setUpdate update}().\n     */\n    getSimulationTimestep(): number {\n        return this.simulationTimestep;\n    }\n\n    /**\n     * Sets how many milliseconds should be simulated by every run of update().\n     *\n     * The perceived frames per second (FPS) is effectively capped at the\n     * multiplicative inverse of the simulation timestep. That is, if the\n     * timestep is 1000 / 60 (which is the default), then the maximum perceived\n     * FPS is effectively 60. Decreasing the timestep increases the maximum\n     * perceived FPS at the cost of running {@link #setUpdate update}() more\n     * times per frame at lower frame rates. Since running update() more times\n     * takes more time to process, this can actually slow down the frame rate.\n     * Additionally, if the amount of time it takes to run update() exceeds or\n     * very nearly exceeds the timestep, the application will freeze and crash\n     * in a spiral of death (unless it is rescued; see `MainLoop.setEnd()` for\n     * an explanation of what can be done if a spiral of death is occurring).\n     *\n     * The exception to this is that interpolating between updates for each\n     * render can increase the perceived frame rate and reduce visual\n     * stuttering. See `MainLoop.setDraw()` for an explanation of how to do\n     * this.\n     *\n     * If you are considering decreasing the simulation timestep in order to\n     * raise the maximum perceived FPS, keep in mind that most monitors can't\n     * display more than 60 FPS. Whether humans can tell the difference among\n     * high frame rates depends on the application, but for reference, film is\n     * usually displayed at 24 FPS, other videos at 30 FPS, most games are\n     * acceptable above 30 FPS, and virtual reality might require 75 FPS to\n     * feel natural. Some gaming monitors go up to 144 FPS. Setting the\n     * timestep below 1000 / 144 is discouraged and below 1000 / 240 is\n     * strongly discouraged. The default of 1000 / 60 is good in most cases.\n     *\n     * The simulation timestep should typically only be changed at\n     * deterministic times (e.g. before the main loop starts for the first\n     * time, and not in response to user input or slow frame rates) to avoid\n     * introducing non-deterministic behavior. The update timestep should be\n     * the same for all players/users in multiplayer/multi-user applications.\n     *\n     * See also `MainLoop.getSimulationTimestep()`.\n     *\n     * @param {Number} timestep\n     *   The number of milliseconds that should be simulated by every run of\n     *   {@link #setUpdate update}().\n     */\n    setSimulationTimestep(timestep: number): void {\n        this.simulationTimestep = timestep;\n    }\n\n    /**\n     * Returns the exponential moving average of the frames per second.\n     *\n     * @return {Number}\n     *   The exponential moving average of the frames per second.\n     */\n    getFPS(): number {\n        return this.fps;\n    }\n\n    /**\n     * Gets the maximum frame rate.\n     *\n     * Other factors also limit the FPS; see `MainLoop.setSimulationTimestep`\n     * for details.\n     *\n     * See also `MainLoop.setMaxAllowedFPS()`.\n     *\n     * @return {Number}\n     *   The maximum number of frames per second allowed.\n     */\n    getMaxAllowedFPS(): number {\n        return 1000 / this.minFrameDelay;\n    }\n\n    /**\n     * Sets a maximum frame rate.\n     *\n     * See also `MainLoop.getMaxAllowedFPS()`.\n     *\n     * @param {Number} [fps=Infinity]\n     *   The maximum number of frames per second to execute. If Infinity or not\n     *   passed, there will be no FPS cap (although other factors do limit the\n     *   FPS; see `MainLoop.setSimulationTimestep` for details). If zero, this\n     *   will stop the loop, and when the loop is next started, it will return\n     *   to the previous maximum frame rate. Passing negative values will stall\n     *   the loop until this function is called again with a positive value.\n     *\n     * @chainable\n     */\n    setMaxAllowedFPS(fps: number): void {\n        if (typeof fps === 'undefined') {\n            fps = Infinity;\n        }\n        if (fps === 0) {\n            this.stop();\n        }\n        else {\n            // Dividing by Infinity returns zero.\n            this.minFrameDelay = 1000 / fps;\n        }\n    }\n\n    /**\n     * Reset the amount of time that has not yet been simulated to zero.\n     *\n     * This introduces non-deterministic behavior if called after the\n     * application has started running (unless it is being reset, in which case\n     * it doesn't matter). However, this can be useful in cases where the\n     * amount of time that has not yet been simulated has grown very large\n     * (for example, when the application's tab gets put in the background and\n     * the browser throttles the timers as a result). In applications with\n     * lockstep the player would get dropped, but in other networked\n     * applications it may be necessary to snap or ease the player/user to the\n     * authoritative state and discard pending updates in the process. In\n     * non-networked applications it may also be acceptable to simply resume\n     * the application where it last left off and ignore the accumulated\n     * unsimulated time.\n     *\n     * @return {Number}\n     *   The cumulative amount of elapsed time in milliseconds that has not yet\n     *   been simulated, but is being discarded as a result of calling this\n     *   function.\n     */\n    resetFrameDelta() : number {\n        var oldFrameDelta = this.frameDelta;\n        this.frameDelta = 0;\n        return oldFrameDelta;\n    }\n\n    /**\n     * Starts the main loop.\n     *\n     * Note that the application is not considered \"running\" immediately after\n     * this function returns; rather, it is considered \"running\" after the\n     * application draws its first frame. The distinction is that event\n     * handlers should remain paused until the application is running, even\n     * after `MainLoop.start()` is called. Check `MainLoop.isRunning()` for the\n     * current status. To act after the application starts, register a callback\n     * with requestAnimationFrame() after calling this function and execute the\n     * action in that callback. It is safe to call `MainLoop.start()` multiple\n     * times even before the application starts running and without calling\n     * `MainLoop.stop()` in between, although there is no reason to do this;\n     * the main loop will only start if it is not already started.\n     *\n     * See also `MainLoop.stop()`.\n     */\n    start(): void {\n        if (!this.started) {\n            // Since the application doesn't start running immediately, track\n            // whether this function was called and use that to keep it from\n            // starting the main loop multiple times.\n            this.started = true;\n\n            // In the main loop, draw() is called after update(), so if we\n            // entered the main loop immediately, we would never render the\n            // initial state before any updates occur. Instead, we run one\n            // frame where all we do is draw, and then start the main loop with\n            // the next frame.\n            this.raf = requestAnimationFrame(this.startLoop.bind(this));\n        }\n    }\n\n    startLoop(timestamp : number): void {\n        // Render the initial state before any updates occur.\n        this.draw(1);\n\n        // The application isn't considered \"running\" until the\n        // application starts drawing.\n        this.running = true;\n\n        // Reset variables that are used for tracking time so that we\n        // don't simulate time passed while the application was paused.\n        this.lastFrameTimeMs = timestamp;\n        this.lastFpsUpdate = timestamp;\n        this.framesSinceLastFpsUpdate = 0;\n\n        // Start the main loop.\n        this.raf = window.requestAnimationFrame(this.animate.bind(this));\n    }\n\n    /**\n     * Returns whether the main loop is currently running.\n     *\n     * See also `MainLoop.start()` and `MainLoop.stop()`.\n     *\n     * @return {Boolean}\n     *   Whether the main loop is currently running.\n     */\n    isRunning(): boolean {\n        return this.running;\n    }\n\n    /**\n     * Stops the main loop.\n     *\n     * Event handling and other background tasks should also be paused when the\n     * main loop is paused.\n     *\n     * Note that pausing in multiplayer/multi-user applications will cause the\n     * player's/user's client to become out of sync. In this case the\n     * simulation should exit, or the player/user needs to be snapped to their\n     * updated position when the main loop is started again.\n     *\n     * See also `MainLoop.start()` and `MainLoop.isRunning()`.\n     */\n    stop(): void {\n        this.running = false;\n        this.started = false;\n        window.cancelAnimationFrame(this.raf);\n    }\n\n    /**\n     * The main loop that runs updates and rendering.\n     * \n     * @param {DOMHighResTimeStamp} timestamp\n     * The current timestamp. In practice this is supplied by\n     * requestAnimationFrame at the time that it starts to fire callbacks. This\n     * should only be used for comparison to other timestamps because the epoch\n     * (i.e. the \"zero\" time) depends on the engine running this code. In engines\n     * that support `DOMHighResTimeStamp` (all modern browsers except iOS Safari\n     * 8) the epoch is the time the page started loading, specifically\n     * `performance.timing.navigationStart`. Everywhere else, including node.js,\n     * the epoch is the Unix epoch (1970-01-01T00:00:00Z).\n     * \n     * @ignore\n     */\n    animate(timestamp : number): void {\n        // Run the loop again the next time the browser is ready to render.\n        // We set rafHandle immediately so that the next frame can be canceled\n        // during the current frame.\n        this.raf = window.requestAnimationFrame(this.animate.bind(this));\n\n        // Throttle the frame rate (if minFrameDelay is set to a non-zero value by\n        // `MainLoop.setMaxAllowedFPS()`).\n        if (timestamp < this.lastFrameTimeMs + this.minFrameDelay) {\n            return;\n        }\n\n        // frameDelta is the cumulative amount of in-app time that hasn't been\n        // simulated yet. Add the time since the last frame. We need to track total\n        // not-yet-simulated time (as opposed to just the time elapsed since the\n        // last frame) because not all actually elapsed time is guaranteed to be\n        // simulated each frame. See the comments below for details.\n        this.frameDelta += timestamp - this.lastFrameTimeMs;\n        this.lastFrameTimeMs = timestamp;\n\n        // Run any updates that are not dependent on time in the simulation. See\n        // `MainLoop.setBegin()` for additional details on how to use this.\n        this.begin(timestamp, this.frameDelta);\n\n        // Update the estimate of the frame rate, `fps`. Approximately every\n        // second, the number of frames that occurred in that second are included\n        // in an exponential moving average of all frames per second. This means\n        // that more recent seconds affect the estimated frame rate more than older\n        // seconds.\n        if (timestamp > this.lastFpsUpdate + this.fpsUpdateInterval) {\n            // Compute the new exponential moving average.\n            this.fps =\n                // Divide the number of frames since the last FPS update by the\n                // amount of time that has passed to get the mean frames per second\n                // over that period. This is necessary because slightly more than a\n                // second has likely passed since the last update.\n                this.fpsAlpha * this.framesSinceLastFpsUpdate * 1000 / (timestamp - this.lastFpsUpdate) +\n                (1 - this.fpsAlpha) * this.fps;\n\n            // Reset the frame counter and last-updated timestamp since their\n            // latest values have now been incorporated into the FPS estimate.\n            this.lastFpsUpdate = timestamp;\n            this.framesSinceLastFpsUpdate = 0;\n        }\n        // Count the current frame in the next frames-per-second update. This\n        // happens after the previous section because the previous section\n        // calculates the frames that occur up until `timestamp`, and `timestamp`\n        // refers to a time just before the current frame was delivered.\n        this.framesSinceLastFpsUpdate++;\n\n        /*\n         * A naive way to move an object along its X-axis might be to write a main\n         * loop containing the statement `obj.x += 10;` which would move the object\n         * 10 units per frame. This approach suffers from the issue that it is\n         * dependent on the frame rate. In other words, if your application is\n         * running slowly (that is, fewer frames per second), your object will also\n         * appear to move slowly, whereas if your application is running quickly\n         * (that is, more frames per second), your object will appear to move\n         * quickly. This is undesirable, especially in multiplayer/multi-user\n         * applications.\n         *\n         * One solution is to multiply the speed by the amount of time that has\n         * passed between rendering frames. For example, if you want your object to\n         * move 600 units per second, you might write `obj.x += 600 * delta`, where\n         * `delta` is the time passed since the last frame. (For convenience, let's\n         * move this statement to an update() function that takes `delta` as a\n         * parameter.) This way, your object will move a constant distance over\n         * time. However, at low frame rates and high speeds, your object will move\n         * large distances every frame, which can cause it to do strange things\n         * such as move through walls. Additionally, we would like our program to\n         * be deterministic. That is, every time we run the application with the\n         * same input, we would like exactly the same output. If the time between\n         * frames (the `delta`) varies, our output will diverge the longer the\n         * program runs due to accumulated rounding errors, even at normal frame\n         * rates.\n         *\n         * A better solution is to separate the amount of time simulated in each\n         * update() from the amount of time between frames. Our update() function\n         * doesn't need to change; we just need to change the delta we pass to it\n         * so that each update() simulates a fixed amount of time (that is, `delta`\n         * should have the same value each time update() is called). The update()\n         * function can be run multiple times per frame if needed to simulate the\n         * total amount of time passed since the last frame. (If the time that has\n         * passed since the last frame is less than the fixed simulation time, we\n         * just won't run an update() until the the next frame. If there is\n         * unsimulated time left over that is less than our timestep, we'll just\n         * leave it to be simulated during the next frame.) This approach avoids\n         * inconsistent rounding errors and ensures that there are no giant leaps\n         * through walls between frames.\n         *\n         * That is what is done below. It introduces a new problem, but it is a\n         * manageable one: if the amount of time spent simulating is consistently\n         * longer than the amount of time between frames, the application could\n         * freeze and crash in a spiral of death. This won't happen as long as the\n         * fixed simulation time is set to a value that is high enough that\n         * update() calls usually take less time than the amount of time they're\n         * simulating. If it does start to happen anyway, see `MainLoop.setEnd()`\n         * for a discussion of ways to stop it.\n         *\n         * Additionally, see `MainLoop.setUpdate()` for a discussion of performance\n         * considerations.\n         *\n         * Further reading for those interested:\n         *\n         * - http://gameprogrammingpatterns.com/game-loop.html\n         * - http://gafferongames.com/game-physics/fix-your-timestep/\n         * - https://gamealchemist.wordpress.com/2013/03/16/thoughts-on-the-javascript-game-loop/\n         * - https://developer.mozilla.org/en-US/docs/Games/Anatomy\n         */\n        this.numUpdateSteps = 0;\n        while (this.frameDelta >= this.simulationTimestep) {\n            this.update(this.simulationTimestep);\n            this.frameDelta -= this.simulationTimestep;\n\n            /*\n             * Sanity check: bail if we run the loop too many times.\n             *\n             * One way this could happen is if update() takes longer to run than\n             * the time it simulates, thereby causing a spiral of death. For ways\n             * to avoid this, see `MainLoop.setEnd()`. Another way this could\n             * happen is if the browser throttles serving frames, which typically\n             * occurs when the tab is in the background or the device battery is\n             * low. An event outside of the main loop such as audio processing or\n             * synchronous resource reads could also cause the application to hang\n             * temporarily and accumulate not-yet-simulated time as a result.\n             *\n             * 240 is chosen because, for any sane value of simulationTimestep, 240\n             * updates will simulate at least one second, and it will simulate four\n             * seconds with the default value of simulationTimestep. (Safari\n             * notifies users that the script is taking too long to run if it takes\n             * more than five seconds.)\n             *\n             * If there are more updates to run in a frame than this, the\n             * application will appear to slow down to the user until it catches\n             * back up. In networked applications this will usually cause the user\n             * to get out of sync with their peers, but if the updates are taking\n             * this long already, they're probably already out of sync.\n             */\n            if (++this.numUpdateSteps >= 240) {\n                this.panic = true;\n                break;\n            }\n        }\n\n        /*\n         * Render the screen. We do this regardless of whether update() has run\n         * during this frame because it is possible to interpolate between updates\n         * to make the frame rate appear faster than updates are actually\n         * happening. See `MainLoop.setDraw()` for an explanation of how to do\n         * that.\n         *\n         * We draw after updating because we want the screen to reflect a state of\n         * the application that is as up-to-date as possible. (`MainLoop.start()`\n         * draws the very first frame in the application's initial state, before\n         * any updates have occurred.) Some sources speculate that rendering\n         * earlier in the requestAnimationFrame callback can get the screen painted\n         * faster; this is mostly not true, and even when it is, it's usually just\n         * a trade-off between rendering the current frame sooner and rendering the\n         * next frame later.\n         *\n         * See `MainLoop.setDraw()` for details about draw() itself.\n         */\n        this.draw(this.frameDelta / this.simulationTimestep);\n\n        // Run any updates that are not dependent on time in the simulation. See\n        // `MainLoop.setEnd()` for additional details on how to use this.\n        this.end(this.fps, this.panic);\n\n        this.panic = false;\n    }\n\n    // SUBCLASSES MUST OVERRIDE FOUR REQUIRED METHODS:\n        // begin\n        // update\n        // draw\n        // end\n\n    /**\n     * A function that runs at the beginning of the main loop.\n     *\n     * The begin() function is typically used to process input before the\n     * updates run. Processing input here (in chunks) can reduce the running\n     * time of event handlers, which is useful because long-running event\n     * handlers can sometimes delay frames.\n     *\n     * Unlike {@link #setUpdate update}(), which can run zero or more times per\n     * frame, begin() always runs exactly once per frame. This makes it useful\n     * for any updates that are not dependent on time in the simulation.\n     * Examples include adjusting HUD calculations or performing long-running\n     * updates incrementally. Compared to {@link #setEnd end}(), generally\n     * actions should occur in begin() if they affect anything that\n     * {@link #setUpdate update}() or {@link #setDraw draw}() use.\n     *\n     * @param {Function} begin\n     *   The begin() function.\n     * @param {Number} [begin.timestamp]\n     *   The current timestamp (when the frame started), in milliseconds. This\n     *   should only be used for comparison to other timestamps because the\n     *   epoch (i.e. the \"zero\" time) depends on the engine running this code.\n     *   In engines that support `DOMHighResTimeStamp` (all modern browsers\n     *   except iOS Safari 8) the epoch is the time the page started loading,\n     *   specifically `performance.timing.navigationStart`. Everywhere else,\n     *   including node.js, the epoch is the Unix epoch (1970-01-01T00:00:00Z).\n     * @param {Number} [begin.delta]\n     *   The total elapsed time that has not yet been simulated, in\n     *   milliseconds.\n     */\n    abstract begin(timestamp : number, delta : number) : void;\n\n    /**\n     * A function that runs updates (i.e. AI and physics).\n     *\n     * The update() function should simulate anything that is affected by time.\n     * It can be called zero or more times per frame depending on the frame\n     * rate.\n     *\n     * As with everything in the main loop, the running time of update()\n     * directly affects the frame rate. If update() takes long enough that the\n     * frame rate drops below the target (\"budgeted\") frame rate, parts of the\n     * update() function that do not need to execute between every frame can be\n     * moved into Web Workers. (Various sources on the internet sometimes\n     * suggest other scheduling patterns using setTimeout() or setInterval().\n     * These approaches sometimes offer modest improvements with minimal\n     * changes to existing code, but because JavaScript is single-threaded, the\n     * updates will still block rendering and drag down the frame rate. Web\n     * Workers execute in separate threads, so they free up more time in the\n     * main loop.)\n     *\n     * This script can be imported into a Web Worker using importScripts() and\n     * used to run a second main loop in the worker. Some considerations:\n     *\n     * - Profile your code before doing the work to move it into Web Workers.\n     *   It could be the rendering that is the bottleneck, in which case the\n     *   solution is to decrease the visual complexity of the scene.\n     * - It doesn't make sense to move the *entire* contents of update() into\n     *   workers unless {@link #setDraw draw}() can interpolate between frames.\n     *   The lowest-hanging fruit is background updates (like calculating\n     *   citizens' happiness in a city-building game), physics that doesn't\n     *   affect the scene (like flags waving in the wind), and anything that is\n     *   occluded or happening far off screen.\n     * - If draw() needs to interpolate physics based on activity that occurs\n     *   in a worker, the worker needs to pass the interpolation value back to\n     *   the main thread so that is is available to draw().\n     * - Web Workers can't access the state of the main thread, so they can't\n     *   directly modify objects in your scene. Moving data to and from Web\n     *   Workers is a pain. The fastest way to do it is with Transferable\n     *   Objects: basically, you can pass an ArrayBuffer to a worker,\n     *   destroying the original reference in the process.\n     *\n     * You can read more about Web Workers and Transferable Objects at\n     * [HTML5 Rocks](http://www.html5rocks.com/en/tutorials/workers/basics/).\n     *\n     * @param {Function} update\n     *   The update() function.\n     * @param {Number} [update.delta]\n     *   The amount of time in milliseconds to simulate in the update. In most\n     *   cases this timestep never changes in order to ensure deterministic\n     *   updates. The timestep is the same as that returned by\n     *   `MainLoop.getSimulationTimestep()`.\n     */\n    abstract update(timeStep : number) : void;\n\n    /**\n     * A function that draws things on the screen.\n     *\n     * The draw() function gets passed the percent of time that the next run of\n     * {@link #setUpdate update}() will simulate that has actually elapsed, as\n     * a decimal. In other words, draw() gets passed how far between update()\n     * calls it is. This is useful because the time simulated by update() and\n     * the time between draw() calls is usually different, so the parameter to\n     * draw() can be used to interpolate motion between frames to make\n     * rendering appear smoother. To illustrate, if update() advances the\n     * simulation at each vertical bar in the first row below, and draw() calls\n     * happen at each vertical bar in the second row below, then some frames\n     * will have time left over that is not yet simulated by update() when\n     * rendering occurs in draw():\n     *\n     *     update() timesteps:  |  |  |  |  |  |  |  |  |\n     *     draw() calls:        |   |   |   |   |   |   |\n     *\n     * To interpolate motion for rendering purposes, objects' state after the\n     * last update() must be retained and used to calculate an intermediate\n     * state. Note that this means renders will be up to one update() behind.\n     * This is still better than extrapolating (projecting objects' state after\n     * a future update()) which can produce bizarre results. Storing multiple\n     * states can be difficult to set up, and keep in mind that running this\n     * process takes time that could push the frame rate down, so it's often\n     * not worthwhile unless stuttering is visible.\n     *\n     * @param {Function} draw\n     *   The draw() function.\n     * @param {Number} [draw.interpolationPercentage]\n     *   The cumulative amount of time that hasn't been simulated yet, divided\n     *   by the amount of time that will be simulated the next time update()\n     *   runs. Useful for interpolating frames.\n     */\n    public abstract draw(interpolationPercentage : number) : void;\n\n    /**\n     * A function that runs at the end of the main loop.\n     *\n     * Unlike {@link #setUpdate update}(), which can run zero or more times per\n     * frame, end() always runs exactly once per frame. This makes it useful\n     * for any updates that are not dependent on time in the simulation.\n     * Examples include cleaning up any temporary state set up by\n     * {@link #setBegin begin}(), lowering the visual quality if the frame rate\n     * is too low, or performing long-running updates incrementally. Compared\n     * to begin(), generally actions should occur in end() if they use anything\n     * that update() or {@link #setDraw draw}() affect.\n     *\n     * @param {Function} end\n     *   The end() function.\n     * @param {Number} [end.fps]\n     *   The exponential moving average of the frames per second. This is the\n     *   same value returned by `MainLoop.getFPS()`. It can be used to take\n     *   action when the FPS is too low (or to restore to normalcy if the FPS\n     *   moves back up). Examples of actions to take if the FPS is too low\n     *   include exiting the application, lowering the visual quality, stopping\n     *   or reducing activities outside of the main loop like event handlers or\n     *   audio playback, performing non-critical updates less frequently, or\n     *   increasing the simulation timestep (by calling\n     *   `MainLoop.setSimulationTimestep()`). Note that this last option\n     *   results in more time being simulated per update() call, which causes\n     *   the application to behave non-deterministically.\n     * @param {Boolean} [end.panic=false]\n     *   Indicates whether the simulation has fallen too far behind real time.\n     *   Specifically, `panic` will be `true` if too many updates occurred in\n     *   one frame. In networked lockstep applications, the application should\n     *   wait for some amount of time to see if the user can catch up before\n     *   dropping the user. In networked but non-lockstep applications, this\n     *   typically indicates that the user needs to be snapped or eased to the\n     *   current authoritative state. When this happens, it may be convenient\n     *   to call `MainLoop.resetFrameDelta()` to discard accumulated pending\n     *   updates. In non-networked applications, it may be acceptable to allow\n     *   the application to keep running for awhile to see if it will catch up.\n     *   However, this could also cause the application to look like it is\n     *   running very quickly for a few frames as it transitions through the\n     *   intermediate states. An alternative that may be acceptable is to\n     *   simply ignore the unsimulated elapsed time by calling\n     *   `MainLoop.resetFrameDelta()` even though this introduces\n     *   non-deterministic behavior. In all cases, if the application panics\n     *   frequently, this is an indication that the main loop is running too\n     *   slowly. However, most of the time the drop in frame rate will probably\n     *   be noticeable before a panic occurs. To help the application catch up\n     *   after a panic caused by a spiral of death, the same steps can be taken\n     *   that are suggested above if the FPS drops too low.\n     */\n    abstract end(fps : number, panic : boolean) : void;\n}","/*\n * MathUtilities provides a number of services for rendering using 4x4 matrices, like\n * transformting (i.e. translation, rotation, and scaling) 3d or 2d points from world\n * coordinate systems to screen coordinate systems.\n */\nimport {Matrix} from './Matrix'\nimport {Vector3} from './Vector3'\n\nexport namespace MathUtilities {\n    export function determinant4x4(result : Matrix) : number {\n        let det0 = result.get(0, 0) * (\n            (result.get(1, 1) * ((result.get(2, 2) * result.get(3, 3)) - (result.get(2, 3) * result.get(3, 2))))\n            - (result.get(1, 2) * ((result.get(2, 1) * result.get(3, 3)) - (result.get(2, 3) * result.get(3, 1))))\n            + (result.get(1, 3) * ((result.get(2, 1) * result.get(3, 2)) - (result.get(3, 1) * result.get(2, 2)))));\n        let det1 = result.get(0, 1) * (\n            (result.get(1, 0) * ((result.get(2, 2) * result.get(3, 3)) - (result.get(2, 3) * result.get(3, 2))))\n            - (result.get(1, 2) * ((result.get(2, 0) * result.get(3, 3)) - (result.get(3, 0) * result.get(2, 3))))\n            + (result.get(1, 3) * ((result.get(2, 0) * result.get(3, 2)) - (result.get(3, 0) * result.get(2, 2)))));\n        let det2 = result.get(0, 2) * (\n            (result.get(1, 0) * ((result.get(2, 1) * result.get(3, 3)) - (result.get(2, 3) * result.get(3, 1))))\n            - (result.get(1, 1) * ((result.get(2, 0) * result.get(3, 3)) - (result.get(2, 3) * result.get(3, 0))))\n            + (result.get(1, 3) * ((result.get(2, 0) * result.get(3, 1)) - (result.get(2, 1) * result.get(3, 0)))));\n        let det3 = result.get(0, 3) * (\n            (result.get(1, 0) * ((result.get(2, 1) * result.get(3, 2)) - (result.get(2, 2) * result.get(3, 1))))\n            - (result.get(1, 1) * ((result.get(2, 0) * result.get(3, 2)) - (result.get(2, 2) * result.get(3, 0))))\n            + (result.get(1, 2) * ((result.get(2, 0) * result.get(3, 1)) - (result.get(2, 1) * result.get(3, 0)))));\n        let det = det0 - det1 + det2 - det3;\n        console.log(\"det = \" + det0 + \" + \" + det1 + \" + \" + det2 + \" + \" + det3);\n        return det;\n    }\n    export function identity(result : Matrix) : void {\n        if (result.getRows() === result.getColumns()) {\n            for (let i = 0; i < result.getRows(); i++) {\n                for (let j = 0; j < result.getColumns(); j++) {\n                    if (i === j)\n                        result.set(1.0, i, j);\n                    else\n                        result.set(0.0, i, j);\n                }\n            }\n        }\n    }\n    export function inverse(result : Matrix, mat : Matrix) : void {\n        let det = this.determinant(mat);\n        let m00 = mat.get(0, 0); let m01 = mat.get(0, 1); let m02 = mat.get(0, 2); let m03 = mat.get(0, 3);\n        let m10 = mat.get(1, 0); let m11 = mat.get(1, 1); let m12 = mat.get(1, 2); let m13 = mat.get(1, 3);\n        let m20 = mat.get(2, 0); let m21 = mat.get(2, 1); let m22 = mat.get(2, 2); let m23 = mat.get(2, 3);\n        let m30 = mat.get(3, 0); let m31 = mat.get(3, 1); let m32 = mat.get(3, 2); let m33 = mat.get(3, 3);\n        let temp = new Matrix(4, 4);\n        temp.set((m12 * m23 * m31) - (m13 * m22 * m31) + (m13 * m21 * m32) - (m11 * m23 * m32) - (m12 * m21 * m33) + (m11 * m22 * m33), 0, 0);\n        temp.set((m03 * m22 * m31) - (m02 * m23 * m31) - (m03 * m21 * m32) + (m01 * m23 * m32) + (m02 * m21 * m33) - (m01 * m22 * m33), 0, 1);\n        temp.set((m02 * m13 * m31) - (m03 * m12 * m31) + (m03 * m11 * m32) - (m01 * m13 * m32) - (m02 * m11 * m33) + (m01 * m12 * m33), 0, 2);\n        temp.set((m03 * m12 * m21) - (m02 * m13 * m21) - (m03 * m11 * m22) + (m01 * m13 * m22) + (m02 * m11 * m23) - (m01 * m12 * m23), 0, 3);\n        temp.set((m13 * m22 * m30) - (m12 * m23 * m30) - (m13 * m20 * m32) + (m10 * m23 * m32) + (m12 * m20 * m33) - (m10 * m22 * m33), 1, 0);\n        temp.set((m02 * m23 * m30) - (m03 * m22 * m30) + (m03 * m20 * m32) - (m00 * m23 * m32) - (m02 * m20 * m33) + (m00 * m22 * m33), 1, 1);\n        temp.set((m03 * m12 * m30) - (m02 * m13 * m30) - (m03 * m10 * m32) + (m00 * m13 * m32) + (m02 * m10 * m33) - (m00 * m12 * m33), 1, 2);\n        temp.set((m02 * m13 * m20) - (m03 * m12 * m20) + (m03 * m10 * m22) - (m00 * m13 * m22) - (m02 * m10 * m23) + (m00 * m12 * m23), 1, 3);\n        temp.set((m11 * m23 * m30) - (m13 * m21 * m30) + (m13 * m20 * m31) - (m10 * m23 * m31) - (m11 * m20 * m33) + (m10 * m21 * m33), 2, 0);\n        temp.set((m03 * m21 * m30) - (m01 * m23 * m30) - (m03 * m20 * m31) + (m00 * m23 * m31) + (m01 * m20 * m33) - (m00 * m21 * m33), 2, 1);\n        temp.set((m01 * m13 * m30) - (m03 * m11 * m30) + (m03 * m10 * m31) - (m00 * m13 * m31) - (m01 * m10 * m33) + (m00 * m11 * m33), 2, 2);\n        temp.set((m03 * m11 * m20) - (m01 * m13 * m20) - (m03 * m10 * m21) + (m00 * m13 * m21) + (m01 * m10 * m23) - (m00 * m11 * m23), 2, 3);\n        temp.set((m12 * m21 * m30) - (m11 * m22 * m30) - (m12 * m20 * m31) + (m10 * m22 * m31) + (m11 * m20 * m32) - (m10 * m21 * m32), 3, 0);\n        temp.set((m01 * m22 * m30) - (m02 * m21 * m30) + (m02 * m20 * m31) - (m00 * m22 * m31) - (m01 * m20 * m32) + (m00 * m21 * m32), 3, 1);\n        temp.set((m02 * m11 * m30) - (m01 * m12 * m30) - (m02 * m10 * m31) + (m00 * m12 * m31) + (m01 * m10 * m32) - (m00 * m11 * m32), 3, 2);\n        temp.set((m01 * m12 * m20) - (m02 * m11 * m20) + (m02 * m10 * m21) - (m00 * m12 * m21) - (m01 * m10 * m22) + (m00 * m11 * m22), 3, 3);\n        for (let i = 0; i < 4; i++) {\n            for (let j = 0; j < 4; j++) {\n                result.set(temp.get(i, j) / det, i, j);\n            }\n        }\n    }\n    export function model(result : Matrix, translation : Vector3, rotation : Vector3, scale : Vector3) : void {\n        // TRANSLATION MATRIX\t\n        let translationMatrix = new Matrix(4, 4);\n        this.identity(translationMatrix);\n        this.translate(translationMatrix, translation);\n\n        // ROTATION MATRIX\n        let rotationMatrix = new Matrix(4, 4);\n        this.identity(rotationMatrix);\n        this.rotate(rotationMatrix, rotation);\n\n        // SCALING MATRIX\n        let scaleMatrix = new Matrix(4, 4);\n        this.identity(scaleMatrix);\n        this.scale(scaleMatrix, scale);\n\n        // AND NOW MULTIPLY THEM TOGETHER IN THE CORRECT ORDER\n        let tempMatrix = new Matrix(4, 4);\n        this.multiply(tempMatrix, translationMatrix, rotationMatrix);\n        this.multiply(result, tempMatrix, scaleMatrix);\n    }\n\n    export function multiply(result : Matrix, mat0 : Matrix, mat1 : Matrix) : void {\n        // result MIGHT BE mat0 OR mat1 SO IT'S BEST IF WE\n        // CALCULATE TEMP VALUES FIRST BEFORE ASSIGNMENT\n        let r00 = (mat0.get(0, 0) * mat1.get(0, 0))\n            + (mat0.get(0, 1) * mat1.get(1, 0))\n            + (mat0.get(0, 2) * mat1.get(2, 0))\n            + (mat0.get(0, 3) * mat1.get(3, 0));\n        let r10 = (mat0.get(1, 0) * mat1.get(0, 0))\n            + (mat0.get(1, 1) * mat1.get(1, 0))\n            + (mat0.get(1, 2) * mat1.get(2, 0))\n            + (mat0.get(1, 3) * mat1.get(3, 0));\n        let r20 = (mat0.get(2, 0) * mat1.get(0, 0))\n            + (mat0.get(2, 1) * mat1.get(1, 0))\n            + (mat0.get(2, 2) * mat1.get(2, 0))\n            + (mat0.get(2, 3) * mat1.get(3, 0));\n        let r30 = (mat0.get(3, 0) * mat1.get(0, 0))\n            + (mat0.get(3, 1) * mat1.get(1, 0))\n            + (mat0.get(3, 2) * mat1.get(2, 0))\n            + (mat0.get(3, 3) * mat1.get(3, 0));\n        let r01 = (mat0.get(0, 0) * mat1.get(0, 1))\n            + (mat0.get(0, 1) * mat1.get(1, 1))\n            + (mat0.get(0, 2) * mat1.get(2, 1))\n            + (mat0.get(0, 3) * mat1.get(3, 1));\n        let r11 = (mat0.get(1, 0) * mat1.get(0, 1))\n            + (mat0.get(1, 1) * mat1.get(1, 1))\n            + (mat0.get(1, 2) * mat1.get(2, 1))\n            + (mat0.get(1, 3) * mat1.get(3, 1));\n        let r21 = (mat0.get(2, 0) * mat1.get(0, 1))\n            + (mat0.get(2, 1) * mat1.get(1, 1))\n            + (mat0.get(2, 2) * mat1.get(2, 1))\n            + (mat0.get(2, 3) * mat1.get(3, 1));\n        let r31 = (mat0.get(3, 0) * mat1.get(0, 1))\n            + (mat0.get(3, 1) * mat1.get(1, 1))\n            + (mat0.get(3, 2) * mat1.get(2, 1))\n            + (mat0.get(3, 3) * mat1.get(3, 1));\n        let r02 = (mat0.get(0, 0) * mat1.get(0, 2))\n            + (mat0.get(0, 1) * mat1.get(1, 2))\n            + (mat0.get(0, 2) * mat1.get(2, 2))\n            + (mat0.get(0, 3) * mat1.get(3, 2));\n        let r12 = (mat0.get(1, 0) * mat1.get(0, 2))\n            + (mat0.get(1, 1) * mat1.get(1, 2))\n            + (mat0.get(1, 2) * mat1.get(2, 2))\n            + (mat0.get(1, 3) * mat1.get(3, 2));\n        let r22 = (mat0.get(2, 0) * mat1.get(0, 2))\n            + (mat0.get(2, 1) * mat1.get(1, 2))\n            + (mat0.get(2, 2) * mat1.get(2, 2))\n            + (mat0.get(2, 3) * mat1.get(3, 2));\n        let r32 = (mat0.get(3, 0) * mat1.get(0, 2))\n            + (mat0.get(3, 1) * mat1.get(1, 2))\n            + (mat0.get(3, 2) * mat1.get(2, 2))\n            + (mat0.get(3, 3) * mat1.get(3, 2));\n        let r03 = (mat0.get(0, 0) * mat1.get(0, 3))\n            + (mat0.get(0, 1) * mat1.get(1, 3))\n            + (mat0.get(0, 2) * mat1.get(2, 3))\n            + (mat0.get(0, 3) * mat1.get(3, 3));\n        let r13 = (mat0.get(1, 0) * mat1.get(0, 3))\n            + (mat0.get(1, 1) * mat1.get(1, 3))\n            + (mat0.get(1, 2) * mat1.get(2, 3))\n            + (mat0.get(1, 3) * mat1.get(3, 3));\n        let r23 = (mat0.get(2, 0) * mat1.get(0, 3))\n            + (mat0.get(2, 1) * mat1.get(1, 3))\n            + (mat0.get(2, 2) * mat1.get(2, 3))\n            + (mat0.get(2, 3) * mat1.get(3, 3));\n        let r33 = (mat0.get(3, 0) * mat1.get(0, 3))\n            + (mat0.get(3, 1) * mat1.get(1, 3))\n            + (mat0.get(3, 2) * mat1.get(2, 3))\n            + (mat0.get(3, 3) * mat1.get(3, 3));\n\n        // NOW PUT ALL THE CALCULATED VALUES IN THE result MATRIX\n        result.set(r00, 0, 0);\n        result.set(r10, 1, 0);\n        result.set(r20, 2, 0);\n        result.set(r30, 3, 0);\n        result.set(r01, 0, 1);\n        result.set(r11, 1, 1);\n        result.set(r21, 2, 1);\n        result.set(r31, 3, 1);\n        result.set(r02, 0, 2);\n        result.set(r12, 1, 2);\n        result.set(r22, 2, 2);\n        result.set(r32, 3, 2);\n        result.set(r03, 0, 3);\n        result.set(r13, 1, 3);\n        result.set(r23, 2, 3);\n        result.set(r33, 3, 3);\n    }\n\n    export function projection(result : Matrix, nearZ : number, farZ : number, viewportWidth : number, viewportHeight : number, fovY : number) : void {\n        let aspectRatio = viewportWidth / viewportHeight;\n        let fieldOfViewY = this.math.degreesToRadians(fovY);\n        let fieldOfViewX = 2 * Math.atan(Math.tan(fieldOfViewY / 2) * aspectRatio);\n\n        // WE'LL USE THESE AS SHORTHAND FOR LOADING OUR MATRIX\n        let n = nearZ;\n        let f = farZ;\n        let r = Math.tan(fieldOfViewX / 2) * n;\n        let t = Math.tan(fieldOfViewY / 2) * n;\n\n        // 0-3\n        result.set(n / r, 0, 0);\n        result.set(0.0, 0, 1);\n        result.set(0.0, 0, 2);\n        result.set(0.0, 0, 3);\n        // 4-7\n        result.set(0.0, 1, 0);\n        result.set(n / t, 1, 1);\n        result.set(0.0, 1, 2);\n        result.set(0.0, 1, 3);\n        // 8-11\n        result.set(0.0, 2, 0);\n        result.set(0.0, 2, 1);\n        result.set((-(f + n)) / (f - n), 2, 2);\n        result.set((-2 * f * n) / (f - n), 2, 3);\n        // 12-15 \n        result.set(0.0, 3, 0);\n        result.set(0.0, 3, 1);\n        result.set(-1.0, 3, 2);\n        result.set(0.0, 3, 3);\n    }\n\n    export function rotate(result : Matrix, rotationVector : Vector3) : void {\n        // START WITH THE X-AXIS ROTATION\n        let xRotationMatrix = new Matrix(4, 4);\n        this.identity(xRotationMatrix);\n        let thetaX = rotationVector.getThetaX();\n        xRotationMatrix.set(Math.cos(thetaX), 1, 1);\n        xRotationMatrix.set(Math.sin(thetaX), 2, 1);\n        xRotationMatrix.set(-1 * Math.sin(thetaX), 1, 2);\n        xRotationMatrix.set(Math.cos(thetaX), 2, 2);\n\n        // START WITH THE Y-AXIS ROTATION\n        let yRotationMatrix = new Matrix(4, 4);\n        this.identity(yRotationMatrix);\n        let thetaY = rotationVector.getThetaY();\n        yRotationMatrix.set(Math.cos(thetaY), 0, 0);\n        yRotationMatrix.set(-1 * Math.sin(thetaY), 2, 0);\n        yRotationMatrix.set(Math.sin(thetaY), 0, 2);\n        yRotationMatrix.set(Math.cos(thetaY), 2, 2);\n\n        // START WITH THE Z-AXIS ROTATION\n        let zRotationMatrix = new Matrix(4, 4);\n        this.identity(zRotationMatrix);\n        let thetaZ = rotationVector.getThetaZ();\n        zRotationMatrix.set(Math.cos(thetaZ), 0, 0);\n        zRotationMatrix.set(Math.sin(thetaZ), 1, 0);\n        zRotationMatrix.set(-1 * Math.sin(thetaZ), 0, 1);\n        zRotationMatrix.set(Math.cos(thetaZ), 1, 1);\n\n        // START WITH THE X-AXIS ROTATION\n        let tempMatrix = new Matrix(4, 4);\n        this.identity(tempMatrix);\n        this.multiply(tempMatrix, xRotationMatrix, yRotationMatrix);\n        this.multiply(result, tempMatrix, zRotationMatrix);\n    }\n\n    export function scale(result : Matrix, scaleVector : Vector3) : void {\n        // START WITH THE IDENTITY MATRIX\n        this.identity(result, scaleVector);\n\n        // AND THEN LOAD IN THE TRANSLATION VALUES\n        result.set(scaleVector.getX(), 0, 0);\n        result.set(scaleVector.getY(), 1, 1);\n        result.set(scaleVector.getZ(), 2, 2);\n    }\n\n    export function transform(result : Vector3, mat : Matrix, vec : Vector3) : void {\n        result.setX((mat.get(0, 0) * vec.getX()) + (mat.get(0, 1) * vec.getY()) + (mat.get(0, 2) * vec.getZ()) + (mat.get(0, 3) * vec.getW()));\n        result.setY((mat.get(1, 0) * vec.getX()) + (mat.get(1, 1) * vec.getY()) + (mat.get(1, 2) * vec.getZ()) + (mat.get(1, 3) * vec.getW()));\n        result.setZ((mat.get(2, 0) * vec.getX()) + (mat.get(2, 1) * vec.getY()) + (mat.get(2, 2) * vec.getZ()) + (mat.get(2, 3) * vec.getW()));\n        result.setW((mat.get(3, 0) * vec.getX()) + (mat.get(3, 1) * vec.getY()) + (mat.get(3, 2) * vec.getZ()) + (mat.get(3, 3) * vec.getW()));\n    }\n\n    export function translate(result : Matrix, translationVector : Vector3) : void {\n        // START WITH THE IDENTITY MATRIX\n        this.identity(result);\n\n        // AND THEN LOAD IN THE TRANSLATION VALUES\n        result.set(translationVector.getX(), 0, 3);\n        result.set(translationVector.getY(), 1, 3);\n        result.set(translationVector.getZ(), 2, 3);\n    }\n\n    export function transpose(result : Matrix, mat : Matrix) : void {\n        for (let i = 0; i < 4; i++) {\n            for (let j = 0; j < 4; j++) {\n                let temp = mat.get(i, j);\n                result.set(temp, j, i);\n            }\n        }\n    }\n\n    export function view(result : Matrix, cameraPosition : Vector3, cameraOrientation : Vector3) : void {\n        let pitch = this.math.degreesToRadians(cameraOrientation.getThetaX());\n        let yaw = this.math.degreesToRadians(cameraOrientation.getThetaY());\n        let roll = this.math.degreesToRadians(cameraOrientation.getThetaZ());\n\n        // TO TRANSLATE\n        let translateVector = this.math.vectorMath.createPositionVector();\n        translateVector.set(-cameraPosition.getX(), -cameraPosition.getY(), -cameraPosition.getZ());\n        let translateMatrix = new Matrix(4, 4);\n        this.identity(translateMatrix);\n        this.translate(translateMatrix, translateVector);\n\n        // TO ROTATE\n        let rotateVector = this.math.vectorMath.createRotationVector();\n        rotateVector.set(-pitch, -yaw, -roll);\n        let rotateMatrix = new Matrix(4, 4);\n        this.rotate(rotateMatrix, rotateVector);\n\n        // NOW COMBINE THE 2 MATRICES\n        this.multiply(result, rotateMatrix, translateMatrix);\n    }\n\n    export function addVectors(result : Vector3, vec0 : Vector3, vec1 : Vector3) : void {\n        for (let i = 0; i < vec0.getSize(); i++) {\n            let total = vec0.getAt(i) + vec1.getAt(i);\n            result.setAt(i, total);\n        }\n    }\n\n    export function crossProduct(result : Vector3, vec0 : Vector3, vec1 : Vector3) : void {\n        let result0 = (vec0.getY() * vec1.getZ())\n            - (vec1.getY() * vec0.getZ());\n        let result1 = (vec0.getZ() * vec1.getX())\n            - (vec1.getZ() * vec0.getX());\n        let result2 = (vec0.getX() * vec1.getY())\n            - (vec1.getX() * vec0.getY());\n        result.setX(result0);\n        result.setY(result1);\n        result.setZ(result2);\n    }\n\n    export function dotProduct(vec0 : Vector3, vec1 : Vector3) : number {\n        let resultX = vec0.getX() * vec1.getX();\n        let resultY = vec0.getY() * vec1.getY();\n        let resultZ = vec0.getZ() * vec1.getZ();\n        return resultX + resultY + resultZ;\n    }\n\n    export function multiplyVectors(result : Vector3, vec : Vector3, scalar : number) : void {\n        let vecX = vec.getX() * scalar;\n        let vecY = vec.getY() * scalar;\n        let vecZ = vec.getZ() * scalar;\n        result.setX(vecX);\n        result.setY(vecY);\n        result.setZ(vecZ);\n    }\n\n    export function normalize(result : Vector3, vec : Vector3) : void {\n        let xSquared = vec.getX() * vec.getX();\n        let ySquared = vec.getY() * vec.getY();\n        let zSquared = vec.getZ() * vec.getZ();\n        let distance = Math.sqrt(xSquared + ySquared + zSquared);\n        result.setX(vec.getX() / distance);\n        result.setY(vec.getY() / distance);\n        result.setZ(vec.getZ() / distance);\n    }\n\n    export function subtractVectors(result : Vector3, vec0 : Vector3, vec1 : Vector3) : void {\n        let resultX = vec0.getX() - vec1.getX();\n        let resultY = vec0.getY() - vec1.getY();\n        let resultZ = vec0.getZ() - vec1.getZ();\n        result.setX(resultX);\n        result.setY(resultY);\n        result.setZ(resultZ);\n    }\n}","/*\n * A Matrix is used for transforming points from local\n * coordinates to world coordinates.\n */\nexport class Matrix {\n    private mat : Float32Array;\n    private rows : number;\n    private columns : number;\n\n    public constructor(rows : number, columns : number) {\n        this.rows = rows;\n        this.columns = columns;\n        this.mat = new Float32Array(rows * columns);\n        for (let i = 0; i < (rows * columns); i++)\n            this.mat[i] = 0.0;\n    }\n\n    public getData() : Float32Array {\n        return this.mat;\n    }\n\n    public getRows() : number {\n        return this.rows;\n    }\n\n    public getColumns() : number {\n        return this.columns;\n    }\n\n    public getIndex (rows : number, columns : number) : number {\n        return (this.rows * columns) + rows;\n    }\n    \n    public get (row : number, column : number) : number {\n        let index = this.getIndex(row, column);\n        let valueToReturn = this.mat[index];\n        return valueToReturn;\n    }\n\n    public set (value : number, row : number, column : number) {\n        let index = this.getIndex(row, column);\n        this.mat[index] = value;\n    }\n    \n    public print () : void {\n        let maxWidth = 0;\n        for (let i = 0; i < 4; i++) {\n            for (let j = 0; j < 4; j++) {\n                let testNum = this.get(j, i) + \"\";\n                if (testNum.length > maxWidth) {\n                    maxWidth = testNum.length;\n                }\n            }\n        }\n        let text = \"[ \";\n        for (let i = 0; i < this.rows; i++) {\n            if (i > 0)\n                text += \"  \";\n            for (var j = 0; j < this.columns; j++) {\n                var numText = this.get(i, j) + \"\";\n                while (numText.length < maxWidth) {\n                    numText = \" \" + numText;\n                }\n                text += numText;\n                if (j < (this.columns - 1)) {\n                    text += \",\";\n                }\n                text += \" \";\n            }\n            if (i < (this.rows - 1)) {\n                text += \"\\n\";\n            }\n            text += \"]\";\n            console.log(text);\n        }\n    }\n}","/**\n * Vector3\n * \n * The Vector3 class can be used for any 2d or 3d point, vector, \n * or rotation (i.e. angles of orientation).\n */\nexport class Vector3 {\n    private vec : Float32Array;\n    private size : number;\n\n    public constructor() {\n        this.vec = new Float32Array(4);\n        for (let i = 0; i < 4; i++)\n            this.vec[i] = 0.0;\n        this.size = 4;\n    }\n\n    public getSize() : number {\n        return this.size;\n    }\n\n    public getAt(index : number) : number {\n        return this.vec[index];\n    }\n\n    public getX() : number {\n        return this.vec[0];\n    }\n\n    public getY() : number {\n        return this.vec[1];\n    }\n\n    public getZ() : number {\n        return this.vec[2];\n    }\n\n    public getW() : number {\n        return this.vec[3];\n    }\n\n    public getThetaX() : number {\n        return this.vec[0];\n    }\n\n    public getThetaY() : number {\n        return this.vec[1];\n    }\n\n    public getThetaZ() : number {\n        return this.vec[2];\n    }\n\n    public set(init0 : number, init1 : number, init2 : number, init3 : number) : void {\n        this.vec[0] = init0;\n        this.vec[1] = init1;\n        this.vec[2] = init2;\n        this.vec[3] = init3;\n    }\n\n    public setAt(index : number, value : number) : void {\n        this.vec[index] = value;\n    }\n\n    public setX(initX : number) : void {\n        this.vec[0] = initX;\n    }\n\n    public setY(initY : number) : void {\n        this.vec[1] = initY;\n    }\n\n    public setZ(initZ : number) : void {\n        this.vec[2] = initZ;\n    }\n\n    public setW(initW : number) : void {\n        this.vec[3] = initW;\n    }\n\n    public setThetaX(initThetaX : number) : void {\n        this.setX(initThetaX);\n    }\n\n    public setThetaY(initThetaY : number) : void {\n        this.setY(initThetaY);\n    }\n\n    public setThetaZ(initThetaZ : number) : void {\n        this.setZ(initThetaZ);\n    }\n\n    public print() : void {\n        let text = \"[\";\n        for (let i = 0; i < this.size; i++) {\n            text += this.vec[i];\n            if (i < (this.size - 1)) {\n                text += \", \";\n            }\n        }\n        text += \"]\";\n        console.log(text);\n    }\n\n    public getData() : Float32List {\n        return this.vec;\n    }\n\n}","/*\n * This class renders text to a canvas, updated each frame.\n */\nimport {HashTable} from '../data/HashTable'\n\nexport class TextToRender {\n    public id : string;\n    public text : string;\n    public x : number;\n    public y : number;\n    public update : Function;\n    public fontFamily : string;\n    public fontSize : number;\n    public fontColor : string;\n    public properties : HashTable<object>;\n\n    public constructor(initId : string, initText : string, initX : number, initY : number, initUpdate : Function) {\n        this.id = initId;\n        this.text = initText;\n        this.x = initX;\n        this.y = initY;\n        this.update = initUpdate;\n        this.fontFamily = \"\";\n        this.fontSize = 0;\n        this.fontColor = \"\";\n        this.properties = {};\n    }\n}\n\nexport class TextRenderer {\n    private textToRender : Array<TextToRender>;\n    private textCanvas : HTMLCanvasElement;\n    private textCanvasWidth : number;\n    private textCanvasHeight : number;\n    private textCtx : CanvasRenderingContext2D;\n    private defaultFontFamily : string;\n    private defaultFontSize : number;\n    private defaultFontColor : string;\n\n    public constructor(textCanvasId : string, initFontFamily : string, initFontSize : number, initFontColor : string) {\n        this.textToRender = new Array();\n        this.textCanvas = <HTMLCanvasElement>document.getElementById(textCanvasId);\n        this.textCanvas.width = window.innerWidth;\n        this.textCanvas.height = window.innerHeight;\n        this.textCanvasWidth = this.textCanvas.width;\n        this.textCanvasHeight = this.textCanvas.height;\n        this.textCtx = this.textCanvas.getContext(\"2d\");\n        this.defaultFontFamily = initFontFamily;\n        this.defaultFontSize = initFontSize;\n        this.defaultFontColor = initFontColor;\n    }\n    \n    public addTextToRender(textToAdd : TextToRender) : void {\n        textToAdd.fontFamily = this.defaultFontFamily;\n        textToAdd.fontSize = this.defaultFontSize;\n        textToAdd.fontColor = this.defaultFontColor;\n        this.textToRender.push(textToAdd);\n    }\n\n    public clear() : void {\n        this.textToRender = [];\n    }\n\n    public getCanvasWidth() : number {\n        return this.textCanvasWidth;\n    }\n\n    public getCanvasHeight() : number {\n        return this.textCanvasHeight;\n    }\n\n    public render() : void {\n        this.textCtx.clearRect(0, 0, this.textCanvas.width, this.textCanvas.height);\n        for (var i = 0; i < this.textToRender.length; i++) {\n            var textToRender = this.textToRender[i];\n            textToRender.update();\n            this.textCtx.font = \"\" + textToRender.fontSize + \"px \" + textToRender.fontFamily;\n            this.textCtx.fillStyle = textToRender.fontColor;\n            this.textCtx.fillText(textToRender.text, textToRender.x, textToRender.y);\n        }\n    }\n}","import {WebGLGameShader} from './WebGLGameShader'\nimport {MathUtilities} from '../math/MathUtilities'\nimport { Matrix } from '../math/Matrix'\nimport { Vector3 } from '../math/Vector3'\nimport {AnimatedSprite} from '../scene/sprite/AnimatedSprite'\nimport {AnimatedSpriteType} from '../scene/sprite/AnimatedSpriteType'\nimport {WebGLGameTexture} from './WebGLGameTexture'\nimport {HashTable} from '../data/HashTable'\nimport { GradientCircleSprite } from '../scene/sprite/GradientCircleSprite'\nimport { GradientCircleSpriteType } from '../scene/sprite/GradientCircleSpriteType'\n\nvar SpriteDefaults = {\n    A_POSITION: \"a_Position\",\n    A_VALUETOINTERPOLATE: \"a_ValueToInterpolate\",\n    U_SPRITE_TRANSFORM: \"u_SpriteTransform\",\n    U_COLOR: \"u_Color\",\n    NUM_VERTICES: 4,\n    FLOATS_PER_VERTEX: 2,\n    FLOATS_PER_TEXTURE_COORDINATE: 2,\n    TOTAL_BYTES: 16,\n    VERTEX_POSITION_OFFSET: 0,\n    TEXTURE_COORDINATE_OFFSET: 8,\n    INDEX_OF_FIRST_VERTEX: 0\n};\n\nexport class WebGLGameGradientCircleRenderer {\n    private shader : WebGLGameShader;\n    private vertexTexCoordBuffer : WebGLBuffer;\n\n    // WE'LL USE THESE FOR TRANSOFMRING OBJECTS WHEN WE DRAW THEM\n    private spriteTransform : Matrix;\n    private spriteTranslate : Vector3;\n    private spriteRotate : Vector3;\n    private spriteScale : Vector3;    \n\n    private webGLAttributeLocations : HashTable<GLuint>;\n    private webGLUniformLocations : HashTable<WebGLUniformLocation>;\n\n    public constructor() {}\n    \n    public init(webGL : WebGLRenderingContext) : void {\n        this.shader = new WebGLGameShader();\n        var vertexShaderSource =\n            'attribute vec4 ' + SpriteDefaults.A_POSITION + ';\\n' +\n            'attribute vec2 ' + SpriteDefaults.A_VALUETOINTERPOLATE + ';\\n' +\n            'varying vec2 val;\\n' +\n            'uniform mat4 '+ SpriteDefaults.U_SPRITE_TRANSFORM+';\\n' +\n            'void main() {\\n' +\n            '  val = a_ValueToInterpolate;\\n' +\n            '  gl_Position = ' + SpriteDefaults.U_SPRITE_TRANSFORM + ' * ' + SpriteDefaults.A_POSITION + ';\\n' +\n            '}\\n';\n        var fragmentShaderSource =\n            '#ifdef GL_ES\\n' +\n            'precision mediump float;\\n' +\n            '#endif\\n' +\n            'varying vec2 val;\\n' +\n            'uniform vec4 u_Color;\\n' +\n            'void main() {\\n' +\n            '  float R = 0.5;\\n' +\n            '  float dist = sqrt(dot(val, val));\\n' +\n            '  float alpha = 1.0;\\n' +\n            '  if(dist > R){\\n' +\n            '      discard;\\n' +\n            '  }\\n' +\n            '  gl_FragColor = vec4(u_Color.x * dist, u_Color.y * dist, u_Color.z * dist, 1.0);\\n' +\n            '}\\n';\n\n        this.shader.init(webGL, vertexShaderSource, fragmentShaderSource);\n\n        // GET THE webGL OBJECT TO USE\n        var verticesTexCoords = new Float32Array([\n            -0.5,  0.5, 0.0, 0.0,\n            -0.5, -0.5, 0.0, 1.0,\n             0.5,  0.5, 1.0, 0.0,\n             0.5, -0.5, 1.0, 1.0\n        ]);\n\n        // CREATE THE BUFFER ON THE GPU\n        this.vertexTexCoordBuffer = webGL.createBuffer();\n\n        // BIND THE BUFFER TO BE VERTEX DATA\n        webGL.bindBuffer(webGL.ARRAY_BUFFER, this.vertexTexCoordBuffer);\n\n        // AND SEND THE DATA TO THE BUFFER WE CREATED ON THE GPU\n        webGL.bufferData(webGL.ARRAY_BUFFER, verticesTexCoords, webGL.STATIC_DRAW);\n\n        // SETUP THE SHADER ATTRIBUTES AND UNIFORMS\n        this.webGLAttributeLocations = {};\n        this.webGLUniformLocations = {};\n        this.loadAttributeLocations(webGL, [SpriteDefaults.A_POSITION, SpriteDefaults.A_VALUETOINTERPOLATE]);\n        this.loadUniformLocations(webGL, [SpriteDefaults.U_SPRITE_TRANSFORM, SpriteDefaults.U_COLOR]);\n\n        // WE'LL USE THESE FOR TRANSOFMRING OBJECTS WHEN WE DRAW THEM\n        this.spriteTransform = new Matrix(4, 4);\n        this.spriteTranslate = new Vector3();\n        this.spriteRotate = new Vector3();\n        this.spriteScale = new Vector3();\n\n    }\n\n    public renderGradientCircleSprites(  webGL : WebGLRenderingContext, \n                            canvasWidth : number, \n                            canvasHeight : number, \n                            visibleSet : Array<GradientCircleSprite>) : void {\n        // SELECT THE ANIMATED SPRITE RENDERING SHADER PROGRAM FOR USE\n        let shaderProgramToUse = this.shader.getProgram();\n        webGL.useProgram(shaderProgramToUse);\n\n       // AND THEN RENDER EACH ONE\n       for (let sprite of visibleSet) {\n            this.renderGradientCircle(webGL, canvasWidth, canvasHeight, sprite);        \n        }\n    }\n\n    private loadAttributeLocations(webGL : WebGLRenderingContext, attributeLocationNames : Array<string>) {\n        for (var i = 0; i < attributeLocationNames.length; i++) {\n            let locationName : string = attributeLocationNames[i];\n            let location : GLuint = webGL.getAttribLocation(this.shader.getProgram(), locationName);\n            this.webGLAttributeLocations[locationName] = location;\n        }\n    }\n\n    private loadUniformLocations(webGL : WebGLRenderingContext, uniformLocationNames : Array<string>) {\n        for (let i : number = 0; i < uniformLocationNames.length; i++) {\n            let locationName : string = uniformLocationNames[i];\n            let location : WebGLUniformLocation = webGL.getUniformLocation(this.shader.getProgram(), locationName);\n            this.webGLUniformLocations[locationName] = location;\n        }\n    }\n\n    private renderGradientCircle(   webGL : WebGLRenderingContext, \n                            canvasWidth : number, \n                            canvasHeight : number, \n                            sprite : GradientCircleSprite) {\n        let spriteType : GradientCircleSpriteType = sprite.getSpriteType();\n\n        // CALCULATE HOW MUCH TO TRANSLATE THE QUAD PER THE SPRITE POSITION\n        let spriteWidth : number = spriteType.getSpriteWidth();\n        let spriteHeight : number = spriteType.getSpriteHeight();\n        let spriteXInPixels : number = sprite.getPosition().getX() + (spriteWidth/2);\n        let spriteYInPixels : number = sprite.getPosition().getY() + (spriteHeight/2);\n        let spriteXTranslate : number = (spriteXInPixels - (canvasWidth/2))/(canvasWidth/2);\n        let spriteYTranslate : number = (spriteYInPixels - (canvasHeight/2))/(canvasHeight/2);\n        this.spriteTranslate.setX(spriteXTranslate);\n        this.spriteTranslate.setY(-spriteYTranslate);\n\n        let spriteColor : Vector3 = sprite.getSpriteColor();\n\n        // CALCULATE HOW MUCH TO SCALE THE QUAD PER THE SPRITE SIZE\n        let defaultWidth : number = canvasWidth/2;\n        let defaultHeight : number = canvasHeight/2;\n        let scaleX : number = spriteWidth/defaultWidth;\n        let scaleY : number = spriteHeight/defaultHeight;\n        this.spriteScale.setX(scaleX);\n        this.spriteScale.setY(scaleY);\n\n        // @todo - COMBINE THIS WITH THE ROTATE AND SCALE VALUES FROM THE SPRITE\n        MathUtilities.identity(this.spriteTransform);\n        MathUtilities.model(this.spriteTransform, this.spriteTranslate, this.spriteRotate, this.spriteScale);\n        \n\n\n        // HOOK UP THE ATTRIBUTES\n        let a_PositionLocation : GLuint = this.webGLAttributeLocations[SpriteDefaults.A_POSITION];\n        webGL.vertexAttribPointer(a_PositionLocation, SpriteDefaults.FLOATS_PER_TEXTURE_COORDINATE, webGL.FLOAT, false, SpriteDefaults.TOTAL_BYTES, SpriteDefaults.VERTEX_POSITION_OFFSET);\n        webGL.enableVertexAttribArray(a_PositionLocation);\n\n        let a_ValueToInterpolate : GLuint = this.webGLAttributeLocations[SpriteDefaults.A_VALUETOINTERPOLATE];\n        webGL.vertexAttribPointer(a_ValueToInterpolate, SpriteDefaults.FLOATS_PER_TEXTURE_COORDINATE, webGL.FLOAT, false, SpriteDefaults.TOTAL_BYTES, SpriteDefaults.VERTEX_POSITION_OFFSET);\n        webGL.enableVertexAttribArray(a_ValueToInterpolate);\n\n        // USE THE UNIFORMS\n        let u_SpriteTransformLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_SPRITE_TRANSFORM];\n        webGL.uniformMatrix4fv(u_SpriteTransformLocation, false, this.spriteTransform.getData());\n\n        let u_ColorLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_COLOR];\n        webGL.uniform4f(u_ColorLocation, spriteColor.getX(), spriteColor.getY(), spriteColor.getZ() ,1);\n\n\n        // DRAW THE SPRITE AS A TRIANGLE STRIP USING 4 VERTICES, STARTING AT THE START OF THE ARRAY (index 0)\n        webGL.drawArrays(webGL.TRIANGLE_STRIP, SpriteDefaults.INDEX_OF_FIRST_VERTEX, SpriteDefaults.NUM_VERTICES);\n    }\n}","/*\n * This serves as the subsystem that manages all game rendering.\n */\nimport {TextRenderer} from './TextRenderer'\nimport {WebGLGameSpriteRenderer} from './WebGLGameSpriteRenderer'\nimport {WebGLGameGradientCircleRenderer} from './WebGLGameGradientCircleRenderer'\nimport {AnimatedSprite} from '../scene/sprite/AnimatedSprite'\nimport {WebGLGameTexture } from './WebGLGameTexture';\nimport { GradientCircleSprite } from '../scene/sprite/GradientCircleSprite';\n\nexport class WebGLGameRenderingSystem {\n    private renderingCanvas : HTMLCanvasElement;\n    private webGL : WebGLRenderingContext;\n    private spriteRenderer : WebGLGameSpriteRenderer;\n    private circleRenderer : WebGLGameGradientCircleRenderer;\n    private textRenderer : TextRenderer;\n    private canvasWidth : number;\n    private canvasHeight : number;\n\n    public constructor() {}\n\n    public getTextureConstant(id : number) : number {\n        // WE ONLY HAVE 4 HERE, WE SHOULD HAVE A BETTER WAY OF DOING THIS\n        switch(id) {\n            case 0: return this.webGL.TEXTURE0;\n            case 1: return this.webGL.TEXTURE1;\n            case 2: return this.webGL.TEXTURE3;\n            default: return this.webGL.TEXTURE4;\n        }\n    }\n\n    public getWebGL() : WebGLRenderingContext {\n        return this.webGL;\n    }\n\n    public getSpriteRenderer() : WebGLGameSpriteRenderer {\n        return this.spriteRenderer;\n    }\n\n    public getGradientCircleRenderer() : WebGLGameGradientCircleRenderer {\n        return this.circleRenderer;\n    }\n\n\n    public getTextRenderer() : TextRenderer {\n        return this.textRenderer;\n    }\n\n    public init(renderingCanvasId : string, textCanvasId : string) : void {\n        // FIRST SETUP webGL\n        this.renderingCanvas = <HTMLCanvasElement>document.getElementById(renderingCanvasId);\n        this.renderingCanvas.width = window.innerWidth;\n        this.renderingCanvas.height = window.innerHeight;\n        this.canvasWidth = this.renderingCanvas.width;\n        this.canvasHeight = this.renderingCanvas.height;\n        this.webGL = this.renderingCanvas.getContext(\"webgl\");\n\n        // IF THE USER'S MACHINE/BROWSER DOESN'T SUPPORT\n        // WebGL THEN THERE'S NO POINT OF GOING ON\n        if (!this.webGL) {\n            // PROVIDE SOME FEEDBACK THAT WebGL WON'T WORK BECAUSE\n            // THE USER'S' GRAPHICS CARD IS FOR THE BIRDS\n            console.error(\"WebGL is not supported by this device\");\n\n            // AND END INITIALIZATION\n            return;\n        }\n\n        // WebGL IS SUPPORTED, SO INIT EVERYTHING THAT USES IT\n\n        // MAKE THE CLEAR COLOR BLACK\n        this.setClearColor(0.0, 0.0, 0.0, 1.0);\n\n        // ENABLE DEPTH TESTING\n        this.webGL.disable(this.webGL.DEPTH_TEST);\n        this.webGL.enable(this.webGL.BLEND);\n        this.webGL.blendFunc(this.webGL.SRC_ALPHA, this.webGL.ONE_MINUS_SRC_ALPHA);\n\n        // TURN ON BACKFACE CULLING\n        this.webGL.enable(this.webGL.CULL_FACE);\n\n        // THIS SPECIFIES THAT WE'RE USING THE ENTIRE CANVAS\n        this.webGL.viewport(0, 0, this.canvasWidth, this.canvasHeight);\n\n        // NOW MAKE THE SHADER FOR DRAWING THIS THING\n        this.spriteRenderer = new WebGLGameSpriteRenderer();\n        this.spriteRenderer.init(this.webGL);\n\n        // THIS WILL STORE OUR TEXT\n        this.textRenderer = new TextRenderer(textCanvasId, \"serif\", 18, \"#FFFF00\");\n\n        // Gradient Circle Shader\n        this.circleRenderer = new WebGLGameGradientCircleRenderer();\n        this.circleRenderer.init(this.webGL);\n\n    }\n\n    public initWebGLTexture(textureToInit : WebGLGameTexture, textureId : number, image : HTMLImageElement, callback : Function) : void {\n        textureToInit.width = image.width;\n        textureToInit.height = image.height;\n\n        // CREATE A WebGL TEXTURE ON THE GPU\n        textureToInit.webGLTexture = this.webGL.createTexture();\n        textureToInit.webGLTextureId = textureId;\n\n        // FLIP THE IMAGE'S y-AXIS\n        //webGL.pixelStorei(webGL.UNPACK_FLIP_Y_WEBGL, 1);\n\n        // ACTIVATE THE WebGL TEXTURE ON THE GPU\n        //let textureNumName : string = \"TEXTURE\" + textureId;\n        let textureNameConstant : number = this.getTextureConstant(textureId);\n        this.webGL.activeTexture(textureNameConstant);\n\n        // BIND THE TEXTURE TO A 2D TYPE\n        this.webGL.bindTexture(this.webGL.TEXTURE_2D, textureToInit.webGLTexture);\n\n        // SPECIFY RENDERING SETTINGS\n        this.webGL.texParameteri(this.webGL.TEXTURE_2D, this.webGL.TEXTURE_MIN_FILTER, this.webGL.LINEAR);\n\n        // SET THE IMAGE FOR THE TEXTURE\n        this.webGL.texImage2D(this.webGL.TEXTURE_2D, 0, this.webGL.RGBA, this.webGL.RGBA, this.webGL.UNSIGNED_BYTE, image);\n\n        // KEEP IT FOR WHEN WE RENDER\n        callback();\n    }\n\n    public setClearColor(r : number, g : number, b : number, a : number) : void {\n        this.webGL.clearColor(r, g, b, a);\n    }\n\n    public render(visibleSprites : Array<AnimatedSprite>, visibleCircles : Array<GradientCircleSprite>) : void { \n        // CLEAR THE CANVAS\n        this.webGL.clear(this.webGL.COLOR_BUFFER_BIT | this.webGL.DEPTH_BUFFER_BIT);\n        \n        // RENDER THE SPRITES ON ONE CANVAS\n        this.spriteRenderer.renderAnimatedSprites(this.webGL, this.canvasWidth, this.canvasHeight, visibleSprites);\n        \n        // Render Gradient Circles on canvas\n        this.circleRenderer.renderGradientCircleSprites(this.webGL, this.canvasWidth, this.canvasHeight, visibleCircles);\n\n        // THEN THE TEXT ON ANOTHER OVERLAPPING CANVAS\n        this.textRenderer.render();\n    }\n}","/*\n * This is a wrapper class for a WebGLProgram, i.e. a shader for custom rendering\n * using WebGL's programmable pipeline.\n */\nexport class WebGLGameShader {\n    private program : WebGLProgram;\n    private vertexShader : WebGLShader;\n    private fragmentShader : WebGLShader;\n\n    public constructor() {}\n\n    public getProgram() : WebGLProgram {\n        return this.program;\n    }\n\n    public init(webGL : WebGLRenderingContext, vSource : string, fSource : string) : void {\n        this.vertexShader = <WebGLShader>this.createShader(webGL, webGL.VERTEX_SHADER, vSource);\n        this.fragmentShader = <WebGLShader>this.createShader(webGL, webGL.FRAGMENT_SHADER, fSource);\n        this.program = this.createShaderProgram(webGL, this.vertexShader, this.fragmentShader);\n    }\n\n    public createShader(webGL : WebGLRenderingContext, type : number, source : string) : WebGLShader {\n        // MAKE A NEW SHADER OBJECT, LOAD IT'S SOURCE, AND COMPILE IT\n        var shader = webGL.createShader(type);\n        webGL.shaderSource(shader, source);\n        webGL.compileShader(shader);\n\n        // DID IT COMPILE?\n        var success = webGL.getShaderParameter(shader, webGL.COMPILE_STATUS);\n        if (success) {\n            return shader;\n        }\n\n        // DISASTER\n        console.log(webGL.getShaderInfoLog(shader));\n        webGL.deleteShader(shader);\n        return null;\n    }\n\n    public createShaderProgram(webGL : WebGLRenderingContext, vShader : WebGLShader, fShader : WebGLShader) : WebGLProgram {\n        // MAKE THE GLSL SHADER PROGRAM\n        let programToCreate = webGL.createProgram();\n\n        // LINK THE VERT AND FRAG\n        webGL.attachShader(programToCreate, vShader);\n        webGL.attachShader(programToCreate, fShader);\n\n        // NOW WE CAN LINK THE SHADER PROGRAM\n        webGL.linkProgram(programToCreate);\n        let linked : boolean = webGL.getProgramParameter(programToCreate, webGL.LINK_STATUS);\n\n        // IS IT LINKED?\n        if (!linked) {\n            // DISASTER\n            let errorFeedback : string = webGL.getProgramInfoLog(programToCreate);\n            console.log(errorFeedback);\n\n            // DISASTER\n            console.log(webGL.getProgramInfoLog(programToCreate));\n            webGL.deleteProgram(programToCreate);\n        }\n        return programToCreate;\n    }\n}","import {WebGLGameShader} from './WebGLGameShader'\nimport {MathUtilities} from '../math/MathUtilities'\nimport { Matrix } from '../math/Matrix'\nimport { Vector3 } from '../math/Vector3'\nimport {AnimatedSprite} from '../scene/sprite/AnimatedSprite'\nimport {AnimatedSpriteType} from '../scene/sprite/AnimatedSpriteType'\nimport {WebGLGameTexture} from './WebGLGameTexture'\nimport {HashTable} from '../data/HashTable'\n\nvar SpriteDefaults = {\n    A_POSITION: \"a_Position\",\n    A_TEX_COORD: \"a_TexCoord\",\n    U_SPRITE_TRANSFORM: \"u_SpriteTransform\",\n    U_TEX_COORD_FACTOR: \"u_TexCoordFactor\",\n    U_TEX_COORD_SHIFT: \"u_TexCoordShift\",\n    U_SAMPLER: \"u_Sampler\",\n    NUM_VERTICES: 4,\n    FLOATS_PER_VERTEX: 2,\n    FLOATS_PER_TEXTURE_COORDINATE: 2,\n    TOTAL_BYTES: 16,\n    VERTEX_POSITION_OFFSET: 0,\n    TEXTURE_COORDINATE_OFFSET: 8,\n    INDEX_OF_FIRST_VERTEX: 0\n};\n\nexport class WebGLGameSpriteRenderer {\n    private shader : WebGLGameShader;\n    private vertexTexCoordBuffer : WebGLBuffer;\n\n    // WE'LL USE THESE FOR TRANSOFMRING OBJECTS WHEN WE DRAW THEM\n    private spriteTransform : Matrix;\n    private spriteTranslate : Vector3;\n    private spriteRotate : Vector3;\n    private spriteScale : Vector3;    \n\n    private webGLAttributeLocations : HashTable<GLuint>;\n    private webGLUniformLocations : HashTable<WebGLUniformLocation>;\n\n    public constructor() {}\n    \n    public init(webGL : WebGLRenderingContext) : void {\n        this.shader = new WebGLGameShader();\n        var vertexShaderSource =\n            'uniform mat4 ' + SpriteDefaults.U_SPRITE_TRANSFORM + ';\\n' +\n            'uniform vec2 ' + SpriteDefaults.U_TEX_COORD_FACTOR + ';\\n' +\n            'uniform vec2 ' + SpriteDefaults.U_TEX_COORD_SHIFT + ';\\n' +\n            'attribute vec4 ' + SpriteDefaults.A_POSITION + ';\\n' +\n            'attribute vec2 ' + SpriteDefaults.A_TEX_COORD + ';\\n' +\n            'varying vec2 v_TexCoord;\\n' +\n            'void main() {\\n' +\n            '  gl_Position = ' + SpriteDefaults.U_SPRITE_TRANSFORM + ' * ' + SpriteDefaults.A_POSITION + ';\\n' +\n            '  vec2 tempTexCoord = ' + SpriteDefaults.A_TEX_COORD + ' * ' + SpriteDefaults.U_TEX_COORD_FACTOR + ';\\n' +\n            '  v_TexCoord = tempTexCoord + ' + SpriteDefaults.U_TEX_COORD_SHIFT + ';\\n' +\n            '}\\n';\n        var fragmentShaderSource =\n            '#ifdef GL_ES\\n' +\n            'precision mediump float;\\n' +\n            '#endif\\n' +\n            'uniform sampler2D ' + SpriteDefaults.U_SAMPLER + ';\\n' +\n            'varying vec2 v_TexCoord;\\n' +\n            'void main() {\\n' +\n            '  gl_FragColor = texture2D(' + SpriteDefaults.U_SAMPLER + ', v_TexCoord);\\n' +\n            '}\\n';\n        this.shader.init(webGL, vertexShaderSource, fragmentShaderSource);\n\n        // GET THE webGL OBJECT TO USE\n        var verticesTexCoords = new Float32Array([\n            -0.5,  0.5, 0.0, 0.0,\n            -0.5, -0.5, 0.0, 1.0,\n             0.5,  0.5, 1.0, 0.0,\n             0.5, -0.5, 1.0, 1.0\n        ]);\n\n        // CREATE THE BUFFER ON THE GPU\n        this.vertexTexCoordBuffer = webGL.createBuffer();\n\n        // BIND THE BUFFER TO BE VERTEX DATA\n        webGL.bindBuffer(webGL.ARRAY_BUFFER, this.vertexTexCoordBuffer);\n\n        // AND SEND THE DATA TO THE BUFFER WE CREATED ON THE GPU\n        webGL.bufferData(webGL.ARRAY_BUFFER, verticesTexCoords, webGL.STATIC_DRAW);\n\n        // SETUP THE SHADER ATTRIBUTES AND UNIFORMS\n        this.webGLAttributeLocations = {};\n        this.webGLUniformLocations = {};\n        this.loadAttributeLocations(webGL, [SpriteDefaults.A_POSITION, SpriteDefaults.A_TEX_COORD]);\n        this.loadUniformLocations(webGL, [SpriteDefaults.U_SPRITE_TRANSFORM, SpriteDefaults.U_SAMPLER, SpriteDefaults.U_TEX_COORD_FACTOR, SpriteDefaults.U_TEX_COORD_SHIFT]);\n\n        // WE'LL USE THESE FOR TRANSOFMRING OBJECTS WHEN WE DRAW THEM\n        this.spriteTransform = new Matrix(4, 4);\n        this.spriteTranslate = new Vector3();\n        this.spriteRotate = new Vector3();\n        this.spriteScale = new Vector3();\n    }\n\n    public renderAnimatedSprites(  webGL : WebGLRenderingContext, \n                            canvasWidth : number, \n                            canvasHeight : number, \n                            visibleSet : Array<AnimatedSprite>) : void {\n        // SELECT THE ANIMATED SPRITE RENDERING SHADER PROGRAM FOR USE\n        let shaderProgramToUse = this.shader.getProgram();\n        webGL.useProgram(shaderProgramToUse);\n\n       // AND THEN RENDER EACH ONE\n       for (let sprite of visibleSet) {\n            this.renderAnimatedSprite(webGL, canvasWidth, canvasHeight, sprite);        \n        }\n    }\n\n    private loadAttributeLocations(webGL : WebGLRenderingContext, attributeLocationNames : Array<string>) {\n        for (var i = 0; i < attributeLocationNames.length; i++) {\n            let locationName : string = attributeLocationNames[i];\n            let location : GLuint = webGL.getAttribLocation(this.shader.getProgram(), locationName);\n            this.webGLAttributeLocations[locationName] = location;\n        }\n    }\n\n    private loadUniformLocations(webGL : WebGLRenderingContext, uniformLocationNames : Array<string>) {\n        for (let i : number = 0; i < uniformLocationNames.length; i++) {\n            let locationName : string = uniformLocationNames[i];\n            let location : WebGLUniformLocation = webGL.getUniformLocation(this.shader.getProgram(), locationName);\n            this.webGLUniformLocations[locationName] = location;\n        }\n    }\n\n    private renderAnimatedSprite(   webGL : WebGLRenderingContext, \n                            canvasWidth : number, \n                            canvasHeight : number, \n                            sprite : AnimatedSprite) {\n        let spriteType : AnimatedSpriteType = sprite.getSpriteType();\n        let texture : WebGLGameTexture = spriteType.getSpriteSheetTexture();\n\n        // CALCULATE HOW MUCH TO TRANSLATE THE QUAD PER THE SPRITE POSITION\n        let spriteWidth : number = spriteType.getSpriteWidth();\n        let spriteHeight : number = spriteType.getSpriteHeight();\n        let spriteXInPixels : number = sprite.getPosition().getX() + (spriteWidth/2);\n        let spriteYInPixels : number = sprite.getPosition().getY() + (spriteHeight/2);\n        let spriteXTranslate : number = (spriteXInPixels - (canvasWidth/2))/(canvasWidth/2);\n        let spriteYTranslate : number = (spriteYInPixels - (canvasHeight/2))/(canvasHeight/2);\n        this.spriteTranslate.setX(spriteXTranslate);\n        this.spriteTranslate.setY(-spriteYTranslate);\n\n        // CALCULATE HOW MUCH TO SCALE THE QUAD PER THE SPRITE SIZE\n        let defaultWidth : number = canvasWidth/2;\n        let defaultHeight : number = canvasHeight/2;\n        let scaleX : number = spriteWidth/defaultWidth;\n        let scaleY : number = spriteHeight/defaultHeight;\n        this.spriteScale.setX(scaleX);\n        this.spriteScale.setY(scaleY);\n\n        // @todo - COMBINE THIS WITH THE ROTATE AND SCALE VALUES FROM THE SPRITE\n        MathUtilities.identity(this.spriteTransform);\n        MathUtilities.model(this.spriteTransform, this.spriteTranslate, this.spriteRotate, this.spriteScale);\n        \n        // FIGURE OUT THE TEXTURE COORDINATE FACTOR AND SHIFT\n        let texCoordFactorX : number = spriteWidth/texture.width;\n        let texCoordFactorY : number = spriteHeight/texture.height;\n        let spriteLeft : number = sprite.getLeft();\n        let spriteTop : number = sprite.getTop();\n        let texCoordShiftX : number = spriteLeft/texture.width;\n        let texCoordShiftY : number = spriteTop/texture.height;   \n\n        // USE THE ATTRIBUTES\n        webGL.bindBuffer(webGL.ARRAY_BUFFER, this.vertexTexCoordBuffer);\n        webGL.bindTexture(webGL.TEXTURE_2D, texture.webGLTexture);\n\n        // HOOK UP THE ATTRIBUTES\n        let a_PositionLocation : GLuint = this.webGLAttributeLocations[SpriteDefaults.A_POSITION];\n        webGL.vertexAttribPointer(a_PositionLocation, SpriteDefaults.FLOATS_PER_TEXTURE_COORDINATE, webGL.FLOAT, false, SpriteDefaults.TOTAL_BYTES, SpriteDefaults.VERTEX_POSITION_OFFSET);\n        webGL.enableVertexAttribArray(a_PositionLocation);\n        let a_TexCoordLocation : GLuint = this.webGLAttributeLocations[SpriteDefaults.A_TEX_COORD];\n        webGL.vertexAttribPointer(a_TexCoordLocation, SpriteDefaults.FLOATS_PER_TEXTURE_COORDINATE, webGL.FLOAT, false, SpriteDefaults.TOTAL_BYTES, SpriteDefaults.TEXTURE_COORDINATE_OFFSET);\n        webGL.enableVertexAttribArray(a_TexCoordLocation);\n\n        // USE THE UNIFORMS\n        let u_SpriteTransformLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_SPRITE_TRANSFORM];\n        webGL.uniformMatrix4fv(u_SpriteTransformLocation, false, this.spriteTransform.getData());\n        let u_SamplerLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_SAMPLER];\n        webGL.uniform1i(u_SamplerLocation, texture.webGLTextureId);\n        let u_TexCoordFactorLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_TEX_COORD_FACTOR];\n        webGL.uniform2f(u_TexCoordFactorLocation, texCoordFactorX, texCoordFactorY);\n        let u_TexCoordShiftLocation : WebGLUniformLocation = this.webGLUniformLocations[SpriteDefaults.U_TEX_COORD_SHIFT];\n        webGL.uniform2f(u_TexCoordShiftLocation, texCoordShiftX, texCoordShiftY);\n\n        // DRAW THE SPRITE AS A TRIANGLE STRIP USING 4 VERTICES, STARTING AT THE START OF THE ARRAY (index 0)\n        webGL.drawArrays(webGL.TRIANGLE_STRIP, SpriteDefaults.INDEX_OF_FIRST_VERTEX, SpriteDefaults.NUM_VERTICES);\n    }\n}","export class WebGLGameTexture {\n    public webGLTextureId: number;\n    public webGLTexture: WebGLTexture;\n    public image: HTMLImageElement;\n    public width : number;\n    public height : number;\n}","import {SceneObject} from './SceneObject'\nimport {AnimatedSprite} from './sprite/AnimatedSprite'\nimport { GradientCircleSprite } from './sprite/GradientCircleSprite';\n\nexport class SceneGraph {\n    // AND ALL OF THE ANIMATED SPRITES, WHICH ARE NOT STORED\n    // SORTED OR IN ANY PARTICULAR ORDER. NOTE THAT ANIMATED SPRITES\n    // ARE SCENE OBJECTS\n    private animatedSprites : Array<AnimatedSprite>;\n\n    // SET OF VISIBLE OBJECTS, NOTE THAT AT THE MOMENT OUR\n    // SCENE GRAPH IS QUITE SIMPLE, SO THIS IS THE SAME AS\n    // OUR LIST OF ANIMATED SPRITES\n    private visibleSet : Array<SceneObject>;\n\n\n    private sceneDescription : string;\n\n    private circleSprites : Array<GradientCircleSprite>;\n\n    public constructor() {\n        // DEFAULT CONSTRUCTOR INITIALIZES OUR DATA STRUCTURES\n        this.animatedSprites = new Array();\n        this.circleSprites = new Array();\n        this.visibleSet = new Array();\n        this.sceneDescription = \"\";\n    }\n\n    public getNumSprites() : number {\n        return (this.animatedSprites.length + this.circleSprites.length);\n    }\n\n    public addAnimatedSprite(sprite : AnimatedSprite) : void {\n        this.animatedSprites.push(sprite);\n    }\n\n    public addCircleSprite(sprite : GradientCircleSprite) : void {\n        this.circleSprites.push(sprite);\n    }\n\n    public removedAnimatedSprite(sprite : AnimatedSprite) : void {\n        let tempAnimatedSprites : Array<AnimatedSprite> = new Array();\n        this.animatedSprites.forEach(element => {\n            if (element != sprite){\n                tempAnimatedSprites.push(element);\n            }\n        });\n        this.animatedSprites = tempAnimatedSprites;\n    }\n\n    public removeCircleSprite(circle : GradientCircleSprite) : void {\n        let tempGradientCircles : Array<GradientCircleSprite> = new Array();\n        this.circleSprites.forEach(element => {\n            if (element != circle){\n                tempGradientCircles.push(element);\n            }\n        });\n        this.circleSprites = tempGradientCircles;\n    }\n\n    public getSpriteAt(testX : number, testY : number) : AnimatedSprite {\n        for (let sprite of this.animatedSprites) {\n            if (sprite.contains(testX, testY))\n                return sprite;\n        }\n        return null;\n    }\n\n    public getCircleAt(testX : number, testY : number) : GradientCircleSprite {\n        for (let circle of this.circleSprites) {\n            if (circle.contains(testX, testY))\n                return circle;\n        }\n        return null;\n    }\n\n    public getSceneDescription() : string{\n        return this.sceneDescription;\n    }\n\n    public setSceneDescription(desc : string){\n        this.sceneDescription = desc;\n    }\n\n    /**\n     * update\n     * \n     * Called once per frame, this function updates the state of all the objects\n     * in the scene.\n     * \n     * @param delta The time that has passed since the last time this update\n     * funcation was called.\n     */\n    public update(delta : number) : void {\n        for (let sprite of this.animatedSprites) {\n            sprite.update(delta);\n        }\n        //circles don't animate and don't need a frame counter to update\n    }\n\n    public scopeSprites() : Array<SceneObject> {\n        // CLEAR OUT THE OLD\n        this.visibleSet = [];\n\n        // PUT ALL THE SCENE OBJECTS INTO THE VISIBLE SET\n        for (let sprite of this.animatedSprites) {\n            this.visibleSet.push(sprite);\n        }\n\n        return this.visibleSet;\n    }\n\n    public scopeCircles() : Array<SceneObject> {\n        // CLEAR OUT THE OLD\n        this.visibleSet = [];\n\n        // PUT ALL THE SCENE OBJECTS INTO THE VISIBLE SET\n        for (let sprite of this.circleSprites) {\n            this.visibleSet.push(sprite);\n        }\n\n        return this.visibleSet;\n    }\n}","import {Vector3} from '../math/Vector3'\n\n/**\n * SceneObject\n * \n * A SceneObject is something that can be placed into the scene graph. It has\n * a position, rotation, and scale in the game world. Note that its position\n * is typically its centered location, so if we're talking about a 2d box, \n * it would be the center of that box.\n */\nexport abstract class SceneObject {\n    private position : Vector3;\n    private rotation : Vector3;\n    private scale : Vector3;\n\n    public constructor() {\n        this.position = new Vector3();\n        this.rotation = new Vector3();\n        this.scale = new Vector3();\n\n        // CLEAR ALL VALUES\n        this.position.set(0.0, 0.0, 0.0, 1.0);\n        this.rotation.set(0.0, 0.0, 0.0, 1.0);\n        this.scale.set(1.0, 1.0, 1.0, 1.0);\n    }\n\n    public getPosition() : Vector3 {\n        return this.position;\n    }    \n\n    public getRotation() : Vector3 {\n        return this.rotation;\n    }\n\n    public getScale() : Vector3 {\n        return this.scale;\n    }\n\n    public abstract contains(testX : number, testY : number) : boolean;\n}","import {SceneObject} from '../SceneObject'\nimport {AnimatedSpriteType} from './AnimatedSpriteType'\n\nexport class AnimatedSprite extends SceneObject {\n    private spriteType : AnimatedSpriteType;\n    private state : string;\n    private animationFrameIndex : number;\n    private frameCounter : number;\n    \n    public constructor(initSpriteType : AnimatedSpriteType, initState : string) {\n        super();\n        this.spriteType = initSpriteType;\n        \n        // START RESET\n        this.state = initState;\n        this.animationFrameIndex = 0;\n        this.frameCounter = 0;\n    }\n\n    public getAnimationFrameIndex() : number {\n        return this.animationFrameIndex;\n    }\n\n    public getFrameCounter() : number {\n        return this.frameCounter;\n    }\n\n    public getSpriteType() : AnimatedSpriteType {\n        return this.spriteType;\n    }\n\n    public getState() : string {\n        return this.state;\n    }\n    \n    public setState(initState : string) : void {\n        this.state = initState;\n        this.animationFrameIndex = 0;\n        this.frameCounter = 0;\n    }\n    \n    public update(delta : number) : void {\n        this.frameCounter++;\n        \n        // HAVE WE GONE PAST THE LAST FRAME IN THE ANIMATION?\n        var currentAnimation = this.spriteType.getAnimation(this.state);\n        var currentFrame = currentAnimation[this.animationFrameIndex];\n        if (this.frameCounter > (currentFrame.duration)) {\n            this.animationFrameIndex++;\n            if (this.animationFrameIndex >= currentAnimation.length) {\n                this.animationFrameIndex = 0;\n            }\n            this.frameCounter = 0;\n        }\n    }\n\n    public contains(pointX : number, pointY : number) : boolean {\n        let spriteWidth = this.getSpriteType().getSpriteWidth();\n        let spriteHeight = this.getSpriteType().getSpriteHeight();\n        let spriteLeft = this.getPosition().getX();\n        let spriteRight = this.getPosition().getX() + spriteWidth;\n        let spriteTop = this.getPosition().getY();\n        let spriteBottom = this.getPosition().getY() + spriteHeight;\n        if (    (pointX < spriteLeft)\n            ||  (spriteRight < pointX)\n            ||  (pointY < spriteTop)\n            ||  (spriteBottom < pointY)) {\n                return false;\n        }\n        else {\n            return true;\n        }\n    }\n    \n    /**RENAME THIS METHOD SO IT DENOTES PIXEL LOCATION IN TEXTURE */\n    public getLeft() : number {\n        return this.spriteType.getLeft(this.state, this.animationFrameIndex);\n    }\n    \n    public getTop() : number {\n        return this.spriteType.getTop(this.state, this.animationFrameIndex);\n    }\n\n    public toString() : string {\n        let summary : string =  \"{ position: (\"\n                            +   this.getPosition().getX() + \", \" + this.getPosition().getY() + \") \"\n                            +   \"(state: \" + this.getState() + \") \"\n                            +   \"(animationFrameIndex: \" + this.getAnimationFrameIndex() + \") \"\n                            +   \"(frameCounter: \" + this.getFrameCounter() + \") \";\n        return summary;\n    }\n}","import {WebGLGameTexture} from '../../rendering/WebGLGameTexture'\nimport {HashTable} from '../../data/HashTable'\n\nexport class AnimationFrame {\n    public left : number;\n    public top : number;\n    public duration : number;\n\n    constructor(initLeft : number, initTop : number, initDuration : number) {\n        this.left = initLeft;\n        this.top = initTop;\n        this.duration = initDuration;\n    }\n}\n\nexport class AnimatedSpriteType {\n    private spriteSheetTexture : WebGLGameTexture;\n    private animations : HashTable<Array<AnimationFrame>>;\n    private spriteWidth : number;\n    private spriteHeight : number;\n\n    public constructor(initSpriteSheetTexture : WebGLGameTexture, \n                initSpriteWidth : number, initSpriteHeight : number) {\n        this.spriteSheetTexture = initSpriteSheetTexture;\n        this.animations = {};\n        this.spriteWidth = initSpriteWidth;\n        this.spriteHeight = initSpriteHeight;\n    }\n\n    public addAnimation(state : string) : void {\n        this.animations[state] = new Array<AnimationFrame>();\n    }\n\n    public addAnimationFrame(state : string, index : number, frameDuration : number) : void {\n        var columns = this.spriteSheetTexture.width/this.spriteWidth;\n        var rows = this.spriteSheetTexture.height/this.spriteHeight;\n        var col = index % columns;\n        var row = Math.floor(index /  columns);\n        var left = col * this.spriteWidth;\n        var top = row * this.spriteHeight;\n        this.animations[state].push(new AnimationFrame(left, top, frameDuration));\n    }\n\n    public getSpriteWidth() : number {\n        return this.spriteWidth;\n    }\n\n    public getSpriteHeight() : number {\n        return this.spriteHeight;\n    }\n\n    public getSpriteSheetTexture() : WebGLGameTexture {\n        return this.spriteSheetTexture;\n    }\n\n    public getAnimation(state : string) : Array<AnimationFrame> {\n        return this.animations[state];\n    }\n\n    public getLeft(state : string, frameIndex : number) : number {\n        let animationFrame : AnimationFrame = this.animations[state][frameIndex];\n        return animationFrame.left;\n    }\n\n    public getTop(state : string, frameIndex : number) : number {\n        let animationFrame : AnimationFrame = this.animations[state][frameIndex];\n        return animationFrame.top;\n    }\n}","import {SceneObject} from '../SceneObject'\nimport {GradientCircleSpriteType} from './GradientCircleSpriteType'\nimport { Vector3 } from '../../math/Vector3';\n\n\nexport class GradientCircleSprite extends SceneObject {\n    private spriteType : GradientCircleSpriteType;\n    private state : string;\n    private spriteColor : Vector3 = new Vector3(); //RGBA all out of 1.0 (Red, Green, Blue, Alpha)\n\n    public constructor(initSpriteType : GradientCircleSpriteType, initState : string) {\n        super();\n        this.spriteType = initSpriteType;\n        this.state = initState;\n\n        let tempRandom : Number = Math.ceil(Math.random()*6);\n        switch (tempRandom) {\n            case 1:\n                // Red \n                this.spriteColor.set(1, 0, 0, 1); \n                break;\n            case 2:\n                // Green\n                this.spriteColor.set(0, 1, 0, 1); \n                break;\n            case 3:\n                // Blue\n                this.spriteColor.set(0, 0, 1, 1); \n                break;\n            case 4:\n                // Yellow\n                this.spriteColor.set(1, 1, 0, 1); \n                break;\n            case 5:\n                // Cyan\n                this.spriteColor.set(0, 1, 1, 1); \n                break;\n            case 6:\n                // Magenta \n                this.spriteColor.set(1, 0, 1, 1); \n                break;\n        }\n        this.setState(\"R:\"+this.spriteColor.getX()+\", G:\"+this.spriteColor.getY()+\", B:\"+this.spriteColor.getZ()+\", A:\"+this.spriteColor.getW());\n    }\n\n    public getSpriteType() : GradientCircleSpriteType {\n        return this.spriteType;\n    }\n\n    public getState() : string {\n        return this.state;\n    }\n    \n    public setState(initState : string) : void {\n        this.state = initState;\n    }\n\n    public getSpriteColor() : Vector3 {\n\n        return this.spriteColor\n    }\n\n    public contains(pointX : number, pointY : number) : boolean {\n        let spriteWidth = this.getSpriteType().getSpriteWidth();\n        let spriteHeight = this.getSpriteType().getSpriteHeight();\n        let spriteLeft = this.getPosition().getX();\n        let spriteRight = this.getPosition().getX() + spriteWidth;\n        let spriteTop = this.getPosition().getY();\n        let spriteBottom = this.getPosition().getY() + spriteHeight;\n        if (    (pointX < spriteLeft)\n            ||  (spriteRight < pointX)\n            ||  (pointY < spriteTop)\n            ||  (spriteBottom < pointY)) {\n                return false;\n        }\n        else {\n            return true;\n        }\n    }\n\n    public toString() : string {\n        let summary : string =  \"{ position: (\"\n                            +   this.getPosition().getX() + \", \" + this.getPosition().getY() + \") \"\n                            +   \"(state: \" + this.getState() + \") \";\n        return summary;\n    }\n}","import {Vector3} from '../../math/Vector3'\n\nexport class GradientCircleSpriteType {\n    private spriteWidth : number;\n    private spriteHeight : number;\n    \n\n    public constructor(initSpriteWidth : number, initSpriteHeight : number) {\n        this.spriteWidth = initSpriteWidth;\n        this.spriteHeight = initSpriteHeight;\n        \n    }\n\n    public getSpriteWidth() : number {\n        return this.spriteWidth;\n    }\n\n    public getSpriteHeight() : number {\n        return this.spriteHeight;\n    }\n\n}","/*\n * This provides responses to UI input.\n */\nimport {AnimatedSprite} from \"../scene/sprite/AnimatedSprite\"\nimport {SceneGraph} from \"../scene/SceneGraph\"\nimport { GradientCircleSprite } from \"../scene/sprite/GradientCircleSprite\";\nimport { ResourceManager } from \"../files/ResourceManager\";\nimport { AnimatedSpriteType } from \"../scene/sprite/AnimatedSpriteType\";\nimport { GradientCircleSpriteType } from \"../scene/sprite/GradientCircleSpriteType\";\n\n\nexport class UIController {\n    private spriteToDrag : AnimatedSprite;\n    private circleToDrag : GradientCircleSprite;\n    private scene : SceneGraph;\n    private dragOffsetX : number;\n    private dragOffsetY : number;\n    private lastClick : number;\n    private rM : ResourceManager;\n    private details : string;\n\n    public constructor() {}\n\n    public init(canvasId : string, initScene : SceneGraph, reasourceManager : ResourceManager) : void {\n        this.spriteToDrag = null;\n        this.circleToDrag = null;\n        this.details = \"\";\n        this.lastClick = 0;\n\n        this.rM = reasourceManager;\n\n        this.scene = initScene;\n        this.dragOffsetX = -1;\n        this.dragOffsetY = -1;\n\n        let canvas : HTMLCanvasElement = <HTMLCanvasElement>document.getElementById(canvasId);\n        canvas.addEventListener(\"dblclick\", this.doubleClick);\n        canvas.addEventListener(\"click\", this.click);\n        canvas.addEventListener(\"mousedown\", this.mouseDownHandler);\n        canvas.addEventListener(\"mousemove\", this.mouseMoveHandler);\n        canvas.addEventListener(\"mouseup\", this.mouseUpHandler);\n        \n    }\n\n    public mouseDownHandler = (event : MouseEvent) : void => {\n        this.lastClick = event.timeStamp;   \n\n        let mousePressX : number = event.clientX;\n        let mousePressY : number = event.clientY;\n        let sprite : AnimatedSprite = this.scene.getSpriteAt(mousePressX, mousePressY);\n        let circle : GradientCircleSprite = this.scene.getCircleAt(mousePressX, mousePressY);\n        console.log(\"mousePressX: \" + mousePressX);\n        console.log(\"mousePressY: \" + mousePressY);\n        console.log(\"sprite: \" + ((sprite != null) ? sprite : circle));\n        if (sprite != null) {\n            // START DRAGGING IT\n            this.spriteToDrag = sprite;\n            this.dragOffsetX = sprite.getPosition().getX() - mousePressX;\n            this.dragOffsetY = sprite.getPosition().getY() - mousePressY;\n        }else if (circle != null){\n            // START DRAGGING IT\n            this.circleToDrag = circle;\n            this.dragOffsetX = circle.getPosition().getX() - mousePressX;\n            this.dragOffsetY = circle.getPosition().getY() - mousePressY;\n        }\n    }\n    \n    public mouseMoveHandler = (event : MouseEvent) : void => {\n        this.lastClick -= 500;\n        if (this.spriteToDrag != null) {\n            this.spriteToDrag.getPosition().set(event.clientX + this.dragOffsetX, \n                                                event.clientY + this.dragOffsetY, \n                                                this.spriteToDrag.getPosition().getZ(), \n                                                this.spriteToDrag.getPosition().getW());\n        }else if (this.circleToDrag != null){\n            this.circleToDrag.getPosition().set(event.clientX + this.dragOffsetX, \n                event.clientY + this.dragOffsetY, \n                this.circleToDrag.getPosition().getZ(), \n                this.circleToDrag.getPosition().getW());\n        }else{\n            //hover \n            let mousePressX : number = event.clientX;\n            let mousePressY : number = event.clientY;\n            let sprite : AnimatedSprite = this.scene.getSpriteAt(mousePressX, mousePressY);\n            let circle : GradientCircleSprite = this.scene.getCircleAt(mousePressX, mousePressY);\n            console.log(\"HoverX: \" + mousePressX);\n            console.log(\"HoverY: \" + mousePressY);\n            console.log(\"sprite: \" + ((sprite != null) ? sprite : circle));\n            if (sprite == null && circle == null){\n                this.scene.setSceneDescription(\"\");\n            }else{\n                this.details = \", HoverX: \" + mousePressX + \", \" + \"HoverY: \" + mousePressY + \", \" + \"sprite: \" + ((sprite != null) ? sprite : circle);\n                this.scene.setSceneDescription(this.details);\n            }\n        }\n    }\n\n    public hoveringSpriteText() : string{\n        return this.details;\n    }\n\n    public mouseUpHandler = (event : MouseEvent) : void => {\n        this.spriteToDrag = null;\n        this.circleToDrag = null;\n\n    }\n\n    public doubleClick = (event : MouseEvent) : void => {\n        let mousePressX : number = event.clientX;\n        let mousePressY : number = event.clientY;\n        let sprite : AnimatedSprite = this.scene.getSpriteAt(mousePressX, mousePressY);\n        let circle : GradientCircleSprite = this.scene.getCircleAt(mousePressX, mousePressY);\n        console.log(\"mousePressX: \" + mousePressX);\n        console.log(\"mousePressY: \" + mousePressY);\n        console.log(\"sprite: \" + ((sprite != null) ? sprite : circle));\n        if (sprite != null) {\n            // START DRAGGING IT\n            this.scene.removedAnimatedSprite(sprite);\n        }else if (circle != null){\n            // START DRAGGING IT\n            this.scene.removeCircleSprite(circle);\n        }\n        event.stopImmediatePropagation();\n    }\n\n    public click = (event : MouseEvent) : void => {\n        \n        let mousePressX : number = event.clientX;\n        let mousePressY : number = event.clientY;\n        let sprite : AnimatedSprite = this.scene.getSpriteAt(mousePressX, mousePressY);\n        let circle : GradientCircleSprite = this.scene.getCircleAt(mousePressX, mousePressY);\n        console.log(\"mousePressX: \" + mousePressX);\n        console.log(\"mousePressY: \" + mousePressY);\n        console.log(\"sprite: \" + ((sprite != null) ? sprite : circle));\n        if (sprite == null && circle == null) {\n            let canvasWidth : number = (<HTMLCanvasElement>document.getElementById(\"game_canvas\")).width;\n            let canvasHeight : number = (<HTMLCanvasElement>document.getElementById(\"game_canvas\")).height;\n\n            const DEMO_SPRITE_TYPES : string[] = [\n                'resources/animated_sprites/RedCircleMan.json',\n                'resources/animated_sprites/MultiColorBlock.json'\n            ];\n\n            const DEMO_SPRITE_STATES = {\n                FORWARD_STATE: 'FORWARD',\n                REVERSE_STATE: 'REVERSE'\n            };\n\n            let randNum = Math.floor(Math.random()*3)\n\n            if (randNum == 0 || randNum == 1){\n                let spriteTypeToUse : string = DEMO_SPRITE_TYPES[randNum]\n                let animatedSpriteType : AnimatedSpriteType = this.rM.getAnimatedSpriteTypeById(spriteTypeToUse);\n                let spriteToAdd : AnimatedSprite = new AnimatedSprite(animatedSpriteType, DEMO_SPRITE_STATES.FORWARD_STATE);\n                let randomX : number = Math.floor(Math.random() * canvasWidth) - (animatedSpriteType.getSpriteWidth()/2);\n                let randomY : number = Math.floor(Math.random() * canvasHeight) - (animatedSpriteType.getSpriteHeight()/2);\n                spriteToAdd.getPosition().set(randomX, randomY, 0.0, 1.0);\n                this.scene.addAnimatedSprite(spriteToAdd);\n            }else{\n                let gradientSpriteType : GradientCircleSpriteType = new GradientCircleSpriteType(200, 200);\n                let spriteToAdd : GradientCircleSprite = new GradientCircleSprite(gradientSpriteType, \"New Gradient Sprite\");\n                let randomX : number = Math.floor(Math.random() * canvasWidth) - (gradientSpriteType.getSpriteWidth()/2);\n                let randomY : number = Math.floor(Math.random() * canvasHeight) - (gradientSpriteType.getSpriteHeight()/2);\n                spriteToAdd.getPosition().set(randomX, randomY, 0.0, 1.0);\n                this.scene.addCircleSprite(spriteToAdd);\n            }\n        }\n    }\n}"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvYW5pbWF0ZWRfc3ByaXRlX2RlbW8vQW5pbWF0ZWRTcHJpdGVEZW1vLnRzIiwic3JjL3dvbGZpZTJkL0dhbWUudHMiLCJzcmMvd29sZmllMmQvZmlsZXMvUmVzb3VyY2VNYW5hZ2VyLnRzIiwic3JjL3dvbGZpZTJkL2xvb3AvR2FtZUxvb3BUZW1wbGF0ZS50cyIsInNyYy93b2xmaWUyZC9tYXRoL01hdGhVdGlsaXRpZXMudHMiLCJzcmMvd29sZmllMmQvbWF0aC9NYXRyaXgudHMiLCJzcmMvd29sZmllMmQvbWF0aC9WZWN0b3IzLnRzIiwic3JjL3dvbGZpZTJkL3JlbmRlcmluZy9UZXh0UmVuZGVyZXIudHMiLCJzcmMvd29sZmllMmQvcmVuZGVyaW5nL1dlYkdMR2FtZUdyYWRpZW50Q2lyY2xlUmVuZGVyZXIudHMiLCJzcmMvd29sZmllMmQvcmVuZGVyaW5nL1dlYkdMR2FtZVJlbmRlcmluZ1N5c3RlbS50cyIsInNyYy93b2xmaWUyZC9yZW5kZXJpbmcvV2ViR0xHYW1lU2hhZGVyLnRzIiwic3JjL3dvbGZpZTJkL3JlbmRlcmluZy9XZWJHTEdhbWVTcHJpdGVSZW5kZXJlci50cyIsInNyYy93b2xmaWUyZC9yZW5kZXJpbmcvV2ViR0xHYW1lVGV4dHVyZS50cyIsInNyYy93b2xmaWUyZC9zY2VuZS9TY2VuZUdyYXBoLnRzIiwic3JjL3dvbGZpZTJkL3NjZW5lL1NjZW5lT2JqZWN0LnRzIiwic3JjL3dvbGZpZTJkL3NjZW5lL3Nwcml0ZS9BbmltYXRlZFNwcml0ZS50cyIsInNyYy93b2xmaWUyZC9zY2VuZS9zcHJpdGUvQW5pbWF0ZWRTcHJpdGVUeXBlLnRzIiwic3JjL3dvbGZpZTJkL3NjZW5lL3Nwcml0ZS9HcmFkaWVudENpcmNsZVNwcml0ZS50cyIsInNyYy93b2xmaWUyZC9zY2VuZS9zcHJpdGUvR3JhZGllbnRDaXJjbGVTcHJpdGVUeXBlLnRzIiwic3JjL3dvbGZpZTJkL3Vp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QUF4RztBQUNBLGlDQUFZLFdBQVosR0FBMEIsR0FBMUIsQ0FBOEIsUUFBOUIsRUFBdUMsUUFBdkMsRUFBZ0QsR0FBaEQsRUFBcUQsR0FBckQ7QUFDQSwwQkFBSyxLQUFMLENBQVcsZUFBWCxDQUEyQixZQUEzQjtBQUNIO0FBQ0o7QUFDSixTQTFDTTtBQXhHZ0I7Ozs7NkJBRVgsUSxFQUFtQixTLEVBQXdCLGdCLEVBQWtDO0FBQ3JGLGlCQUFLLFlBQUwsR0FBb0IsSUFBcEI7QUFDQSxpQkFBSyxZQUFMLEdBQW9CLElBQXBCO0FBQ0EsaUJBQUssT0FBTCxHQUFlLEVBQWY7QUFDQSxpQkFBSyxTQUFMLEdBQWlCLENBQWpCO0FBRUEsaUJBQUssRUFBTCxHQUFVLGdCQUFWO0FBRUEsaUJBQUssS0FBTCxHQUFhLFNBQWI7QUFDQSxpQkFBSyxXQUFMLEdBQW1CLENBQUMsQ0FBcEI7QUFDQSxpQkFBSyxXQUFMLEdBQW1CLENBQUMsQ0FBcEI7QUFFQSxnQkFBSSxTQUFnRCxTQUFTLGNBQVQsQ0FBd0IsUUFBeEIsQ0FBcEQ7QUFDQSxtQkFBTyxnQkFBUCxDQUF3QixVQUF4QixFQUFvQyxLQUFLLFdBQXpDO0FBQ0EsbUJBQU8sZ0JBQVAsQ0FBd0IsT0FBeEIsRUFBaUMsS0FBSyxLQUF0QztBQUNBLG1CQUFPLGdCQUFQLENBQXdCLFdBQXhCLEVBQXFDLEtBQUssZ0JBQTFDO0FBQ0EsbUJBQU8sZ0JBQVAsQ0FBd0IsV0FBeEIsRUFBcUMsS0FBSyxnQkFBMUM7QUFDQSxtQkFBTyxnQkFBUCxDQUF3QixTQUF4QixFQUFtQyxLQUFLLGNBQXhDO0FBRUg7Ozs2Q0F1RHdCO0FBQ3JCLG1CQUFPLEtBQUssT0FBWjtBQUNIOzs7Ozs7QUF4RkwsUUFBQSxZQUFBLEdBQUEsWUFBQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8qXG4gKiBBbmltYXRlZFNwcml0ZURlbW8udHMgLSBkZW1vbnN0cmF0ZXMgc29tZSBzaW1wbGUgc3ByaXRlIHJlbmRlcmluZyBhbmQgXG4gKiBhbmltYXRpb24gYXMgd2VsbCBhcyBzb21lIGJhc2ljIG1vdXNlIGludGVyYWN0aW9ucy4gTm90ZSB0aGF0IHRoZVxuICogQW5pbWF0aW9uU3ByaXRlRGVtbyBjbGFzcyBsb2FkcyBhbmQgY3JlYXRlcyBjdXN0b20gY29udGVudCBmb3IgdGhlXG4gKiBwdXJwb3NlIG9mIGRlbW9uc3RyYXRpbmcgYmFzaWMgZnVuY3Rpb25hbGl0eS5cbiAqL1xuaW1wb3J0IHtHYW1lfSBmcm9tICcuLi93b2xmaWUyZC9HYW1lJ1xuaW1wb3J0IHtSZXNvdXJjZU1hbmFnZXJ9IGZyb20gJy4uL3dvbGZpZTJkL2ZpbGVzL1Jlc291cmNlTWFuYWdlcidcbmltcG9ydCB7VGV4dFRvUmVuZGVyfSBmcm9tICcuLi93b2xmaWUyZC9yZW5kZXJpbmcvVGV4dFJlbmRlcmVyJ1xuaW1wb3J0IHtXZWJHTEdhbWVSZW5kZXJpbmdTeXN0ZW19IGZyb20gJy4uL3dvbGZpZTJkL3JlbmRlcmluZy9XZWJHTEdhbWVSZW5kZXJpbmdTeXN0ZW0nXG5pbXBvcnQge1NjZW5lR3JhcGh9IGZyb20gJy4uL3dvbGZpZTJkL3NjZW5lL1NjZW5lR3JhcGgnXG5pbXBvcnQge0FuaW1hdGVkU3ByaXRlfSBmcm9tICcuLi93b2xmaWUyZC9zY2VuZS9zcHJpdGUvQW5pbWF0ZWRTcHJpdGUnXG5pbXBvcnQge0FuaW1hdGVkU3ByaXRlVHlwZX0gZnJvbSAnLi4vd29sZmllMmQvc2NlbmUvc3ByaXRlL0FuaW1hdGVkU3ByaXRlVHlwZSdcbmltcG9ydCB7IEdyYWRpZW50Q2lyY2xlU3ByaXRlVHlwZSB9IGZyb20gJy4uL3dvbGZpZTJkL3NjZW5lL3Nwcml0ZS9HcmFkaWVudENpcmNsZVNwcml0ZVR5cGUnXG5pbXBvcnQgeyBHcmFkaWVudENpcmNsZVNwcml0ZSB9IGZyb20gJy4uL3dvbGZpZTJkL3NjZW5lL3Nwcml0ZS9HcmFkaWVudENpcmNsZVNwcml0ZSdcblxuLy8gSU4gVEhJUyBFWEFNUExFIFdFJ0xMIEhBVkUgMiBTUFJJVEUgVFlQRVMgVEhBVCBFQUNIIEhBVkUgVEhFIFNBTUUgMiBTVEFURVNcbi8vIEFORCBXSEVSRSBFQUNIIFNQUklURSBUWVBFIEhBUyBJVFMgT1dOIFNQUklURSBTSEVFVFxuY29uc3QgREVNT19TUFJJVEVfVFlQRVMgOiBzdHJpbmdbXSA9IFtcbiAgICAncmVzb3VyY2VzL2FuaW1hdGVkX3Nwcml0ZXMvUmVkQ2lyY2xlTWFuLmpzb24nLFxuICAgICdyZXNvdXJjZXMvYW5pbWF0ZWRfc3ByaXRlcy9NdWx0aUNvbG9yQmxvY2suanNvbidcbl07XG5jb25zdCBERU1PX1NQUklURV9TVEFURVMgPSB7XG4gICAgRk9SV0FSRF9TVEFURTogJ0ZPUldBUkQnLFxuICAgIFJFVkVSU0VfU1RBVEU6ICdSRVZFUlNFJ1xufTtcbmNvbnN0IERFTU9fVEVYVFVSRVMgOiBzdHJpbmdbXSA9IFtcbiAgICAncmVzb3VyY2VzL2ltYWdlcy9FaWdodEJsb2Nrcy5wbmcnLCBcbiAgICAncmVzb3VyY2VzL2ltYWdlcy9SZWRDaXJjbGVNYW4ucG5nJ1xuXTtcblxuY2xhc3MgQW5pbWF0ZWRTcHJpdGVEZW1vIHtcbiAgICBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpbml0aWFsaXplcyB0aGUgYXBwbGljYXRpb24sIGJ1aWxkaW5nIGFsbCB0aGUgbmVlZGVkXG4gICAgICogZ2FtZSBvYmplY3RzIGFuZCBzZXR0aW5nIHRoZW0gdXAgZm9yIHVzZS5cbiAgICAgKi9cbiAgICBwdWJsaWMgYnVpbGRUZXN0U2NlbmUoZ2FtZSA6IEdhbWUsIGNhbGxiYWNrIDogRnVuY3Rpb24pIHtcbiAgICAgICAgbGV0IHJlbmRlcmluZ1N5c3RlbSA6IFdlYkdMR2FtZVJlbmRlcmluZ1N5c3RlbSA9IGdhbWUuZ2V0UmVuZGVyaW5nU3lzdGVtKCk7XG4gICAgICAgIGxldCBzY2VuZUdyYXBoIDogU2NlbmVHcmFwaCA9IGdhbWUuZ2V0U2NlbmVHcmFwaCgpO1xuICAgICAgICBsZXQgcmVzb3VyY2VNYW5hZ2VyIDogUmVzb3VyY2VNYW5hZ2VyID0gZ2FtZS5nZXRSZXNvdXJjZU1hbmFnZXIoKTtcbiAgICAgICAgbGV0IGJ1aWxkZXIgPSB0aGlzO1xuIFxuICAgICAgICAvLyBFTVBMT1kgVEhFIFJFU09VUkNFIE1BTkFHRVIgVE8gQlVJTEQgQUxMIFRIRSBXT1JMRCBDT05URU5UXG4gICAgICAgIHJlc291cmNlTWFuYWdlci5sb2FkVGV4dHVyZXMoREVNT19URVhUVVJFUywgcmVuZGVyaW5nU3lzdGVtLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIE9OTFkgQUZURVIgQUxMIFRIRSBURVhUVVJFUyBIQVZFIExPQURFRCBMT0FEIFRIRSBTUFJJVEUgVFlQRVNcbiAgICAgICAgICAgIHJlc291cmNlTWFuYWdlci5sb2FkU3ByaXRlVHlwZXMoREVNT19TUFJJVEVfVFlQRVMsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIC8vIE9OTFkgQUZURVIgQUxMIFRIRSBTUFJJVEUgVFlQRVMgSEFWRSBMT0FERUQgTE9BRCBUSEUgU1BSSVRFU1xuICAgICAgICAgICAgICAgIGJ1aWxkZXIuYnVpbGRBbmltYXRlZFNwcml0ZXMocmVzb3VyY2VNYW5hZ2VyLCBzY2VuZUdyYXBoKTtcblxuICAgICAgICAgICAgICAgIC8vIEFORCBCVUlMRCBBTEwgVEhFIFRFWFQgT1VSIEFQUCBXSUxMIFVTRVxuICAgICAgICAgICAgICAgIGJ1aWxkZXIuYnVpbGRUZXh0KGdhbWUpO1xuXG4gICAgICAgICAgICAgICAgLy8gRVZFUllUSElORyBIQVMgQkVFTiBCVUlMVCwgQ0FMTCBUSEUgQ0FMTEJBQ0tcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogQnVpbGRzIGFsbCB0aGUgYW5pbWF0ZWQgc3ByaXRlcyB0byBiZSB1c2VkIGJ5IHRoZSBhcHBsaWNhdGlvbiBhbmRcbiAgICAgKiBhZGRzIHRoZW0gdG8gdGhlIHNjZW5lLlxuICAgICAqL1xuICAgIHByaXZhdGUgYnVpbGRBbmltYXRlZFNwcml0ZXMocmVzb3VyY2VNYW5hZ2VyIDogUmVzb3VyY2VNYW5hZ2VyLCBzY2VuZSA6IFNjZW5lR3JhcGgpIHtcbiAgICAgICAgbGV0IGNhbnZhc1dpZHRoIDogbnVtYmVyID0gKDxIVE1MQ2FudmFzRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVfY2FudmFzXCIpKS53aWR0aDtcbiAgICAgICAgbGV0IGNhbnZhc0hlaWdodCA6IG51bWJlciA9ICg8SFRNTENhbnZhc0VsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lX2NhbnZhc1wiKSkuaGVpZ2h0O1xuXG4gICAgICAgIC8vIEJVSUxEIEEgQlVOQ0ggT0YgQ0lSQ0xFIFNQUklURVNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBERU1PX1NQUklURV9UWVBFUy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA1OyBqKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgc3ByaXRlVHlwZVRvVXNlIDogc3RyaW5nID0gREVNT19TUFJJVEVfVFlQRVNbaV07XG4gICAgICAgICAgICAgICAgbGV0IGFuaW1hdGVkU3ByaXRlVHlwZSA6IEFuaW1hdGVkU3ByaXRlVHlwZSA9IHJlc291cmNlTWFuYWdlci5nZXRBbmltYXRlZFNwcml0ZVR5cGVCeUlkKHNwcml0ZVR5cGVUb1VzZSk7XG4gICAgICAgICAgICAgICAgbGV0IHNwcml0ZVRvQWRkIDogQW5pbWF0ZWRTcHJpdGUgPSBuZXcgQW5pbWF0ZWRTcHJpdGUoYW5pbWF0ZWRTcHJpdGVUeXBlLCBERU1PX1NQUklURV9TVEFURVMuRk9SV0FSRF9TVEFURSk7XG4gICAgICAgICAgICAgICAgbGV0IHJhbmRvbVggOiBudW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjYW52YXNXaWR0aCkgLSAoYW5pbWF0ZWRTcHJpdGVUeXBlLmdldFNwcml0ZVdpZHRoKCkvMik7XG4gICAgICAgICAgICAgICAgbGV0IHJhbmRvbVkgOiBudW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBjYW52YXNIZWlnaHQpIC0gKGFuaW1hdGVkU3ByaXRlVHlwZS5nZXRTcHJpdGVIZWlnaHQoKS8yKTtcbiAgICAgICAgICAgICAgICBzcHJpdGVUb0FkZC5nZXRQb3NpdGlvbigpLnNldChyYW5kb21YLCByYW5kb21ZLCAwLjAsIDEuMCk7XG4gICAgICAgICAgICAgICAgc2NlbmUuYWRkQW5pbWF0ZWRTcHJpdGUoc3ByaXRlVG9BZGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy9UT0RPOiBtYWtlIDUgR3JhZGllbnQgQ2lyY2xlc1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDU7IGorKykge1xuICAgICAgICAgICAgbGV0IGdyYWRpZW50U3ByaXRlVHlwZSA6IEdyYWRpZW50Q2lyY2xlU3ByaXRlVHlwZSA9IG5ldyBHcmFkaWVudENpcmNsZVNwcml0ZVR5cGUoMjAwLCAyMDApO1xuICAgICAgICAgICAgbGV0IHNwcml0ZVRvQWRkIDogR3JhZGllbnRDaXJjbGVTcHJpdGUgPSBuZXcgR3JhZGllbnRDaXJjbGVTcHJpdGUoZ3JhZGllbnRTcHJpdGVUeXBlLCBcIk5ldyBHcmFkaWVudCBTcHJpdGVcIik7XG4gICAgICAgICAgICBsZXQgcmFuZG9tWCA6IG51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNhbnZhc1dpZHRoKSAtIChncmFkaWVudFNwcml0ZVR5cGUuZ2V0U3ByaXRlV2lkdGgoKS8yKTtcbiAgICAgICAgICAgIGxldCByYW5kb21ZIDogbnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2FudmFzSGVpZ2h0KSAtIChncmFkaWVudFNwcml0ZVR5cGUuZ2V0U3ByaXRlSGVpZ2h0KCkvMik7XG4gICAgICAgICAgICBzcHJpdGVUb0FkZC5nZXRQb3NpdGlvbigpLnNldChyYW5kb21YLCByYW5kb21ZLCAwLjAsIDEuMCk7XG4gICAgICAgICAgICBzY2VuZS5hZGRDaXJjbGVTcHJpdGUoc3ByaXRlVG9BZGQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBCdWlsZHMgYWxsIHRoZSB0ZXh0IHRvIGJlIGRpc3BsYXllZCBpbiB0aGUgYXBwbGljYXRpb24uXG4gICAgICovXG4gICAgcHJpdmF0ZSBidWlsZFRleHQoZ2FtZSA6IEdhbWUpIHtcbiAgICAgICAgbGV0IHNjZW5lR3JhcGggOiBTY2VuZUdyYXBoID0gZ2FtZS5nZXRTY2VuZUdyYXBoKCk7XG4gICAgICAgIGxldCBudW1TcHJpdGVzVGV4dCA9IG5ldyBUZXh0VG9SZW5kZXIoXCJOdW0gU3ByaXRlc1wiLCBcIlwiLCAyMCwgNTAsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbnVtU3ByaXRlc1RleHQudGV4dCA9IFwiTnVtYmVyIG9mIFNwcml0ZXM6IFwiICsgc2NlbmVHcmFwaC5nZXROdW1TcHJpdGVzKCkgKyBcIlwiICsgc2NlbmVHcmFwaC5nZXRTY2VuZURlc2NyaXB0aW9uKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgdGV4dFJlbmRlcmVyID0gZ2FtZS5nZXRSZW5kZXJpbmdTeXN0ZW0oKS5nZXRUZXh0UmVuZGVyZXIoKTtcbiAgICAgICAgdGV4dFJlbmRlcmVyLmFkZFRleHRUb1JlbmRlcihudW1TcHJpdGVzVGV4dCk7XG4gICAgfVxufVxuXG4vLyBUSElTIElTIFRIRSBFTlRSWSBQT0lOVCBJTlRPIE9VUiBBUFBMSUNBVElPTiwgV0UgTUFLRVxuLy8gVEhFIEdhbWUgT0JKRUNUIEFORCBJTklUSUFMSVpFIElUIFdJVEggVEhFIENBTlZBU0VTXG5sZXQgZ2FtZSA9IG5ldyBHYW1lKCk7XG5nYW1lLmluaXQoXCJnYW1lX2NhbnZhc1wiLCBcInRleHRfY2FudmFzXCIpO1xuXG4vLyBCVUlMRCBUSEUgR0FNRSBTQ0VORVxubGV0IGRlbW8gPSBuZXcgQW5pbWF0ZWRTcHJpdGVEZW1vKCk7XG5kZW1vLmJ1aWxkVGVzdFNjZW5lKGdhbWUsIGZ1bmN0aW9uKCkge1xuICAgIC8vIEFORCBTVEFSVCBUSEUgR0FNRSBMT09QXG4gICAgZ2FtZS5zdGFydCgpO1xufSk7IiwiLypcbiAqIEdhbWUgaXMgdGhlIGZvY2FsIHBvaW50IG9mIHRoZSBhcHBsaWNhdGlvbiwgaXQgaGFzIDQgc3Vic3lzdGVtcyxcbiAqIHRoZSByZXNvdXJjZSBtYW5hZ2VyLCB0aGUgc2NlbmUgZ3JhcGgsIHRoZSByZW5kZXJpbmcgc3lzdGVtLCBhbmRcbiAqIHRoZSBVSSBjb250cm9sbGVyLiBJbiBhZGRpdGlvbiBpdCBzZXJ2ZXMgYXMgdGhlIGdhbWUgbG9vcCwgcHJvdmlkaW5nXG4gKiBib3RoIGFuIHVwZGF0ZSBhbmQgZHJhdyBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCBvbiBhIHNjaGVkdWxlLlxuICovXG5pbXBvcnQge0dhbWVMb29wVGVtcGxhdGV9IGZyb20gJy4vbG9vcC9HYW1lTG9vcFRlbXBsYXRlJ1xuaW1wb3J0IHtXZWJHTEdhbWVSZW5kZXJpbmdTeXN0ZW19IGZyb20gJy4vcmVuZGVyaW5nL1dlYkdMR2FtZVJlbmRlcmluZ1N5c3RlbSdcbmltcG9ydCB7U2NlbmVHcmFwaH0gZnJvbSAnLi9zY2VuZS9TY2VuZUdyYXBoJ1xuaW1wb3J0IHtBbmltYXRlZFNwcml0ZX0gZnJvbSAnLi9zY2VuZS9zcHJpdGUvQW5pbWF0ZWRTcHJpdGUnXG5pbXBvcnQge1Jlc291cmNlTWFuYWdlcn0gZnJvbSAnLi9maWxlcy9SZXNvdXJjZU1hbmFnZXInXG5pbXBvcnQge1VJQ29udHJvbGxlcn0gZnJvbSAnLi91aS9VSUNvbnRyb2xsZXInXG5pbXBvcnQgeyBHcmFkaWVudENpcmNsZVNwcml0ZSB9IGZyb20gJy4vc2NlbmUvc3ByaXRlL0dyYWRpZW50Q2lyY2xlU3ByaXRlJ1xuXG5leHBvcnQgY2xhc3MgR2FtZSBleHRlbmRzIEdhbWVMb29wVGVtcGxhdGUge1xuICAgIHByaXZhdGUgcmVzb3VyY2VNYW5hZ2VyIDogUmVzb3VyY2VNYW5hZ2VyID0gbmV3IFJlc291cmNlTWFuYWdlcigpO1xuICAgIHByaXZhdGUgc2NlbmVHcmFwaCA6IFNjZW5lR3JhcGggPSBuZXcgU2NlbmVHcmFwaCgpO1xuICAgIHByaXZhdGUgcmVuZGVyaW5nU3lzdGVtIDogV2ViR0xHYW1lUmVuZGVyaW5nU3lzdGVtID0gbmV3IFdlYkdMR2FtZVJlbmRlcmluZ1N5c3RlbSgpO1xuICAgIHByaXZhdGUgdWlDb250cm9sbGVyIDogVUlDb250cm9sbGVyID0gbmV3IFVJQ29udHJvbGxlcigpO1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRSZW5kZXJpbmdTeXN0ZW0oKSA6IFdlYkdMR2FtZVJlbmRlcmluZ1N5c3RlbSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmluZ1N5c3RlbTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0UmVzb3VyY2VNYW5hZ2VyKCkgOiBSZXNvdXJjZU1hbmFnZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXNvdXJjZU1hbmFnZXI7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNjZW5lR3JhcGgoKSA6IFNjZW5lR3JhcGgge1xuICAgICAgICByZXR1cm4gdGhpcy5zY2VuZUdyYXBoO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbml0KGdhbWVDYW52YXNJZCA6IHN0cmluZywgdGV4dENhbnZhc0lkIDogc3RyaW5nKSA6IHZvaWQge1xuICAgICAgICB0aGlzLnJlbmRlcmluZ1N5c3RlbS5pbml0KGdhbWVDYW52YXNJZCwgdGV4dENhbnZhc0lkKTtcbiAgICAgICAgdGhpcy51aUNvbnRyb2xsZXIuaW5pdChnYW1lQ2FudmFzSWQsIHRoaXMuc2NlbmVHcmFwaCwgdGhpcy5yZXNvdXJjZU1hbmFnZXIpO1xuICAgIH1cblxuICAgIHB1YmxpYyBiZWdpbigpIDogdm9pZCB7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBUaGlzIGRyYXdzIHRoZSBnYW1lLiBOb3RlIHRoYXQgd2UgYXJlIG5vdCBjdXJyZW50bHkgdXNpbmcgdGhlIFxuICAgICAqIGludGVycG9sYXRpb24gdmFsdWUsIGJ1dCBjb3VsZCBvbmNlIHBoeXNpY3MgaXMgaW52b2x2ZWQuXG4gICAgICovXG4gICAgcHVibGljIGRyYXcoaW50ZXJwb2xhdGlvblBlcmNlbnRhZ2UgOiBudW1iZXIpIDogdm9pZCB7XG4gICAgICAgIC8vIEdFVCBUSEUgVklTSUJMRSBTRVQgRlJPTSBUSEUgU0NFTkUgR1JBUEhcbiAgICAgICAgbGV0IHZpc2libGVTcHJpdGVzIDogQXJyYXk8QW5pbWF0ZWRTcHJpdGU+O1xuICAgICAgICB2aXNpYmxlU3ByaXRlcyA9IDxBcnJheTxBbmltYXRlZFNwcml0ZT4+dGhpcy5zY2VuZUdyYXBoLnNjb3BlU3ByaXRlcygpO1xuXG4gICAgICAgIGxldCB2aXNpYmxlQ2lyY2xlcyA6IEFycmF5PEdyYWRpZW50Q2lyY2xlU3ByaXRlPjtcbiAgICAgICAgdmlzaWJsZUNpcmNsZXMgPSA8QXJyYXk8R3JhZGllbnRDaXJjbGVTcHJpdGU+PnRoaXMuc2NlbmVHcmFwaC5zY29wZUNpcmNsZXMoKTtcbiAgICAgICAgLy8gUkVOREVSIFRIRSBWSVNJQkxFIFNFVCwgV0hJQ0ggU0hPVUxEIEFMTCBCRSBSRU5ERVJBQkxFXG4gICAgICAgIHRoaXMucmVuZGVyaW5nU3lzdGVtLnJlbmRlcih2aXNpYmxlU3ByaXRlcywgdmlzaWJsZUNpcmNsZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHNjZW5lLlxuICAgICAqL1xuICAgIHB1YmxpYyB1cGRhdGUoZGVsdGEgOiBudW1iZXIpIDogdm9pZCB7XG4gICAgICAgIHRoaXMuc2NlbmVHcmFwaC51cGRhdGUoZGVsdGEpO1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBGUFMgY291bnRlci5cbiAgICAgKi9cbiAgICBwdWJsaWMgZW5kKGZwcyA6IG51bWJlciwgcGFuaWMgOiBib29sZWFuKSA6IHZvaWQge1xuICAgICAgICBpZiAocGFuaWMpIHtcbiAgICAgICAgICAgIHZhciBkaXNjYXJkZWRUaW1lID0gTWF0aC5yb3VuZCh0aGlzLnJlc2V0RnJhbWVEZWx0YSgpKTtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignTWFpbiBsb29wIHBhbmlja2VkLCBwcm9iYWJseSBiZWNhdXNlIHRoZSBicm93c2VyIHRhYiB3YXMgcHV0IGluIHRoZSBiYWNrZ3JvdW5kLiBEaXNjYXJkaW5nICcgKyBkaXNjYXJkZWRUaW1lICsgJ21zJyk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiLypcbiAqIFJlc291cmNlTWFuYWdlci5qc1xuICpcbiAqIFRoaXMgY2xhc3MgaXMgcmVzcG9uc2libGUgZm9yIG1hbmFnaW5nIGFsbCBzaGFyZWQgcmVzb3VyY2VzLiBUaGlzIG1lYW5zIHRoaW5nc1xuICogdGhhdCBtYXkgYmUgbmVlZGVkIGJ5IG11bHRpcGxlIGdhbWUgb2JqZWN0cy4gSW4gdGhpcyBhcHBsaWNhdGlvbiB0aGlzIG1lYW5zXG4gKiB0ZXh0dXJlcyBmb3IgdGhlIHB1cnBvc2Ugb2YgR1BVIHJlbmRlcmluZyBhbmQgYW5pbWF0ZWQgc3ByaXRlIHR5cGVzLlxuICovXG5pbXBvcnQge1Nwcml0ZVR5cGVEYXRhLCBBbmltYXRpb25TdGF0ZURhdGEsIEFuaW1hdGlvbkZyYW1lRGF0YX0gZnJvbSAnLi9TcHJpdGVUeXBlRGF0YSdcbmltcG9ydCB7SGFzaFRhYmxlfSBmcm9tICcuLi9kYXRhL0hhc2hUYWJsZSdcbmltcG9ydCB7V2ViR0xHYW1lUmVuZGVyaW5nU3lzdGVtfSBmcm9tICcuLi9yZW5kZXJpbmcvV2ViR0xHYW1lUmVuZGVyaW5nU3lzdGVtJ1xuaW1wb3J0IHtXZWJHTEdhbWVUZXh0dXJlfSBmcm9tICcuLi9yZW5kZXJpbmcvV2ViR0xHYW1lVGV4dHVyZSdcbmltcG9ydCB7QW5pbWF0ZWRTcHJpdGVUeXBlfSBmcm9tICcuLi9zY2VuZS9zcHJpdGUvQW5pbWF0ZWRTcHJpdGVUeXBlJ1xuXG5leHBvcnQgY2xhc3MgUmVzb3VyY2VNYW5hZ2VyIHtcbiAgICAvLyBHQU1FIFRFWFRVUkVTIFxuICAgIHByaXZhdGUgZ2FtZVRleHR1cmVzIDogQXJyYXk8V2ViR0xHYW1lVGV4dHVyZT4gPSBuZXcgQXJyYXkoKTtcbiAgICBwcml2YXRlIGdhbWVUZXh0dXJlSWRzIDogSGFzaFRhYmxlPG51bWJlcj4gPSB7fTtcbiAgICBwcml2YXRlIG51bVRleHR1cmVzVG9Mb2FkIDogbnVtYmVyO1xuICAgIHByaXZhdGUgbnVtVGV4dHVyZXNMb2FkZWQgOiBudW1iZXI7XG5cbiAgICAvLyBBTklNQVRFRCBTUFJJVEUgVFlQRVNcbiAgICBwcml2YXRlIGdhbWVTcHJpdGVUeXBlcyA6IEFycmF5PEFuaW1hdGVkU3ByaXRlVHlwZT4gPSBuZXcgQXJyYXkoKTtcbiAgICBwcml2YXRlIGdhbWVTcHJpdGVUeXBlSWRzIDogSGFzaFRhYmxlPG51bWJlcj4gPSB7fTtcbiAgICBwcml2YXRlIG51bVNwcml0ZVR5cGVzVG9Mb2FkIDogbnVtYmVyO1xuICAgIHByaXZhdGUgbnVtU3ByaXRlVHlwZXNMb2FkZWQgOiBudW1iZXI7XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7fVxuXG4gICAgLy8gQUNDRVNTT1IgTUVUSE9EU1xuXG4gICAgcHVibGljIGdldEFuaW1hdGVkU3ByaXRlVHlwZUJ5SW5kZXgodHlwZUluZGV4IDogbnVtYmVyKSA6IEFuaW1hdGVkU3ByaXRlVHlwZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdhbWVTcHJpdGVUeXBlc1t0eXBlSW5kZXhdO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRBbmltYXRlZFNwcml0ZVR5cGVCeUlkKHR5cGVJZCA6IHN0cmluZykgOiBBbmltYXRlZFNwcml0ZVR5cGUge1xuICAgICAgICBsZXQgdHlwZUluZGV4IDogbnVtYmVyID0gdGhpcy5nYW1lU3ByaXRlVHlwZUlkc1t0eXBlSWRdO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRBbmltYXRlZFNwcml0ZVR5cGVCeUluZGV4KHR5cGVJbmRleCk7XG4gICAgfVxuICAgIFxuICAgIC8vIEFERFMgQSBORVcgU1BSSVRFIFRZUEUgXG4gICAgcHVibGljIGFkZEFuaW1hdGVkU3ByaXRlVHlwZSh0eXBlSWQgOiBudW1iZXIsIHNwcml0ZVR5cGUgOiBBbmltYXRlZFNwcml0ZVR5cGUpIDogdm9pZCB7XG4gICAgICAgIHRoaXMuZ2FtZVNwcml0ZVR5cGVzW3R5cGVJZF0gPSBzcHJpdGVUeXBlO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogTG9hZHMgYWxsIHRoZSB0ZXh0dXJlcyBsaXN0ZWQgaW4gdGhlIHRleHR1cmVQYXRocyBhcmd1bWVudCBhbmQgb25jZVxuICAgICAqIHRoYXQgaXMgZG9uZSBpdCBjYWxscyB0aGUgY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAgICovXG4gICAgcHVibGljIGxvYWRUZXh0dXJlcyggICAgdGV4dHVyZVBhdGhzIDogQXJyYXk8c3RyaW5nPiwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyaW5nU3lzdGVtIDogV2ViR0xHYW1lUmVuZGVyaW5nU3lzdGVtLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayA6IEZ1bmN0aW9uKSA6IHZvaWQge1xuICAgICAgICAvLyBUSEVOIExPQUQgVEhFIFRFWFRVUkVTIFdFJ0xMIEJFIFVTSU5HXG4gICAgICAgIHRoaXMubnVtVGV4dHVyZXNUb0xvYWQgPSB0ZXh0dXJlUGF0aHMubGVuZ3RoO1xuICAgICAgICB0aGlzLm51bVRleHR1cmVzTG9hZGVkID0gMDtcbiAgICAgICAgbGV0IHRoaXNSZXNvdXJjZU1hbmFnZXIgPSB0aGlzO1xuICAgICAgICBsZXQgc3RhcnROdW1UZXh0dXJlcyA9IHRoaXMuZ2FtZVRleHR1cmVzLmxlbmd0aDtcbiAgICAgICAgZm9yIChsZXQgaSA6IG51bWJlciA9IDA7IGkgPCB0aGlzLm51bVRleHR1cmVzVG9Mb2FkOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB0ZXh0dXJlVG9Mb2FkIDogV2ViR0xHYW1lVGV4dHVyZSA9IG5ldyBXZWJHTEdhbWVUZXh0dXJlKCk7XG4gICAgICAgICAgICBsZXQgdGV4dHVyZUlkID0gc3RhcnROdW1UZXh0dXJlcyArIGk7XG4gICAgICAgICAgICB0aGlzUmVzb3VyY2VNYW5hZ2VyLmdhbWVUZXh0dXJlc1t0ZXh0dXJlSWRdID0gdGV4dHVyZVRvTG9hZDtcbiAgICAgICAgICAgIHRoaXNSZXNvdXJjZU1hbmFnZXIuZ2FtZVRleHR1cmVJZHNbdGV4dHVyZVBhdGhzW2ldXSA9IHRleHR1cmVJZDtcbiAgICAgICAgICAgIHRoaXNSZXNvdXJjZU1hbmFnZXIubG9hZEltYWdlKHRleHR1cmVQYXRoc1tpXSwgdGV4dHVyZUlkLCBmdW5jdGlvbihpZCA6IG51bWJlciwgaW1hZ2UgOiBIVE1MSW1hZ2VFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyaW5nU3lzdGVtLmluaXRXZWJHTFRleHR1cmUodGV4dHVyZVRvTG9hZCwgaWQsIGltYWdlLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1Jlc291cmNlTWFuYWdlci5jb21wbGV0ZUxvYWRpbmdUZXh0dXJlKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBMb2FkcyBhbGwgdGhlIHNwcml0ZSB0eXBlcyBsaXN0ZWQgaW4gdGhlIHNwcml0ZVR5cGVQYXRocyBhcmd1bWVudCBhbmQgb25jZVxuICAgICAqIHRoYXQgaXMgZG9uZSBpdCBjYWxscyB0aGUgY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAgICovXG4gICAgcHVibGljIGxvYWRTcHJpdGVUeXBlcyhzcHJpdGVUeXBlUGF0aHMgOiBBcnJheTxzdHJpbmc+LCBcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgOiBGdW5jdGlvbikgOiB2b2lkIHtcbiAgICAgICAgLy8gVEhFTiBMT0FEIFRIRSBURVhUVVJFUyBXRSdMTCBCRSBVU0lOR1xuICAgICAgICB0aGlzLm51bVNwcml0ZVR5cGVzVG9Mb2FkID0gc3ByaXRlVHlwZVBhdGhzLmxlbmd0aDtcbiAgICAgICAgdGhpcy5udW1TcHJpdGVUeXBlc0xvYWRlZCA9IDA7XG4gICAgICAgIGxldCB0aGlzUmVzb3VyY2VNYW5hZ2VyID0gdGhpcztcbiAgICAgICAgbGV0IHN0YXJ0TnVtU3ByaXRlVHlwZXMgPSB0aGlzLmdhbWVTcHJpdGVUeXBlcy5sZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgOiBudW1iZXIgPSAwOyBpIDwgdGhpcy5udW1TcHJpdGVUeXBlc1RvTG9hZDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc3ByaXRlVHlwZUlkID0gc3RhcnROdW1TcHJpdGVUeXBlcyArIGk7XG4gICAgICAgICAgICB0aGlzLmxvYWRTcHJpdGVUeXBlKHNwcml0ZVR5cGVQYXRoc1tpXSwgc3ByaXRlVHlwZUlkLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzUmVzb3VyY2VNYW5hZ2VyLmNvbXBsZXRlTG9hZGluZ1Nwcml0ZVR5cGUoY2FsbGJhY2spO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBQUklWQVRFIEhFTFBFUiBNRVRIT0RTXG5cbiAgICAvLyBMT0FEUyBBIE5FVyBKU09OIEZJTEUgQU5EIFVQT04gQ09NUExFVElPTiBDQUxMUyBUSEUgY2FsbGJhY2sgRlVOQ1RJT05cbiAgICBwcml2YXRlIGxvYWRKc29uRmlsZSh0ZXN0RmlsZVBhdGggOiBzdHJpbmcsIGNhbGxiYWNrIDogRnVuY3Rpb24pIDogdm9pZCB7XG4gICAgICAgIGxldCB4b2JqIDogWE1MSHR0cFJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgeG9iai5vdmVycmlkZU1pbWVUeXBlKFwiYXBwbGljYXRpb24vanNvblwiKTtcbiAgICAgICAgeG9iai5vcGVuKCdHRVQnLCB0ZXN0RmlsZVBhdGgsIHRydWUpO1xuICAgICAgICB4b2JqLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICgoeG9iai5yZWFkeVN0YXRlID09IDQpICYmICh4b2JqLnN0YXR1cyA9PSAyMDApKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soeG9iai5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB4b2JqLnNlbmQobnVsbCk7XG4gICAgfVxuXG4gICAgLy8gQ0hFQ0tTIFRPIFNFRSBJRiBBTEwgVEVYVFVSRSBMT0FESU5HIElTIENPTVBMRVRFLCBJRiBZRVMsIGNhbGxiYWNrIElTIElOVk9LRURcbiAgICBwcml2YXRlIGNvbXBsZXRlTG9hZGluZ1RleHR1cmUoY2FsbGJhY2sgOiBGdW5jdGlvbikgOiB2b2lkIHtcbiAgICAgICAgdGhpcy5udW1UZXh0dXJlc0xvYWRlZCsrO1xuICAgICAgICBpZiAodGhpcy5udW1UZXh0dXJlc0xvYWRlZCA9PT0gdGhpcy5udW1UZXh0dXJlc1RvTG9hZCkge1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvYWRzIGFuIEltYWdlIGludG8gUkFNIGFuZCBvbmNlIHRoYXQgcHJvY2VzcyBpcyBjb21wbGV0ZSBpdFxuICAgICAqIGNhbGxzIHRoZSBjYWxsYmFjayBtZXRob2QgYXJndW1lbnQsIHByZXN1bWFibHkgdG8gdGhlbiBsb2FkXG4gICAgICogaXQgaW50byBHUFUgbWVtb3J5LlxuICAgICAqL1xuICAgIHByaXZhdGUgbG9hZEltYWdlKHBhdGggOiBzdHJpbmcsIGlkIDogbnVtYmVyLCBjYWxsYmFjayA6IEZ1bmN0aW9uKSA6IHZvaWQge1xuICAgICAgICAvLyBNQUtFIFRIRSBJTUFHRVxuICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcblxuICAgICAgICAvLyBPTkNFIFRIRSBJTUFHRSBMT0FESU5HIElTIENPTVBMRVRFRCwgVEhFIENBTExCQUNLIFdJTEwgR0VUIENBTExFRFxuICAgICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7IFxuICAgICAgICAgICAgY2FsbGJhY2soaWQsIGltYWdlKTsgXG4gICAgICAgIH1cblxuICAgICAgICAvLyBTVEFSVCBJTUFHRSBMT0FESU5HXG4gICAgICAgIGltYWdlLnNyYyA9IHBhdGg7XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGxvYWRzIGEgc2luZ2xlIHNwcml0ZSB0eXBlIHJlc291cmNlIGZyb20gYSBKU09OIGZpbGUgYW5kIHVwb25cbiAgICAgKiBjb21wbGV0aW9uIGNhbGxzIHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBwcml2YXRlIGxvYWRTcHJpdGVUeXBlKGpzb25GaWxlUGF0aCA6IHN0cmluZywgc3ByaXRlVHlwZUlkIDogbnVtYmVyLCBjYWxsYmFjayA6IEZ1bmN0aW9uKSA6IHZvaWQge1xuICAgICAgICBsZXQgdGhpc1Jlc291cmNlTWFuYWdlciA6IFJlc291cmNlTWFuYWdlciA9IHRoaXM7XG4gICAgICAgIHRoaXMubG9hZEpzb25GaWxlKGpzb25GaWxlUGF0aCwgZnVuY3Rpb24oanNvblRleHQgOiBzdHJpbmcpIHtcbiAgICAgICAgICAgIGxldCBzcHJpdGVUeXBlIDogQW5pbWF0ZWRTcHJpdGVUeXBlID0gdGhpc1Jlc291cmNlTWFuYWdlci5sb2FkU3ByaXRlVHlwZURhdGEoanNvblRleHQpO1xuICAgICAgICAgICAgdGhpc1Jlc291cmNlTWFuYWdlci5nYW1lU3ByaXRlVHlwZXNbc3ByaXRlVHlwZUlkXSA9IHNwcml0ZVR5cGU7XG4gICAgICAgICAgICB0aGlzUmVzb3VyY2VNYW5hZ2VyLmdhbWVTcHJpdGVUeXBlSWRzW2pzb25GaWxlUGF0aF0gPSBzcHJpdGVUeXBlSWQ7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIFRoaXMgaGVscGVyIGZ1bmN0aW9uIGxvYWRzIGFsbCB0aGUganNvbiB0ZXh0IGludG8gYW4gQW5pbWF0ZWRTcHJpdGVUeXBlXG4gICAgICogb2JqZWN0IGFuZCByZXR1cm5zIGl0LlxuICAgICAqL1xuICAgIHByaXZhdGUgbG9hZFNwcml0ZVR5cGVEYXRhID0gKGpzb25UZXh0IDogc3RyaW5nKSA6IEFuaW1hdGVkU3ByaXRlVHlwZSA9PiB7XG4gICAgICAgIGxldCBqc29uRGF0YSA6IFNwcml0ZVR5cGVEYXRhID0gPFNwcml0ZVR5cGVEYXRhPkpTT04ucGFyc2UoanNvblRleHQpO1xuICAgICAgICBsZXQgdGV4dHVyZVBhdGggPSBqc29uRGF0YS5zcHJpdGVTaGVldEltYWdlO1xuICAgICAgICBsZXQgdGV4dHVyZUlkID0gdGhpcy5nYW1lVGV4dHVyZUlkc1t0ZXh0dXJlUGF0aF07XG4gICAgICAgIGxldCB0ZXh0dXJlIDogV2ViR0xHYW1lVGV4dHVyZSA9IHRoaXMuZ2FtZVRleHR1cmVzW3RleHR1cmVJZF07XG4gICAgICAgIGxldCBzcHJpdGVXaWR0aCA6IG51bWJlciA9IGpzb25EYXRhLnNwcml0ZVdpZHRoO1xuICAgICAgICBsZXQgc3ByaXRlSGVpZ2h0IDogbnVtYmVyID0ganNvbkRhdGEuc3ByaXRlSGVpZ2h0O1xuICAgICAgICBsZXQgYW5pbWF0ZWRTcHJpdGVUeXBlID0gbmV3IEFuaW1hdGVkU3ByaXRlVHlwZSh0ZXh0dXJlLCBzcHJpdGVXaWR0aCwgc3ByaXRlSGVpZ2h0KTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBqc29uRGF0YS5hbmltYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgYW5pbWF0aW9uID0gPEFuaW1hdGlvblN0YXRlRGF0YT5qc29uRGF0YS5hbmltYXRpb25zW2ldO1xuICAgICAgICAgICAgYW5pbWF0ZWRTcHJpdGVUeXBlLmFkZEFuaW1hdGlvbihhbmltYXRpb24ubmFtZSk7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGFuaW1hdGlvbi5mcmFtZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZnJhbWUgPSBhbmltYXRpb24uZnJhbWVzW2pdO1xuICAgICAgICAgICAgICAgIGFuaW1hdGVkU3ByaXRlVHlwZS5hZGRBbmltYXRpb25GcmFtZShhbmltYXRpb24ubmFtZSwgZnJhbWUuaW5kZXgsIGZyYW1lLmR1cmF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYW5pbWF0ZWRTcHJpdGVUeXBlO1xuICAgIH1cblxuICAgIC8vIENIRUNLUyBUTyBTRUUgSUYgQUxMIFNQUklURSBUWVBFIExPQURJTkcgSVMgQ09NUExFVEUsIElGIFlFUywgY2FsbGJhY2sgSVMgSU5WT0tFRFxuICAgIHByaXZhdGUgY29tcGxldGVMb2FkaW5nU3ByaXRlVHlwZShjYWxsYmFjayA6IEZ1bmN0aW9uKSA6IHZvaWQge1xuICAgICAgICB0aGlzLm51bVNwcml0ZVR5cGVzTG9hZGVkKys7XG4gICAgICAgIGlmICh0aGlzLm51bVNwcml0ZVR5cGVzTG9hZGVkID09PSB0aGlzLm51bVNwcml0ZVR5cGVzVG9Mb2FkKSB7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgfSAgICBcbn0iLCJleHBvcnQgYWJzdHJhY3QgY2xhc3MgR2FtZUxvb3BUZW1wbGF0ZSB7XG4gICAgLy8gQUxMIElOU1RBTkNFIFZBUklBQkxFUyBXSUxMIEJFIElOSVRJQUxJWkVEIFZJQSBUSEUgQ09OU1RSVUNUT1JcbiAgICBwcml2YXRlIGZwczogbnVtYmVyO1xuICAgIHByaXZhdGUgc2ltdWxhdGlvblRpbWVzdGVwOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBmcmFtZURlbHRhOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBsYXN0RnJhbWVUaW1lTXM6IG51bWJlcjtcbiAgICBwcml2YXRlIGZwc0FscGhhOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBmcHNVcGRhdGVJbnRlcnZhbDogbnVtYmVyO1xuICAgIHByaXZhdGUgbGFzdEZwc1VwZGF0ZTogbnVtYmVyO1xuICAgIHByaXZhdGUgZnJhbWVzU2luY2VMYXN0RnBzVXBkYXRlOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBudW1VcGRhdGVTdGVwczogbnVtYmVyO1xuICAgIHByaXZhdGUgbWluRnJhbWVEZWxheTogbnVtYmVyO1xuICAgIHByaXZhdGUgcnVubmluZzogYm9vbGVhbjtcbiAgICBwcml2YXRlIHN0YXJ0ZWQ6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBwYW5pYzogYm9vbGVhbjtcbiAgICBwcml2YXRlIHJhZjogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8vIEFuIGV4cG9uZW50aWFsIG1vdmluZyBhdmVyYWdlIG9mIHRoZSBmcmFtZXMgcGVyIHNlY29uZC5cbiAgICAgICAgdGhpcy5mcHMgPSA2MDtcblxuICAgICAgICAvLyBUaGUgYW1vdW50IG9mIHRpbWUgKGluIG1pbGxpc2Vjb25kcykgdG8gc2ltdWxhdGUgZWFjaCB0aW1lIHVwZGF0ZSgpIHJ1bnMuXG4gICAgICAgIC8vIFNlZSBgTWFpbkxvb3Auc2V0U2ltdWxhdGlvblRpbWVzdGVwKClgIGZvciBkZXRhaWxzLlxuICAgICAgICB0aGlzLnNpbXVsYXRpb25UaW1lc3RlcCA9IDEwMDAgLyB0aGlzLmZwcztcblxuICAgICAgICAvLyBUaGUgY3VtdWxhdGl2ZSBhbW91bnQgb2YgaW4tYXBwIHRpbWUgdGhhdCBoYXNuJ3QgYmVlbiBzaW11bGF0ZWQgeWV0LlxuICAgICAgICAvLyBTZWUgdGhlIGNvbW1lbnRzIGluc2lkZSBhbmltYXRlKCkgZm9yIGRldGFpbHMuXG4gICAgICAgIHRoaXMuZnJhbWVEZWx0YSA9IDA7XG5cbiAgICAgICAgLy8gVGhlIHRpbWVzdGFtcCBpbiBtaWxsaXNlY29uZHMgb2YgdGhlIGxhc3QgdGltZSB0aGUgbWFpbiBsb29wIHdhcyBydW4uXG4gICAgICAgIC8vIFVzZWQgdG8gY29tcHV0ZSB0aGUgdGltZSBlbGFwc2VkIGJldHdlZW4gZnJhbWVzLlxuICAgICAgICB0aGlzLmxhc3RGcmFtZVRpbWVNcyA9IDA7XG5cbiAgICAgICAgLy8gQSBmYWN0b3IgdGhhdCBhZmZlY3RzIGhvdyBoZWF2aWx5IHRvIHdlaWdodCBtb3JlIHJlY2VudCBzZWNvbmRzJ1xuICAgICAgICAvLyBwZXJmb3JtYW5jZSB3aGVuIGNhbGN1bGF0aW5nIHRoZSBhdmVyYWdlIGZyYW1lcyBwZXIgc2Vjb25kLiBWYWxpZCB2YWx1ZXNcbiAgICAgICAgLy8gcmFuZ2UgZnJvbSB6ZXJvIHRvIG9uZSBpbmNsdXNpdmUuIEhpZ2hlciB2YWx1ZXMgcmVzdWx0IGluIHdlaWdodGluZyBtb3JlXG4gICAgICAgIC8vIHJlY2VudCBzZWNvbmRzIG1vcmUgaGVhdmlseS5cbiAgICAgICAgdGhpcy5mcHNBbHBoYSA9IDAuOTtcblxuICAgICAgICAvLyBUaGUgbWluaW11bSBkdXJhdGlvbiBiZXR3ZWVuIHVwZGF0ZXMgdG8gdGhlIGZyYW1lcy1wZXItc2Vjb25kIGVzdGltYXRlLlxuICAgICAgICAvLyBIaWdoZXIgdmFsdWVzIGluY3JlYXNlIGFjY3VyYWN5LCBidXQgcmVzdWx0IGluIHNsb3dlciB1cGRhdGVzLlxuICAgICAgICB0aGlzLmZwc1VwZGF0ZUludGVydmFsID0gMTAwMDtcblxuICAgICAgICAvLyBUaGUgdGltZXN0YW1wIChpbiBtaWxsaXNlY29uZHMpIG9mIHRoZSBsYXN0IHRpbWUgdGhlIGBmcHNgIG1vdmluZ1xuICAgICAgICAvLyBhdmVyYWdlIHdhcyB1cGRhdGVkLlxuICAgICAgICB0aGlzLmxhc3RGcHNVcGRhdGUgPSAwO1xuXG4gICAgICAgIC8vIFRoZSBudW1iZXIgb2YgZnJhbWVzIGRlbGl2ZXJlZCBzaW5jZSB0aGUgbGFzdCB0aW1lIHRoZSBgZnBzYCBtb3ZpbmdcbiAgICAgICAgLy8gYXZlcmFnZSB3YXMgdXBkYXRlZCAoaS5lLiBzaW5jZSBgbGFzdEZwc1VwZGF0ZWApLlxuICAgICAgICB0aGlzLmZyYW1lc1NpbmNlTGFzdEZwc1VwZGF0ZSA9IDA7XG5cbiAgICAgICAgLy8gVGhlIG51bWJlciBvZiB0aW1lcyB1cGRhdGUoKSBpcyBjYWxsZWQgaW4gYSBnaXZlbiBmcmFtZS4gVGhpcyBpcyBvbmx5XG4gICAgICAgIC8vIHJlbGV2YW50IGluc2lkZSBvZiBhbmltYXRlKCksIGJ1dCBhIHJlZmVyZW5jZSBpcyBoZWxkIGV4dGVybmFsbHkgc28gdGhhdFxuICAgICAgICAvLyB0aGlzIHZhcmlhYmxlIGlzIG5vdCBtYXJrZWQgZm9yIGdhcmJhZ2UgY29sbGVjdGlvbiBldmVyeSB0aW1lIHRoZSBtYWluXG4gICAgICAgIC8vIGxvb3AgcnVucy5cbiAgICAgICAgdGhpcy5udW1VcGRhdGVTdGVwcyA9IDA7XG5cbiAgICAgICAgLy8gVGhlIG1pbmltdW0gYW1vdW50IG9mIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHRoYXQgbXVzdCBwYXNzIHNpbmNlIHRoZSBsYXN0XG4gICAgICAgIC8vIGZyYW1lIHdhcyBleGVjdXRlZCBiZWZvcmUgYW5vdGhlciBmcmFtZSBjYW4gYmUgZXhlY3V0ZWQuIFRoZVxuICAgICAgICAvLyBtdWx0aXBsaWNhdGl2ZSBpbnZlcnNlIGNhcHMgdGhlIEZQUyAodGhlIGRlZmF1bHQgb2YgemVybyBtZWFucyB0aGVyZSBpc1xuICAgICAgICAvLyBubyBjYXApLlxuICAgICAgICB0aGlzLm1pbkZyYW1lRGVsYXkgPSAwO1xuXG4gICAgICAgIC8vIFdoZXRoZXIgdGhlIG1haW4gbG9vcCBpcyBydW5uaW5nLlxuICAgICAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZTtcblxuICAgICAgICAvLyBgdHJ1ZWAgaWYgYE1haW5Mb29wLnN0YXJ0KClgIGhhcyBiZWVuIGNhbGxlZCBhbmQgdGhlIG1vc3QgcmVjZW50IHRpbWUgaXRcbiAgICAgICAgLy8gd2FzIGNhbGxlZCBoYXMgbm90IGJlZW4gZm9sbG93ZWQgYnkgYSBjYWxsIHRvIGBNYWluTG9vcC5zdG9wKClgLiBUaGlzIGlzXG4gICAgICAgIC8vIGRpZmZlcmVudCB0aGFuIGBydW5uaW5nYCBiZWNhdXNlIHRoZXJlIGlzIGEgZGVsYXkgb2YgYSBmZXcgbWlsbGlzZWNvbmRzXG4gICAgICAgIC8vIGFmdGVyIGBNYWluTG9vcC5zdGFydCgpYCBpcyBjYWxsZWQgYmVmb3JlIHRoZSBhcHBsaWNhdGlvbiBpcyBjb25zaWRlcmVkXG4gICAgICAgIC8vIFwicnVubmluZy5cIiBUaGlzIGRlbGF5IGlzIGR1ZSB0byB3YWl0aW5nIGZvciB0aGUgbmV4dCBmcmFtZS5cbiAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG5cbiAgICAgICAgLy8gV2hldGhlciB0aGUgc2ltdWxhdGlvbiBoYXMgZmFsbGVuIHRvbyBmYXIgYmVoaW5kIHJlYWwgdGltZS5cbiAgICAgICAgLy8gU3BlY2lmaWNhbGx5LCBgcGFuaWNgIHdpbGwgYmUgc2V0IHRvIGB0cnVlYCBpZiB0b28gbWFueSB1cGRhdGVzIG9jY3VyIGluXG4gICAgICAgIC8vIG9uZSBmcmFtZS4gVGhpcyBpcyBvbmx5IHJlbGV2YW50IGluc2lkZSBvZiBhbmltYXRlKCksIGJ1dCBhIHJlZmVyZW5jZSBpc1xuICAgICAgICAvLyBoZWxkIGV4dGVybmFsbHkgc28gdGhhdCB0aGlzIHZhcmlhYmxlIGlzIG5vdCBtYXJrZWQgZm9yIGdhcmJhZ2VcbiAgICAgICAgLy8gY29sbGVjdGlvbiBldmVyeSB0aW1lIHRoZSBtYWluIGxvb3AgcnVucy5cbiAgICAgICAgdGhpcy5wYW5pYyA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgaG93IG1hbnkgbWlsbGlzZWNvbmRzIHNob3VsZCBiZSBzaW11bGF0ZWQgYnkgZXZlcnkgcnVuIG9mIHVwZGF0ZSgpLlxuICAgICAqXG4gICAgICogU2VlIGBNYWluTG9vcC5zZXRTaW11bGF0aW9uVGltZXN0ZXAoKWAgZm9yIGRldGFpbHMgb24gdGhpcyB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKiAgIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgc2hvdWxkIGJlIHNpbXVsYXRlZCBieSBldmVyeSBydW4gb2ZcbiAgICAgKiAgIHtAbGluayAjc2V0VXBkYXRlIHVwZGF0ZX0oKS5cbiAgICAgKi9cbiAgICBnZXRTaW11bGF0aW9uVGltZXN0ZXAoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2ltdWxhdGlvblRpbWVzdGVwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgaG93IG1hbnkgbWlsbGlzZWNvbmRzIHNob3VsZCBiZSBzaW11bGF0ZWQgYnkgZXZlcnkgcnVuIG9mIHVwZGF0ZSgpLlxuICAgICAqXG4gICAgICogVGhlIHBlcmNlaXZlZCBmcmFtZXMgcGVyIHNlY29uZCAoRlBTKSBpcyBlZmZlY3RpdmVseSBjYXBwZWQgYXQgdGhlXG4gICAgICogbXVsdGlwbGljYXRpdmUgaW52ZXJzZSBvZiB0aGUgc2ltdWxhdGlvbiB0aW1lc3RlcC4gVGhhdCBpcywgaWYgdGhlXG4gICAgICogdGltZXN0ZXAgaXMgMTAwMCAvIDYwICh3aGljaCBpcyB0aGUgZGVmYXVsdCksIHRoZW4gdGhlIG1heGltdW0gcGVyY2VpdmVkXG4gICAgICogRlBTIGlzIGVmZmVjdGl2ZWx5IDYwLiBEZWNyZWFzaW5nIHRoZSB0aW1lc3RlcCBpbmNyZWFzZXMgdGhlIG1heGltdW1cbiAgICAgKiBwZXJjZWl2ZWQgRlBTIGF0IHRoZSBjb3N0IG9mIHJ1bm5pbmcge0BsaW5rICNzZXRVcGRhdGUgdXBkYXRlfSgpIG1vcmVcbiAgICAgKiB0aW1lcyBwZXIgZnJhbWUgYXQgbG93ZXIgZnJhbWUgcmF0ZXMuIFNpbmNlIHJ1bm5pbmcgdXBkYXRlKCkgbW9yZSB0aW1lc1xuICAgICAqIHRha2VzIG1vcmUgdGltZSB0byBwcm9jZXNzLCB0aGlzIGNhbiBhY3R1YWxseSBzbG93IGRvd24gdGhlIGZyYW1lIHJhdGUuXG4gICAgICogQWRkaXRpb25hbGx5LCBpZiB0aGUgYW1vdW50IG9mIHRpbWUgaXQgdGFrZXMgdG8gcnVuIHVwZGF0ZSgpIGV4Y2VlZHMgb3JcbiAgICAgKiB2ZXJ5IG5lYXJseSBleGNlZWRzIHRoZSB0aW1lc3RlcCwgdGhlIGFwcGxpY2F0aW9uIHdpbGwgZnJlZXplIGFuZCBjcmFzaFxuICAgICAqIGluIGEgc3BpcmFsIG9mIGRlYXRoICh1bmxlc3MgaXQgaXMgcmVzY3VlZDsgc2VlIGBNYWluTG9vcC5zZXRFbmQoKWAgZm9yXG4gICAgICogYW4gZXhwbGFuYXRpb24gb2Ygd2hhdCBjYW4gYmUgZG9uZSBpZiBhIHNwaXJhbCBvZiBkZWF0aCBpcyBvY2N1cnJpbmcpLlxuICAgICAqXG4gICAgICogVGhlIGV4Y2VwdGlvbiB0byB0aGlzIGlzIHRoYXQgaW50ZXJwb2xhdGluZyBiZXR3ZWVuIHVwZGF0ZXMgZm9yIGVhY2hcbiAgICAgKiByZW5kZXIgY2FuIGluY3JlYXNlIHRoZSBwZXJjZWl2ZWQgZnJhbWUgcmF0ZSBhbmQgcmVkdWNlIHZpc3VhbFxuICAgICAqIHN0dXR0ZXJpbmcuIFNlZSBgTWFpbkxvb3Auc2V0RHJhdygpYCBmb3IgYW4gZXhwbGFuYXRpb24gb2YgaG93IHRvIGRvXG4gICAgICogdGhpcy5cbiAgICAgKlxuICAgICAqIElmIHlvdSBhcmUgY29uc2lkZXJpbmcgZGVjcmVhc2luZyB0aGUgc2ltdWxhdGlvbiB0aW1lc3RlcCBpbiBvcmRlciB0b1xuICAgICAqIHJhaXNlIHRoZSBtYXhpbXVtIHBlcmNlaXZlZCBGUFMsIGtlZXAgaW4gbWluZCB0aGF0IG1vc3QgbW9uaXRvcnMgY2FuJ3RcbiAgICAgKiBkaXNwbGF5IG1vcmUgdGhhbiA2MCBGUFMuIFdoZXRoZXIgaHVtYW5zIGNhbiB0ZWxsIHRoZSBkaWZmZXJlbmNlIGFtb25nXG4gICAgICogaGlnaCBmcmFtZSByYXRlcyBkZXBlbmRzIG9uIHRoZSBhcHBsaWNhdGlvbiwgYnV0IGZvciByZWZlcmVuY2UsIGZpbG0gaXNcbiAgICAgKiB1c3VhbGx5IGRpc3BsYXllZCBhdCAyNCBGUFMsIG90aGVyIHZpZGVvcyBhdCAzMCBGUFMsIG1vc3QgZ2FtZXMgYXJlXG4gICAgICogYWNjZXB0YWJsZSBhYm92ZSAzMCBGUFMsIGFuZCB2aXJ0dWFsIHJlYWxpdHkgbWlnaHQgcmVxdWlyZSA3NSBGUFMgdG9cbiAgICAgKiBmZWVsIG5hdHVyYWwuIFNvbWUgZ2FtaW5nIG1vbml0b3JzIGdvIHVwIHRvIDE0NCBGUFMuIFNldHRpbmcgdGhlXG4gICAgICogdGltZXN0ZXAgYmVsb3cgMTAwMCAvIDE0NCBpcyBkaXNjb3VyYWdlZCBhbmQgYmVsb3cgMTAwMCAvIDI0MCBpc1xuICAgICAqIHN0cm9uZ2x5IGRpc2NvdXJhZ2VkLiBUaGUgZGVmYXVsdCBvZiAxMDAwIC8gNjAgaXMgZ29vZCBpbiBtb3N0IGNhc2VzLlxuICAgICAqXG4gICAgICogVGhlIHNpbXVsYXRpb24gdGltZXN0ZXAgc2hvdWxkIHR5cGljYWxseSBvbmx5IGJlIGNoYW5nZWQgYXRcbiAgICAgKiBkZXRlcm1pbmlzdGljIHRpbWVzIChlLmcuIGJlZm9yZSB0aGUgbWFpbiBsb29wIHN0YXJ0cyBmb3IgdGhlIGZpcnN0XG4gICAgICogdGltZSwgYW5kIG5vdCBpbiByZXNwb25zZSB0byB1c2VyIGlucHV0IG9yIHNsb3cgZnJhbWUgcmF0ZXMpIHRvIGF2b2lkXG4gICAgICogaW50cm9kdWNpbmcgbm9uLWRldGVybWluaXN0aWMgYmVoYXZpb3IuIFRoZSB1cGRhdGUgdGltZXN0ZXAgc2hvdWxkIGJlXG4gICAgICogdGhlIHNhbWUgZm9yIGFsbCBwbGF5ZXJzL3VzZXJzIGluIG11bHRpcGxheWVyL211bHRpLXVzZXIgYXBwbGljYXRpb25zLlxuICAgICAqXG4gICAgICogU2VlIGFsc28gYE1haW5Mb29wLmdldFNpbXVsYXRpb25UaW1lc3RlcCgpYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0aW1lc3RlcFxuICAgICAqICAgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdGhhdCBzaG91bGQgYmUgc2ltdWxhdGVkIGJ5IGV2ZXJ5IHJ1biBvZlxuICAgICAqICAge0BsaW5rICNzZXRVcGRhdGUgdXBkYXRlfSgpLlxuICAgICAqL1xuICAgIHNldFNpbXVsYXRpb25UaW1lc3RlcCh0aW1lc3RlcDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2ltdWxhdGlvblRpbWVzdGVwID0gdGltZXN0ZXA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZXhwb25lbnRpYWwgbW92aW5nIGF2ZXJhZ2Ugb2YgdGhlIGZyYW1lcyBwZXIgc2Vjb25kLlxuICAgICAqXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqICAgVGhlIGV4cG9uZW50aWFsIG1vdmluZyBhdmVyYWdlIG9mIHRoZSBmcmFtZXMgcGVyIHNlY29uZC5cbiAgICAgKi9cbiAgICBnZXRGUFMoKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnBzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG1heGltdW0gZnJhbWUgcmF0ZS5cbiAgICAgKlxuICAgICAqIE90aGVyIGZhY3RvcnMgYWxzbyBsaW1pdCB0aGUgRlBTOyBzZWUgYE1haW5Mb29wLnNldFNpbXVsYXRpb25UaW1lc3RlcGBcbiAgICAgKiBmb3IgZGV0YWlscy5cbiAgICAgKlxuICAgICAqIFNlZSBhbHNvIGBNYWluTG9vcC5zZXRNYXhBbGxvd2VkRlBTKClgLlxuICAgICAqXG4gICAgICogQHJldHVybiB7TnVtYmVyfVxuICAgICAqICAgVGhlIG1heGltdW0gbnVtYmVyIG9mIGZyYW1lcyBwZXIgc2Vjb25kIGFsbG93ZWQuXG4gICAgICovXG4gICAgZ2V0TWF4QWxsb3dlZEZQUygpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gMTAwMCAvIHRoaXMubWluRnJhbWVEZWxheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGEgbWF4aW11bSBmcmFtZSByYXRlLlxuICAgICAqXG4gICAgICogU2VlIGFsc28gYE1haW5Mb29wLmdldE1heEFsbG93ZWRGUFMoKWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2Zwcz1JbmZpbml0eV1cbiAgICAgKiAgIFRoZSBtYXhpbXVtIG51bWJlciBvZiBmcmFtZXMgcGVyIHNlY29uZCB0byBleGVjdXRlLiBJZiBJbmZpbml0eSBvciBub3RcbiAgICAgKiAgIHBhc3NlZCwgdGhlcmUgd2lsbCBiZSBubyBGUFMgY2FwIChhbHRob3VnaCBvdGhlciBmYWN0b3JzIGRvIGxpbWl0IHRoZVxuICAgICAqICAgRlBTOyBzZWUgYE1haW5Mb29wLnNldFNpbXVsYXRpb25UaW1lc3RlcGAgZm9yIGRldGFpbHMpLiBJZiB6ZXJvLCB0aGlzXG4gICAgICogICB3aWxsIHN0b3AgdGhlIGxvb3AsIGFuZCB3aGVuIHRoZSBsb29wIGlzIG5leHQgc3RhcnRlZCwgaXQgd2lsbCByZXR1cm5cbiAgICAgKiAgIHRvIHRoZSBwcmV2aW91cyBtYXhpbXVtIGZyYW1lIHJhdGUuIFBhc3NpbmcgbmVnYXRpdmUgdmFsdWVzIHdpbGwgc3RhbGxcbiAgICAgKiAgIHRoZSBsb29wIHVudGlsIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGFnYWluIHdpdGggYSBwb3NpdGl2ZSB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZXRNYXhBbGxvd2VkRlBTKGZwczogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGlmICh0eXBlb2YgZnBzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgZnBzID0gSW5maW5pdHk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZwcyA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBEaXZpZGluZyBieSBJbmZpbml0eSByZXR1cm5zIHplcm8uXG4gICAgICAgICAgICB0aGlzLm1pbkZyYW1lRGVsYXkgPSAxMDAwIC8gZnBzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzZXQgdGhlIGFtb3VudCBvZiB0aW1lIHRoYXQgaGFzIG5vdCB5ZXQgYmVlbiBzaW11bGF0ZWQgdG8gemVyby5cbiAgICAgKlxuICAgICAqIFRoaXMgaW50cm9kdWNlcyBub24tZGV0ZXJtaW5pc3RpYyBiZWhhdmlvciBpZiBjYWxsZWQgYWZ0ZXIgdGhlXG4gICAgICogYXBwbGljYXRpb24gaGFzIHN0YXJ0ZWQgcnVubmluZyAodW5sZXNzIGl0IGlzIGJlaW5nIHJlc2V0LCBpbiB3aGljaCBjYXNlXG4gICAgICogaXQgZG9lc24ndCBtYXR0ZXIpLiBIb3dldmVyLCB0aGlzIGNhbiBiZSB1c2VmdWwgaW4gY2FzZXMgd2hlcmUgdGhlXG4gICAgICogYW1vdW50IG9mIHRpbWUgdGhhdCBoYXMgbm90IHlldCBiZWVuIHNpbXVsYXRlZCBoYXMgZ3Jvd24gdmVyeSBsYXJnZVxuICAgICAqIChmb3IgZXhhbXBsZSwgd2hlbiB0aGUgYXBwbGljYXRpb24ncyB0YWIgZ2V0cyBwdXQgaW4gdGhlIGJhY2tncm91bmQgYW5kXG4gICAgICogdGhlIGJyb3dzZXIgdGhyb3R0bGVzIHRoZSB0aW1lcnMgYXMgYSByZXN1bHQpLiBJbiBhcHBsaWNhdGlvbnMgd2l0aFxuICAgICAqIGxvY2tzdGVwIHRoZSBwbGF5ZXIgd291bGQgZ2V0IGRyb3BwZWQsIGJ1dCBpbiBvdGhlciBuZXR3b3JrZWRcbiAgICAgKiBhcHBsaWNhdGlvbnMgaXQgbWF5IGJlIG5lY2Vzc2FyeSB0byBzbmFwIG9yIGVhc2UgdGhlIHBsYXllci91c2VyIHRvIHRoZVxuICAgICAqIGF1dGhvcml0YXRpdmUgc3RhdGUgYW5kIGRpc2NhcmQgcGVuZGluZyB1cGRhdGVzIGluIHRoZSBwcm9jZXNzLiBJblxuICAgICAqIG5vbi1uZXR3b3JrZWQgYXBwbGljYXRpb25zIGl0IG1heSBhbHNvIGJlIGFjY2VwdGFibGUgdG8gc2ltcGx5IHJlc3VtZVxuICAgICAqIHRoZSBhcHBsaWNhdGlvbiB3aGVyZSBpdCBsYXN0IGxlZnQgb2ZmIGFuZCBpZ25vcmUgdGhlIGFjY3VtdWxhdGVkXG4gICAgICogdW5zaW11bGF0ZWQgdGltZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKiAgIFRoZSBjdW11bGF0aXZlIGFtb3VudCBvZiBlbGFwc2VkIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHRoYXQgaGFzIG5vdCB5ZXRcbiAgICAgKiAgIGJlZW4gc2ltdWxhdGVkLCBidXQgaXMgYmVpbmcgZGlzY2FyZGVkIGFzIGEgcmVzdWx0IG9mIGNhbGxpbmcgdGhpc1xuICAgICAqICAgZnVuY3Rpb24uXG4gICAgICovXG4gICAgcmVzZXRGcmFtZURlbHRhKCkgOiBudW1iZXIge1xuICAgICAgICB2YXIgb2xkRnJhbWVEZWx0YSA9IHRoaXMuZnJhbWVEZWx0YTtcbiAgICAgICAgdGhpcy5mcmFtZURlbHRhID0gMDtcbiAgICAgICAgcmV0dXJuIG9sZEZyYW1lRGVsdGE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RhcnRzIHRoZSBtYWluIGxvb3AuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgdGhlIGFwcGxpY2F0aW9uIGlzIG5vdCBjb25zaWRlcmVkIFwicnVubmluZ1wiIGltbWVkaWF0ZWx5IGFmdGVyXG4gICAgICogdGhpcyBmdW5jdGlvbiByZXR1cm5zOyByYXRoZXIsIGl0IGlzIGNvbnNpZGVyZWQgXCJydW5uaW5nXCIgYWZ0ZXIgdGhlXG4gICAgICogYXBwbGljYXRpb24gZHJhd3MgaXRzIGZpcnN0IGZyYW1lLiBUaGUgZGlzdGluY3Rpb24gaXMgdGhhdCBldmVudFxuICAgICAqIGhhbmRsZXJzIHNob3VsZCByZW1haW4gcGF1c2VkIHVudGlsIHRoZSBhcHBsaWNhdGlvbiBpcyBydW5uaW5nLCBldmVuXG4gICAgICogYWZ0ZXIgYE1haW5Mb29wLnN0YXJ0KClgIGlzIGNhbGxlZC4gQ2hlY2sgYE1haW5Mb29wLmlzUnVubmluZygpYCBmb3IgdGhlXG4gICAgICogY3VycmVudCBzdGF0dXMuIFRvIGFjdCBhZnRlciB0aGUgYXBwbGljYXRpb24gc3RhcnRzLCByZWdpc3RlciBhIGNhbGxiYWNrXG4gICAgICogd2l0aCByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKSBhZnRlciBjYWxsaW5nIHRoaXMgZnVuY3Rpb24gYW5kIGV4ZWN1dGUgdGhlXG4gICAgICogYWN0aW9uIGluIHRoYXQgY2FsbGJhY2suIEl0IGlzIHNhZmUgdG8gY2FsbCBgTWFpbkxvb3Auc3RhcnQoKWAgbXVsdGlwbGVcbiAgICAgKiB0aW1lcyBldmVuIGJlZm9yZSB0aGUgYXBwbGljYXRpb24gc3RhcnRzIHJ1bm5pbmcgYW5kIHdpdGhvdXQgY2FsbGluZ1xuICAgICAqIGBNYWluTG9vcC5zdG9wKClgIGluIGJldHdlZW4sIGFsdGhvdWdoIHRoZXJlIGlzIG5vIHJlYXNvbiB0byBkbyB0aGlzO1xuICAgICAqIHRoZSBtYWluIGxvb3Agd2lsbCBvbmx5IHN0YXJ0IGlmIGl0IGlzIG5vdCBhbHJlYWR5IHN0YXJ0ZWQuXG4gICAgICpcbiAgICAgKiBTZWUgYWxzbyBgTWFpbkxvb3Auc3RvcCgpYC5cbiAgICAgKi9cbiAgICBzdGFydCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIC8vIFNpbmNlIHRoZSBhcHBsaWNhdGlvbiBkb2Vzbid0IHN0YXJ0IHJ1bm5pbmcgaW1tZWRpYXRlbHksIHRyYWNrXG4gICAgICAgICAgICAvLyB3aGV0aGVyIHRoaXMgZnVuY3Rpb24gd2FzIGNhbGxlZCBhbmQgdXNlIHRoYXQgdG8ga2VlcCBpdCBmcm9tXG4gICAgICAgICAgICAvLyBzdGFydGluZyB0aGUgbWFpbiBsb29wIG11bHRpcGxlIHRpbWVzLlxuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gSW4gdGhlIG1haW4gbG9vcCwgZHJhdygpIGlzIGNhbGxlZCBhZnRlciB1cGRhdGUoKSwgc28gaWYgd2VcbiAgICAgICAgICAgIC8vIGVudGVyZWQgdGhlIG1haW4gbG9vcCBpbW1lZGlhdGVseSwgd2Ugd291bGQgbmV2ZXIgcmVuZGVyIHRoZVxuICAgICAgICAgICAgLy8gaW5pdGlhbCBzdGF0ZSBiZWZvcmUgYW55IHVwZGF0ZXMgb2NjdXIuIEluc3RlYWQsIHdlIHJ1biBvbmVcbiAgICAgICAgICAgIC8vIGZyYW1lIHdoZXJlIGFsbCB3ZSBkbyBpcyBkcmF3LCBhbmQgdGhlbiBzdGFydCB0aGUgbWFpbiBsb29wIHdpdGhcbiAgICAgICAgICAgIC8vIHRoZSBuZXh0IGZyYW1lLlxuICAgICAgICAgICAgdGhpcy5yYWYgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5zdGFydExvb3AuYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGFydExvb3AodGltZXN0YW1wIDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIC8vIFJlbmRlciB0aGUgaW5pdGlhbCBzdGF0ZSBiZWZvcmUgYW55IHVwZGF0ZXMgb2NjdXIuXG4gICAgICAgIHRoaXMuZHJhdygxKTtcblxuICAgICAgICAvLyBUaGUgYXBwbGljYXRpb24gaXNuJ3QgY29uc2lkZXJlZCBcInJ1bm5pbmdcIiB1bnRpbCB0aGVcbiAgICAgICAgLy8gYXBwbGljYXRpb24gc3RhcnRzIGRyYXdpbmcuXG4gICAgICAgIHRoaXMucnVubmluZyA9IHRydWU7XG5cbiAgICAgICAgLy8gUmVzZXQgdmFyaWFibGVzIHRoYXQgYXJlIHVzZWQgZm9yIHRyYWNraW5nIHRpbWUgc28gdGhhdCB3ZVxuICAgICAgICAvLyBkb24ndCBzaW11bGF0ZSB0aW1lIHBhc3NlZCB3aGlsZSB0aGUgYXBwbGljYXRpb24gd2FzIHBhdXNlZC5cbiAgICAgICAgdGhpcy5sYXN0RnJhbWVUaW1lTXMgPSB0aW1lc3RhbXA7XG4gICAgICAgIHRoaXMubGFzdEZwc1VwZGF0ZSA9IHRpbWVzdGFtcDtcbiAgICAgICAgdGhpcy5mcmFtZXNTaW5jZUxhc3RGcHNVcGRhdGUgPSAwO1xuXG4gICAgICAgIC8vIFN0YXJ0IHRoZSBtYWluIGxvb3AuXG4gICAgICAgIHRoaXMucmFmID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGUuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBtYWluIGxvb3AgaXMgY3VycmVudGx5IHJ1bm5pbmcuXG4gICAgICpcbiAgICAgKiBTZWUgYWxzbyBgTWFpbkxvb3Auc3RhcnQoKWAgYW5kIGBNYWluTG9vcC5zdG9wKClgLlxuICAgICAqXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKiAgIFdoZXRoZXIgdGhlIG1haW4gbG9vcCBpcyBjdXJyZW50bHkgcnVubmluZy5cbiAgICAgKi9cbiAgICBpc1J1bm5pbmcoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnJ1bm5pbmc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIG1haW4gbG9vcC5cbiAgICAgKlxuICAgICAqIEV2ZW50IGhhbmRsaW5nIGFuZCBvdGhlciBiYWNrZ3JvdW5kIHRhc2tzIHNob3VsZCBhbHNvIGJlIHBhdXNlZCB3aGVuIHRoZVxuICAgICAqIG1haW4gbG9vcCBpcyBwYXVzZWQuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgcGF1c2luZyBpbiBtdWx0aXBsYXllci9tdWx0aS11c2VyIGFwcGxpY2F0aW9ucyB3aWxsIGNhdXNlIHRoZVxuICAgICAqIHBsYXllcidzL3VzZXIncyBjbGllbnQgdG8gYmVjb21lIG91dCBvZiBzeW5jLiBJbiB0aGlzIGNhc2UgdGhlXG4gICAgICogc2ltdWxhdGlvbiBzaG91bGQgZXhpdCwgb3IgdGhlIHBsYXllci91c2VyIG5lZWRzIHRvIGJlIHNuYXBwZWQgdG8gdGhlaXJcbiAgICAgKiB1cGRhdGVkIHBvc2l0aW9uIHdoZW4gdGhlIG1haW4gbG9vcCBpcyBzdGFydGVkIGFnYWluLlxuICAgICAqXG4gICAgICogU2VlIGFsc28gYE1haW5Mb29wLnN0YXJ0KClgIGFuZCBgTWFpbkxvb3AuaXNSdW5uaW5nKClgLlxuICAgICAqL1xuICAgIHN0b3AoKTogdm9pZCB7XG4gICAgICAgIHRoaXMucnVubmluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMucmFmKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbWFpbiBsb29wIHRoYXQgcnVucyB1cGRhdGVzIGFuZCByZW5kZXJpbmcuXG4gICAgICogXG4gICAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSB0aW1lc3RhbXBcbiAgICAgKiBUaGUgY3VycmVudCB0aW1lc3RhbXAuIEluIHByYWN0aWNlIHRoaXMgaXMgc3VwcGxpZWQgYnlcbiAgICAgKiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgYXQgdGhlIHRpbWUgdGhhdCBpdCBzdGFydHMgdG8gZmlyZSBjYWxsYmFja3MuIFRoaXNcbiAgICAgKiBzaG91bGQgb25seSBiZSB1c2VkIGZvciBjb21wYXJpc29uIHRvIG90aGVyIHRpbWVzdGFtcHMgYmVjYXVzZSB0aGUgZXBvY2hcbiAgICAgKiAoaS5lLiB0aGUgXCJ6ZXJvXCIgdGltZSkgZGVwZW5kcyBvbiB0aGUgZW5naW5lIHJ1bm5pbmcgdGhpcyBjb2RlLiBJbiBlbmdpbmVzXG4gICAgICogdGhhdCBzdXBwb3J0IGBET01IaWdoUmVzVGltZVN0YW1wYCAoYWxsIG1vZGVybiBicm93c2VycyBleGNlcHQgaU9TIFNhZmFyaVxuICAgICAqIDgpIHRoZSBlcG9jaCBpcyB0aGUgdGltZSB0aGUgcGFnZSBzdGFydGVkIGxvYWRpbmcsIHNwZWNpZmljYWxseVxuICAgICAqIGBwZXJmb3JtYW5jZS50aW1pbmcubmF2aWdhdGlvblN0YXJ0YC4gRXZlcnl3aGVyZSBlbHNlLCBpbmNsdWRpbmcgbm9kZS5qcyxcbiAgICAgKiB0aGUgZXBvY2ggaXMgdGhlIFVuaXggZXBvY2ggKDE5NzAtMDEtMDFUMDA6MDA6MDBaKS5cbiAgICAgKiBcbiAgICAgKiBAaWdub3JlXG4gICAgICovXG4gICAgYW5pbWF0ZSh0aW1lc3RhbXAgOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgLy8gUnVuIHRoZSBsb29wIGFnYWluIHRoZSBuZXh0IHRpbWUgdGhlIGJyb3dzZXIgaXMgcmVhZHkgdG8gcmVuZGVyLlxuICAgICAgICAvLyBXZSBzZXQgcmFmSGFuZGxlIGltbWVkaWF0ZWx5IHNvIHRoYXQgdGhlIG5leHQgZnJhbWUgY2FuIGJlIGNhbmNlbGVkXG4gICAgICAgIC8vIGR1cmluZyB0aGUgY3VycmVudCBmcmFtZS5cbiAgICAgICAgdGhpcy5yYWYgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0ZS5iaW5kKHRoaXMpKTtcblxuICAgICAgICAvLyBUaHJvdHRsZSB0aGUgZnJhbWUgcmF0ZSAoaWYgbWluRnJhbWVEZWxheSBpcyBzZXQgdG8gYSBub24temVybyB2YWx1ZSBieVxuICAgICAgICAvLyBgTWFpbkxvb3Auc2V0TWF4QWxsb3dlZEZQUygpYCkuXG4gICAgICAgIGlmICh0aW1lc3RhbXAgPCB0aGlzLmxhc3RGcmFtZVRpbWVNcyArIHRoaXMubWluRnJhbWVEZWxheSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZnJhbWVEZWx0YSBpcyB0aGUgY3VtdWxhdGl2ZSBhbW91bnQgb2YgaW4tYXBwIHRpbWUgdGhhdCBoYXNuJ3QgYmVlblxuICAgICAgICAvLyBzaW11bGF0ZWQgeWV0LiBBZGQgdGhlIHRpbWUgc2luY2UgdGhlIGxhc3QgZnJhbWUuIFdlIG5lZWQgdG8gdHJhY2sgdG90YWxcbiAgICAgICAgLy8gbm90LXlldC1zaW11bGF0ZWQgdGltZSAoYXMgb3Bwb3NlZCB0byBqdXN0IHRoZSB0aW1lIGVsYXBzZWQgc2luY2UgdGhlXG4gICAgICAgIC8vIGxhc3QgZnJhbWUpIGJlY2F1c2Ugbm90IGFsbCBhY3R1YWxseSBlbGFwc2VkIHRpbWUgaXMgZ3VhcmFudGVlZCB0byBiZVxuICAgICAgICAvLyBzaW11bGF0ZWQgZWFjaCBmcmFtZS4gU2VlIHRoZSBjb21tZW50cyBiZWxvdyBmb3IgZGV0YWlscy5cbiAgICAgICAgdGhpcy5mcmFtZURlbHRhICs9IHRpbWVzdGFtcCAtIHRoaXMubGFzdEZyYW1lVGltZU1zO1xuICAgICAgICB0aGlzLmxhc3RGcmFtZVRpbWVNcyA9IHRpbWVzdGFtcDtcblxuICAgICAgICAvLyBSdW4gYW55IHVwZGF0ZXMgdGhhdCBhcmUgbm90IGRlcGVuZGVudCBvbiB0aW1lIGluIHRoZSBzaW11bGF0aW9uLiBTZWVcbiAgICAgICAgLy8gYE1haW5Mb29wLnNldEJlZ2luKClgIGZvciBhZGRpdGlvbmFsIGRldGFpbHMgb24gaG93IHRvIHVzZSB0aGlzLlxuICAgICAgICB0aGlzLmJlZ2luKHRpbWVzdGFtcCwgdGhpcy5mcmFtZURlbHRhKTtcblxuICAgICAgICAvLyBVcGRhdGUgdGhlIGVzdGltYXRlIG9mIHRoZSBmcmFtZSByYXRlLCBgZnBzYC4gQXBwcm94aW1hdGVseSBldmVyeVxuICAgICAgICAvLyBzZWNvbmQsIHRoZSBudW1iZXIgb2YgZnJhbWVzIHRoYXQgb2NjdXJyZWQgaW4gdGhhdCBzZWNvbmQgYXJlIGluY2x1ZGVkXG4gICAgICAgIC8vIGluIGFuIGV4cG9uZW50aWFsIG1vdmluZyBhdmVyYWdlIG9mIGFsbCBmcmFtZXMgcGVyIHNlY29uZC4gVGhpcyBtZWFuc1xuICAgICAgICAvLyB0aGF0IG1vcmUgcmVjZW50IHNlY29uZHMgYWZmZWN0IHRoZSBlc3RpbWF0ZWQgZnJhbWUgcmF0ZSBtb3JlIHRoYW4gb2xkZXJcbiAgICAgICAgLy8gc2Vjb25kcy5cbiAgICAgICAgaWYgKHRpbWVzdGFtcCA+IHRoaXMubGFzdEZwc1VwZGF0ZSArIHRoaXMuZnBzVXBkYXRlSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIC8vIENvbXB1dGUgdGhlIG5ldyBleHBvbmVudGlhbCBtb3ZpbmcgYXZlcmFnZS5cbiAgICAgICAgICAgIHRoaXMuZnBzID1cbiAgICAgICAgICAgICAgICAvLyBEaXZpZGUgdGhlIG51bWJlciBvZiBmcmFtZXMgc2luY2UgdGhlIGxhc3QgRlBTIHVwZGF0ZSBieSB0aGVcbiAgICAgICAgICAgICAgICAvLyBhbW91bnQgb2YgdGltZSB0aGF0IGhhcyBwYXNzZWQgdG8gZ2V0IHRoZSBtZWFuIGZyYW1lcyBwZXIgc2Vjb25kXG4gICAgICAgICAgICAgICAgLy8gb3ZlciB0aGF0IHBlcmlvZC4gVGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSBzbGlnaHRseSBtb3JlIHRoYW4gYVxuICAgICAgICAgICAgICAgIC8vIHNlY29uZCBoYXMgbGlrZWx5IHBhc3NlZCBzaW5jZSB0aGUgbGFzdCB1cGRhdGUuXG4gICAgICAgICAgICAgICAgdGhpcy5mcHNBbHBoYSAqIHRoaXMuZnJhbWVzU2luY2VMYXN0RnBzVXBkYXRlICogMTAwMCAvICh0aW1lc3RhbXAgLSB0aGlzLmxhc3RGcHNVcGRhdGUpICtcbiAgICAgICAgICAgICAgICAoMSAtIHRoaXMuZnBzQWxwaGEpICogdGhpcy5mcHM7XG5cbiAgICAgICAgICAgIC8vIFJlc2V0IHRoZSBmcmFtZSBjb3VudGVyIGFuZCBsYXN0LXVwZGF0ZWQgdGltZXN0YW1wIHNpbmNlIHRoZWlyXG4gICAgICAgICAgICAvLyBsYXRlc3QgdmFsdWVzIGhhdmUgbm93IGJlZW4gaW5jb3Jwb3JhdGVkIGludG8gdGhlIEZQUyBlc3RpbWF0ZS5cbiAgICAgICAgICAgIHRoaXMubGFzdEZwc1VwZGF0ZSA9IHRpbWVzdGFtcDtcbiAgICAgICAgICAgIHRoaXMuZnJhbWVzU2luY2VMYXN0RnBzVXBkYXRlID0gMDtcbiAgICAgICAgfVxuICAgICAgICAvLyBDb3VudCB0aGUgY3VycmVudCBmcmFtZSBpbiB0aGUgbmV4dCBmcmFtZXMtcGVyLXNlY29uZCB1cGRhdGUuIFRoaXNcbiAgICAgICAgLy8gaGFwcGVucyBhZnRlciB0aGUgcHJldmlvdXMgc2VjdGlvbiBiZWNhdXNlIHRoZSBwcmV2aW91cyBzZWN0aW9uXG4gICAgICAgIC8vIGNhbGN1bGF0ZXMgdGhlIGZyYW1lcyB0aGF0IG9jY3VyIHVwIHVudGlsIGB0aW1lc3RhbXBgLCBhbmQgYHRpbWVzdGFtcGBcbiAgICAgICAgLy8gcmVmZXJzIHRvIGEgdGltZSBqdXN0IGJlZm9yZSB0aGUgY3VycmVudCBmcmFtZSB3YXMgZGVsaXZlcmVkLlxuICAgICAgICB0aGlzLmZyYW1lc1NpbmNlTGFzdEZwc1VwZGF0ZSsrO1xuXG4gICAgICAgIC8qXG4gICAgICAgICAqIEEgbmFpdmUgd2F5IHRvIG1vdmUgYW4gb2JqZWN0IGFsb25nIGl0cyBYLWF4aXMgbWlnaHQgYmUgdG8gd3JpdGUgYSBtYWluXG4gICAgICAgICAqIGxvb3AgY29udGFpbmluZyB0aGUgc3RhdGVtZW50IGBvYmoueCArPSAxMDtgIHdoaWNoIHdvdWxkIG1vdmUgdGhlIG9iamVjdFxuICAgICAgICAgKiAxMCB1bml0cyBwZXIgZnJhbWUuIFRoaXMgYXBwcm9hY2ggc3VmZmVycyBmcm9tIHRoZSBpc3N1ZSB0aGF0IGl0IGlzXG4gICAgICAgICAqIGRlcGVuZGVudCBvbiB0aGUgZnJhbWUgcmF0ZS4gSW4gb3RoZXIgd29yZHMsIGlmIHlvdXIgYXBwbGljYXRpb24gaXNcbiAgICAgICAgICogcnVubmluZyBzbG93bHkgKHRoYXQgaXMsIGZld2VyIGZyYW1lcyBwZXIgc2Vjb25kKSwgeW91ciBvYmplY3Qgd2lsbCBhbHNvXG4gICAgICAgICAqIGFwcGVhciB0byBtb3ZlIHNsb3dseSwgd2hlcmVhcyBpZiB5b3VyIGFwcGxpY2F0aW9uIGlzIHJ1bm5pbmcgcXVpY2tseVxuICAgICAgICAgKiAodGhhdCBpcywgbW9yZSBmcmFtZXMgcGVyIHNlY29uZCksIHlvdXIgb2JqZWN0IHdpbGwgYXBwZWFyIHRvIG1vdmVcbiAgICAgICAgICogcXVpY2tseS4gVGhpcyBpcyB1bmRlc2lyYWJsZSwgZXNwZWNpYWxseSBpbiBtdWx0aXBsYXllci9tdWx0aS11c2VyXG4gICAgICAgICAqIGFwcGxpY2F0aW9ucy5cbiAgICAgICAgICpcbiAgICAgICAgICogT25lIHNvbHV0aW9uIGlzIHRvIG11bHRpcGx5IHRoZSBzcGVlZCBieSB0aGUgYW1vdW50IG9mIHRpbWUgdGhhdCBoYXNcbiAgICAgICAgICogcGFzc2VkIGJldHdlZW4gcmVuZGVyaW5nIGZyYW1lcy4gRm9yIGV4YW1wbGUsIGlmIHlvdSB3YW50IHlvdXIgb2JqZWN0IHRvXG4gICAgICAgICAqIG1vdmUgNjAwIHVuaXRzIHBlciBzZWNvbmQsIHlvdSBtaWdodCB3cml0ZSBgb2JqLnggKz0gNjAwICogZGVsdGFgLCB3aGVyZVxuICAgICAgICAgKiBgZGVsdGFgIGlzIHRoZSB0aW1lIHBhc3NlZCBzaW5jZSB0aGUgbGFzdCBmcmFtZS4gKEZvciBjb252ZW5pZW5jZSwgbGV0J3NcbiAgICAgICAgICogbW92ZSB0aGlzIHN0YXRlbWVudCB0byBhbiB1cGRhdGUoKSBmdW5jdGlvbiB0aGF0IHRha2VzIGBkZWx0YWAgYXMgYVxuICAgICAgICAgKiBwYXJhbWV0ZXIuKSBUaGlzIHdheSwgeW91ciBvYmplY3Qgd2lsbCBtb3ZlIGEgY29uc3RhbnQgZGlzdGFuY2Ugb3ZlclxuICAgICAgICAgKiB0aW1lLiBIb3dldmVyLCBhdCBsb3cgZnJhbWUgcmF0ZXMgYW5kIGhpZ2ggc3BlZWRzLCB5b3VyIG9iamVjdCB3aWxsIG1vdmVcbiAgICAgICAgICogbGFyZ2UgZGlzdGFuY2VzIGV2ZXJ5IGZyYW1lLCB3aGljaCBjYW4gY2F1c2UgaXQgdG8gZG8gc3RyYW5nZSB0aGluZ3NcbiAgICAgICAgICogc3VjaCBhcyBtb3ZlIHRocm91Z2ggd2FsbHMuIEFkZGl0aW9uYWxseSwgd2Ugd291bGQgbGlrZSBvdXIgcHJvZ3JhbSB0b1xuICAgICAgICAgKiBiZSBkZXRlcm1pbmlzdGljLiBUaGF0IGlzLCBldmVyeSB0aW1lIHdlIHJ1biB0aGUgYXBwbGljYXRpb24gd2l0aCB0aGVcbiAgICAgICAgICogc2FtZSBpbnB1dCwgd2Ugd291bGQgbGlrZSBleGFjdGx5IHRoZSBzYW1lIG91dHB1dC4gSWYgdGhlIHRpbWUgYmV0d2VlblxuICAgICAgICAgKiBmcmFtZXMgKHRoZSBgZGVsdGFgKSB2YXJpZXMsIG91ciBvdXRwdXQgd2lsbCBkaXZlcmdlIHRoZSBsb25nZXIgdGhlXG4gICAgICAgICAqIHByb2dyYW0gcnVucyBkdWUgdG8gYWNjdW11bGF0ZWQgcm91bmRpbmcgZXJyb3JzLCBldmVuIGF0IG5vcm1hbCBmcmFtZVxuICAgICAgICAgKiByYXRlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogQSBiZXR0ZXIgc29sdXRpb24gaXMgdG8gc2VwYXJhdGUgdGhlIGFtb3VudCBvZiB0aW1lIHNpbXVsYXRlZCBpbiBlYWNoXG4gICAgICAgICAqIHVwZGF0ZSgpIGZyb20gdGhlIGFtb3VudCBvZiB0aW1lIGJldHdlZW4gZnJhbWVzLiBPdXIgdXBkYXRlKCkgZnVuY3Rpb25cbiAgICAgICAgICogZG9lc24ndCBuZWVkIHRvIGNoYW5nZTsgd2UganVzdCBuZWVkIHRvIGNoYW5nZSB0aGUgZGVsdGEgd2UgcGFzcyB0byBpdFxuICAgICAgICAgKiBzbyB0aGF0IGVhY2ggdXBkYXRlKCkgc2ltdWxhdGVzIGEgZml4ZWQgYW1vdW50IG9mIHRpbWUgKHRoYXQgaXMsIGBkZWx0YWBcbiAgICAgICAgICogc2hvdWxkIGhhdmUgdGhlIHNhbWUgdmFsdWUgZWFjaCB0aW1lIHVwZGF0ZSgpIGlzIGNhbGxlZCkuIFRoZSB1cGRhdGUoKVxuICAgICAgICAgKiBmdW5jdGlvbiBjYW4gYmUgcnVuIG11bHRpcGxlIHRpbWVzIHBlciBmcmFtZSBpZiBuZWVkZWQgdG8gc2ltdWxhdGUgdGhlXG4gICAgICAgICAqIHRvdGFsIGFtb3VudCBvZiB0aW1lIHBhc3NlZCBzaW5jZSB0aGUgbGFzdCBmcmFtZS4gKElmIHRoZSB0aW1lIHRoYXQgaGFzXG4gICAgICAgICAqIHBhc3NlZCBzaW5jZSB0aGUgbGFzdCBmcmFtZSBpcyBsZXNzIHRoYW4gdGhlIGZpeGVkIHNpbXVsYXRpb24gdGltZSwgd2VcbiAgICAgICAgICoganVzdCB3b24ndCBydW4gYW4gdXBkYXRlKCkgdW50aWwgdGhlIHRoZSBuZXh0IGZyYW1lLiBJZiB0aGVyZSBpc1xuICAgICAgICAgKiB1bnNpbXVsYXRlZCB0aW1lIGxlZnQgb3ZlciB0aGF0IGlzIGxlc3MgdGhhbiBvdXIgdGltZXN0ZXAsIHdlJ2xsIGp1c3RcbiAgICAgICAgICogbGVhdmUgaXQgdG8gYmUgc2ltdWxhdGVkIGR1cmluZyB0aGUgbmV4dCBmcmFtZS4pIFRoaXMgYXBwcm9hY2ggYXZvaWRzXG4gICAgICAgICAqIGluY29uc2lzdGVudCByb3VuZGluZyBlcnJvcnMgYW5kIGVuc3VyZXMgdGhhdCB0aGVyZSBhcmUgbm8gZ2lhbnQgbGVhcHNcbiAgICAgICAgICogdGhyb3VnaCB3YWxscyBiZXR3ZWVuIGZyYW1lcy5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhhdCBpcyB3aGF0IGlzIGRvbmUgYmVsb3cuIEl0IGludHJvZHVjZXMgYSBuZXcgcHJvYmxlbSwgYnV0IGl0IGlzIGFcbiAgICAgICAgICogbWFuYWdlYWJsZSBvbmU6IGlmIHRoZSBhbW91bnQgb2YgdGltZSBzcGVudCBzaW11bGF0aW5nIGlzIGNvbnNpc3RlbnRseVxuICAgICAgICAgKiBsb25nZXIgdGhhbiB0aGUgYW1vdW50IG9mIHRpbWUgYmV0d2VlbiBmcmFtZXMsIHRoZSBhcHBsaWNhdGlvbiBjb3VsZFxuICAgICAgICAgKiBmcmVlemUgYW5kIGNyYXNoIGluIGEgc3BpcmFsIG9mIGRlYXRoLiBUaGlzIHdvbid0IGhhcHBlbiBhcyBsb25nIGFzIHRoZVxuICAgICAgICAgKiBmaXhlZCBzaW11bGF0aW9uIHRpbWUgaXMgc2V0IHRvIGEgdmFsdWUgdGhhdCBpcyBoaWdoIGVub3VnaCB0aGF0XG4gICAgICAgICAqIHVwZGF0ZSgpIGNhbGxzIHVzdWFsbHkgdGFrZSBsZXNzIHRpbWUgdGhhbiB0aGUgYW1vdW50IG9mIHRpbWUgdGhleSdyZVxuICAgICAgICAgKiBzaW11bGF0aW5nLiBJZiBpdCBkb2VzIHN0YXJ0IHRvIGhhcHBlbiBhbnl3YXksIHNlZSBgTWFpbkxvb3Auc2V0RW5kKClgXG4gICAgICAgICAqIGZvciBhIGRpc2N1c3Npb24gb2Ygd2F5cyB0byBzdG9wIGl0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBBZGRpdGlvbmFsbHksIHNlZSBgTWFpbkxvb3Auc2V0VXBkYXRlKClgIGZvciBhIGRpc2N1c3Npb24gb2YgcGVyZm9ybWFuY2VcbiAgICAgICAgICogY29uc2lkZXJhdGlvbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEZ1cnRoZXIgcmVhZGluZyBmb3IgdGhvc2UgaW50ZXJlc3RlZDpcbiAgICAgICAgICpcbiAgICAgICAgICogLSBodHRwOi8vZ2FtZXByb2dyYW1taW5ncGF0dGVybnMuY29tL2dhbWUtbG9vcC5odG1sXG4gICAgICAgICAqIC0gaHR0cDovL2dhZmZlcm9uZ2FtZXMuY29tL2dhbWUtcGh5c2ljcy9maXgteW91ci10aW1lc3RlcC9cbiAgICAgICAgICogLSBodHRwczovL2dhbWVhbGNoZW1pc3Qud29yZHByZXNzLmNvbS8yMDEzLzAzLzE2L3Rob3VnaHRzLW9uLXRoZS1qYXZhc2NyaXB0LWdhbWUtbG9vcC9cbiAgICAgICAgICogLSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0dhbWVzL0FuYXRvbXlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubnVtVXBkYXRlU3RlcHMgPSAwO1xuICAgICAgICB3aGlsZSAodGhpcy5mcmFtZURlbHRhID49IHRoaXMuc2ltdWxhdGlvblRpbWVzdGVwKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSh0aGlzLnNpbXVsYXRpb25UaW1lc3RlcCk7XG4gICAgICAgICAgICB0aGlzLmZyYW1lRGVsdGEgLT0gdGhpcy5zaW11bGF0aW9uVGltZXN0ZXA7XG5cbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgKiBTYW5pdHkgY2hlY2s6IGJhaWwgaWYgd2UgcnVuIHRoZSBsb29wIHRvbyBtYW55IHRpbWVzLlxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIE9uZSB3YXkgdGhpcyBjb3VsZCBoYXBwZW4gaXMgaWYgdXBkYXRlKCkgdGFrZXMgbG9uZ2VyIHRvIHJ1biB0aGFuXG4gICAgICAgICAgICAgKiB0aGUgdGltZSBpdCBzaW11bGF0ZXMsIHRoZXJlYnkgY2F1c2luZyBhIHNwaXJhbCBvZiBkZWF0aC4gRm9yIHdheXNcbiAgICAgICAgICAgICAqIHRvIGF2b2lkIHRoaXMsIHNlZSBgTWFpbkxvb3Auc2V0RW5kKClgLiBBbm90aGVyIHdheSB0aGlzIGNvdWxkXG4gICAgICAgICAgICAgKiBoYXBwZW4gaXMgaWYgdGhlIGJyb3dzZXIgdGhyb3R0bGVzIHNlcnZpbmcgZnJhbWVzLCB3aGljaCB0eXBpY2FsbHlcbiAgICAgICAgICAgICAqIG9jY3VycyB3aGVuIHRoZSB0YWIgaXMgaW4gdGhlIGJhY2tncm91bmQgb3IgdGhlIGRldmljZSBiYXR0ZXJ5IGlzXG4gICAgICAgICAgICAgKiBsb3cuIEFuIGV2ZW50IG91dHNpZGUgb2YgdGhlIG1haW4gbG9vcCBzdWNoIGFzIGF1ZGlvIHByb2Nlc3Npbmcgb3JcbiAgICAgICAgICAgICAqIHN5bmNocm9ub3VzIHJlc291cmNlIHJlYWRzIGNvdWxkIGFsc28gY2F1c2UgdGhlIGFwcGxpY2F0aW9uIHRvIGhhbmdcbiAgICAgICAgICAgICAqIHRlbXBvcmFyaWx5IGFuZCBhY2N1bXVsYXRlIG5vdC15ZXQtc2ltdWxhdGVkIHRpbWUgYXMgYSByZXN1bHQuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogMjQwIGlzIGNob3NlbiBiZWNhdXNlLCBmb3IgYW55IHNhbmUgdmFsdWUgb2Ygc2ltdWxhdGlvblRpbWVzdGVwLCAyNDBcbiAgICAgICAgICAgICAqIHVwZGF0ZXMgd2lsbCBzaW11bGF0ZSBhdCBsZWFzdCBvbmUgc2Vjb25kLCBhbmQgaXQgd2lsbCBzaW11bGF0ZSBmb3VyXG4gICAgICAgICAgICAgKiBzZWNvbmRzIHdpdGggdGhlIGRlZmF1bHQgdmFsdWUgb2Ygc2ltdWxhdGlvblRpbWVzdGVwLiAoU2FmYXJpXG4gICAgICAgICAgICAgKiBub3RpZmllcyB1c2VycyB0aGF0IHRoZSBzY3JpcHQgaXMgdGFraW5nIHRvbyBsb25nIHRvIHJ1biBpZiBpdCB0YWtlc1xuICAgICAgICAgICAgICogbW9yZSB0aGFuIGZpdmUgc2Vjb25kcy4pXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogSWYgdGhlcmUgYXJlIG1vcmUgdXBkYXRlcyB0byBydW4gaW4gYSBmcmFtZSB0aGFuIHRoaXMsIHRoZVxuICAgICAgICAgICAgICogYXBwbGljYXRpb24gd2lsbCBhcHBlYXIgdG8gc2xvdyBkb3duIHRvIHRoZSB1c2VyIHVudGlsIGl0IGNhdGNoZXNcbiAgICAgICAgICAgICAqIGJhY2sgdXAuIEluIG5ldHdvcmtlZCBhcHBsaWNhdGlvbnMgdGhpcyB3aWxsIHVzdWFsbHkgY2F1c2UgdGhlIHVzZXJcbiAgICAgICAgICAgICAqIHRvIGdldCBvdXQgb2Ygc3luYyB3aXRoIHRoZWlyIHBlZXJzLCBidXQgaWYgdGhlIHVwZGF0ZXMgYXJlIHRha2luZ1xuICAgICAgICAgICAgICogdGhpcyBsb25nIGFscmVhZHksIHRoZXkncmUgcHJvYmFibHkgYWxyZWFkeSBvdXQgb2Ygc3luYy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKCsrdGhpcy5udW1VcGRhdGVTdGVwcyA+PSAyNDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhbmljID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qXG4gICAgICAgICAqIFJlbmRlciB0aGUgc2NyZWVuLiBXZSBkbyB0aGlzIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB1cGRhdGUoKSBoYXMgcnVuXG4gICAgICAgICAqIGR1cmluZyB0aGlzIGZyYW1lIGJlY2F1c2UgaXQgaXMgcG9zc2libGUgdG8gaW50ZXJwb2xhdGUgYmV0d2VlbiB1cGRhdGVzXG4gICAgICAgICAqIHRvIG1ha2UgdGhlIGZyYW1lIHJhdGUgYXBwZWFyIGZhc3RlciB0aGFuIHVwZGF0ZXMgYXJlIGFjdHVhbGx5XG4gICAgICAgICAqIGhhcHBlbmluZy4gU2VlIGBNYWluTG9vcC5zZXREcmF3KClgIGZvciBhbiBleHBsYW5hdGlvbiBvZiBob3cgdG8gZG9cbiAgICAgICAgICogdGhhdC5cbiAgICAgICAgICpcbiAgICAgICAgICogV2UgZHJhdyBhZnRlciB1cGRhdGluZyBiZWNhdXNlIHdlIHdhbnQgdGhlIHNjcmVlbiB0byByZWZsZWN0IGEgc3RhdGUgb2ZcbiAgICAgICAgICogdGhlIGFwcGxpY2F0aW9uIHRoYXQgaXMgYXMgdXAtdG8tZGF0ZSBhcyBwb3NzaWJsZS4gKGBNYWluTG9vcC5zdGFydCgpYFxuICAgICAgICAgKiBkcmF3cyB0aGUgdmVyeSBmaXJzdCBmcmFtZSBpbiB0aGUgYXBwbGljYXRpb24ncyBpbml0aWFsIHN0YXRlLCBiZWZvcmVcbiAgICAgICAgICogYW55IHVwZGF0ZXMgaGF2ZSBvY2N1cnJlZC4pIFNvbWUgc291cmNlcyBzcGVjdWxhdGUgdGhhdCByZW5kZXJpbmdcbiAgICAgICAgICogZWFybGllciBpbiB0aGUgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGNhbGxiYWNrIGNhbiBnZXQgdGhlIHNjcmVlbiBwYWludGVkXG4gICAgICAgICAqIGZhc3RlcjsgdGhpcyBpcyBtb3N0bHkgbm90IHRydWUsIGFuZCBldmVuIHdoZW4gaXQgaXMsIGl0J3MgdXN1YWxseSBqdXN0XG4gICAgICAgICAqIGEgdHJhZGUtb2ZmIGJldHdlZW4gcmVuZGVyaW5nIHRoZSBjdXJyZW50IGZyYW1lIHNvb25lciBhbmQgcmVuZGVyaW5nIHRoZVxuICAgICAgICAgKiBuZXh0IGZyYW1lIGxhdGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBTZWUgYE1haW5Mb29wLnNldERyYXcoKWAgZm9yIGRldGFpbHMgYWJvdXQgZHJhdygpIGl0c2VsZi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZHJhdyh0aGlzLmZyYW1lRGVsdGEgLyB0aGlzLnNpbXVsYXRpb25UaW1lc3RlcCk7XG5cbiAgICAgICAgLy8gUnVuIGFueSB1cGRhdGVzIHRoYXQgYXJlIG5vdCBkZXBlbmRlbnQgb24gdGltZSBpbiB0aGUgc2ltdWxhdGlvbi4gU2VlXG4gICAgICAgIC8vIGBNYWluTG9vcC5zZXRFbmQoKWAgZm9yIGFkZGl0aW9uYWwgZGV0YWlscyBvbiBob3cgdG8gdXNlIHRoaXMuXG4gICAgICAgIHRoaXMuZW5kKHRoaXMuZnBzLCB0aGlzLnBhbmljKTtcblxuICAgICAgICB0aGlzLnBhbmljID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gU1VCQ0xBU1NFUyBNVVNUIE9WRVJSSURFIEZPVVIgUkVRVUlSRUQgTUVUSE9EUzpcbiAgICAgICAgLy8gYmVnaW5cbiAgICAgICAgLy8gdXBkYXRlXG4gICAgICAgIC8vIGRyYXdcbiAgICAgICAgLy8gZW5kXG5cbiAgICAvKipcbiAgICAgKiBBIGZ1bmN0aW9uIHRoYXQgcnVucyBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBtYWluIGxvb3AuXG4gICAgICpcbiAgICAgKiBUaGUgYmVnaW4oKSBmdW5jdGlvbiBpcyB0eXBpY2FsbHkgdXNlZCB0byBwcm9jZXNzIGlucHV0IGJlZm9yZSB0aGVcbiAgICAgKiB1cGRhdGVzIHJ1bi4gUHJvY2Vzc2luZyBpbnB1dCBoZXJlIChpbiBjaHVua3MpIGNhbiByZWR1Y2UgdGhlIHJ1bm5pbmdcbiAgICAgKiB0aW1lIG9mIGV2ZW50IGhhbmRsZXJzLCB3aGljaCBpcyB1c2VmdWwgYmVjYXVzZSBsb25nLXJ1bm5pbmcgZXZlbnRcbiAgICAgKiBoYW5kbGVycyBjYW4gc29tZXRpbWVzIGRlbGF5IGZyYW1lcy5cbiAgICAgKlxuICAgICAqIFVubGlrZSB7QGxpbmsgI3NldFVwZGF0ZSB1cGRhdGV9KCksIHdoaWNoIGNhbiBydW4gemVybyBvciBtb3JlIHRpbWVzIHBlclxuICAgICAqIGZyYW1lLCBiZWdpbigpIGFsd2F5cyBydW5zIGV4YWN0bHkgb25jZSBwZXIgZnJhbWUuIFRoaXMgbWFrZXMgaXQgdXNlZnVsXG4gICAgICogZm9yIGFueSB1cGRhdGVzIHRoYXQgYXJlIG5vdCBkZXBlbmRlbnQgb24gdGltZSBpbiB0aGUgc2ltdWxhdGlvbi5cbiAgICAgKiBFeGFtcGxlcyBpbmNsdWRlIGFkanVzdGluZyBIVUQgY2FsY3VsYXRpb25zIG9yIHBlcmZvcm1pbmcgbG9uZy1ydW5uaW5nXG4gICAgICogdXBkYXRlcyBpbmNyZW1lbnRhbGx5LiBDb21wYXJlZCB0byB7QGxpbmsgI3NldEVuZCBlbmR9KCksIGdlbmVyYWxseVxuICAgICAqIGFjdGlvbnMgc2hvdWxkIG9jY3VyIGluIGJlZ2luKCkgaWYgdGhleSBhZmZlY3QgYW55dGhpbmcgdGhhdFxuICAgICAqIHtAbGluayAjc2V0VXBkYXRlIHVwZGF0ZX0oKSBvciB7QGxpbmsgI3NldERyYXcgZHJhd30oKSB1c2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBiZWdpblxuICAgICAqICAgVGhlIGJlZ2luKCkgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtiZWdpbi50aW1lc3RhbXBdXG4gICAgICogICBUaGUgY3VycmVudCB0aW1lc3RhbXAgKHdoZW4gdGhlIGZyYW1lIHN0YXJ0ZWQpLCBpbiBtaWxsaXNlY29uZHMuIFRoaXNcbiAgICAgKiAgIHNob3VsZCBvbmx5IGJlIHVzZWQgZm9yIGNvbXBhcmlzb24gdG8gb3RoZXIgdGltZXN0YW1wcyBiZWNhdXNlIHRoZVxuICAgICAqICAgZXBvY2ggKGkuZS4gdGhlIFwiemVyb1wiIHRpbWUpIGRlcGVuZHMgb24gdGhlIGVuZ2luZSBydW5uaW5nIHRoaXMgY29kZS5cbiAgICAgKiAgIEluIGVuZ2luZXMgdGhhdCBzdXBwb3J0IGBET01IaWdoUmVzVGltZVN0YW1wYCAoYWxsIG1vZGVybiBicm93c2Vyc1xuICAgICAqICAgZXhjZXB0IGlPUyBTYWZhcmkgOCkgdGhlIGVwb2NoIGlzIHRoZSB0aW1lIHRoZSBwYWdlIHN0YXJ0ZWQgbG9hZGluZyxcbiAgICAgKiAgIHNwZWNpZmljYWxseSBgcGVyZm9ybWFuY2UudGltaW5nLm5hdmlnYXRpb25TdGFydGAuIEV2ZXJ5d2hlcmUgZWxzZSxcbiAgICAgKiAgIGluY2x1ZGluZyBub2RlLmpzLCB0aGUgZXBvY2ggaXMgdGhlIFVuaXggZXBvY2ggKDE5NzAtMDEtMDFUMDA6MDA6MDBaKS5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2JlZ2luLmRlbHRhXVxuICAgICAqICAgVGhlIHRvdGFsIGVsYXBzZWQgdGltZSB0aGF0IGhhcyBub3QgeWV0IGJlZW4gc2ltdWxhdGVkLCBpblxuICAgICAqICAgbWlsbGlzZWNvbmRzLlxuICAgICAqL1xuICAgIGFic3RyYWN0IGJlZ2luKHRpbWVzdGFtcCA6IG51bWJlciwgZGVsdGEgOiBudW1iZXIpIDogdm9pZDtcblxuICAgIC8qKlxuICAgICAqIEEgZnVuY3Rpb24gdGhhdCBydW5zIHVwZGF0ZXMgKGkuZS4gQUkgYW5kIHBoeXNpY3MpLlxuICAgICAqXG4gICAgICogVGhlIHVwZGF0ZSgpIGZ1bmN0aW9uIHNob3VsZCBzaW11bGF0ZSBhbnl0aGluZyB0aGF0IGlzIGFmZmVjdGVkIGJ5IHRpbWUuXG4gICAgICogSXQgY2FuIGJlIGNhbGxlZCB6ZXJvIG9yIG1vcmUgdGltZXMgcGVyIGZyYW1lIGRlcGVuZGluZyBvbiB0aGUgZnJhbWVcbiAgICAgKiByYXRlLlxuICAgICAqXG4gICAgICogQXMgd2l0aCBldmVyeXRoaW5nIGluIHRoZSBtYWluIGxvb3AsIHRoZSBydW5uaW5nIHRpbWUgb2YgdXBkYXRlKClcbiAgICAgKiBkaXJlY3RseSBhZmZlY3RzIHRoZSBmcmFtZSByYXRlLiBJZiB1cGRhdGUoKSB0YWtlcyBsb25nIGVub3VnaCB0aGF0IHRoZVxuICAgICAqIGZyYW1lIHJhdGUgZHJvcHMgYmVsb3cgdGhlIHRhcmdldCAoXCJidWRnZXRlZFwiKSBmcmFtZSByYXRlLCBwYXJ0cyBvZiB0aGVcbiAgICAgKiB1cGRhdGUoKSBmdW5jdGlvbiB0aGF0IGRvIG5vdCBuZWVkIHRvIGV4ZWN1dGUgYmV0d2VlbiBldmVyeSBmcmFtZSBjYW4gYmVcbiAgICAgKiBtb3ZlZCBpbnRvIFdlYiBXb3JrZXJzLiAoVmFyaW91cyBzb3VyY2VzIG9uIHRoZSBpbnRlcm5ldCBzb21ldGltZXNcbiAgICAgKiBzdWdnZXN0IG90aGVyIHNjaGVkdWxpbmcgcGF0dGVybnMgdXNpbmcgc2V0VGltZW91dCgpIG9yIHNldEludGVydmFsKCkuXG4gICAgICogVGhlc2UgYXBwcm9hY2hlcyBzb21ldGltZXMgb2ZmZXIgbW9kZXN0IGltcHJvdmVtZW50cyB3aXRoIG1pbmltYWxcbiAgICAgKiBjaGFuZ2VzIHRvIGV4aXN0aW5nIGNvZGUsIGJ1dCBiZWNhdXNlIEphdmFTY3JpcHQgaXMgc2luZ2xlLXRocmVhZGVkLCB0aGVcbiAgICAgKiB1cGRhdGVzIHdpbGwgc3RpbGwgYmxvY2sgcmVuZGVyaW5nIGFuZCBkcmFnIGRvd24gdGhlIGZyYW1lIHJhdGUuIFdlYlxuICAgICAqIFdvcmtlcnMgZXhlY3V0ZSBpbiBzZXBhcmF0ZSB0aHJlYWRzLCBzbyB0aGV5IGZyZWUgdXAgbW9yZSB0aW1lIGluIHRoZVxuICAgICAqIG1haW4gbG9vcC4pXG4gICAgICpcbiAgICAgKiBUaGlzIHNjcmlwdCBjYW4gYmUgaW1wb3J0ZWQgaW50byBhIFdlYiBXb3JrZXIgdXNpbmcgaW1wb3J0U2NyaXB0cygpIGFuZFxuICAgICAqIHVzZWQgdG8gcnVuIGEgc2Vjb25kIG1haW4gbG9vcCBpbiB0aGUgd29ya2VyLiBTb21lIGNvbnNpZGVyYXRpb25zOlxuICAgICAqXG4gICAgICogLSBQcm9maWxlIHlvdXIgY29kZSBiZWZvcmUgZG9pbmcgdGhlIHdvcmsgdG8gbW92ZSBpdCBpbnRvIFdlYiBXb3JrZXJzLlxuICAgICAqICAgSXQgY291bGQgYmUgdGhlIHJlbmRlcmluZyB0aGF0IGlzIHRoZSBib3R0bGVuZWNrLCBpbiB3aGljaCBjYXNlIHRoZVxuICAgICAqICAgc29sdXRpb24gaXMgdG8gZGVjcmVhc2UgdGhlIHZpc3VhbCBjb21wbGV4aXR5IG9mIHRoZSBzY2VuZS5cbiAgICAgKiAtIEl0IGRvZXNuJ3QgbWFrZSBzZW5zZSB0byBtb3ZlIHRoZSAqZW50aXJlKiBjb250ZW50cyBvZiB1cGRhdGUoKSBpbnRvXG4gICAgICogICB3b3JrZXJzIHVubGVzcyB7QGxpbmsgI3NldERyYXcgZHJhd30oKSBjYW4gaW50ZXJwb2xhdGUgYmV0d2VlbiBmcmFtZXMuXG4gICAgICogICBUaGUgbG93ZXN0LWhhbmdpbmcgZnJ1aXQgaXMgYmFja2dyb3VuZCB1cGRhdGVzIChsaWtlIGNhbGN1bGF0aW5nXG4gICAgICogICBjaXRpemVucycgaGFwcGluZXNzIGluIGEgY2l0eS1idWlsZGluZyBnYW1lKSwgcGh5c2ljcyB0aGF0IGRvZXNuJ3RcbiAgICAgKiAgIGFmZmVjdCB0aGUgc2NlbmUgKGxpa2UgZmxhZ3Mgd2F2aW5nIGluIHRoZSB3aW5kKSwgYW5kIGFueXRoaW5nIHRoYXQgaXNcbiAgICAgKiAgIG9jY2x1ZGVkIG9yIGhhcHBlbmluZyBmYXIgb2ZmIHNjcmVlbi5cbiAgICAgKiAtIElmIGRyYXcoKSBuZWVkcyB0byBpbnRlcnBvbGF0ZSBwaHlzaWNzIGJhc2VkIG9uIGFjdGl2aXR5IHRoYXQgb2NjdXJzXG4gICAgICogICBpbiBhIHdvcmtlciwgdGhlIHdvcmtlciBuZWVkcyB0byBwYXNzIHRoZSBpbnRlcnBvbGF0aW9uIHZhbHVlIGJhY2sgdG9cbiAgICAgKiAgIHRoZSBtYWluIHRocmVhZCBzbyB0aGF0IGlzIGlzIGF2YWlsYWJsZSB0byBkcmF3KCkuXG4gICAgICogLSBXZWIgV29ya2VycyBjYW4ndCBhY2Nlc3MgdGhlIHN0YXRlIG9mIHRoZSBtYWluIHRocmVhZCwgc28gdGhleSBjYW4ndFxuICAgICAqICAgZGlyZWN0bHkgbW9kaWZ5IG9iamVjdHMgaW4geW91ciBzY2VuZS4gTW92aW5nIGRhdGEgdG8gYW5kIGZyb20gV2ViXG4gICAgICogICBXb3JrZXJzIGlzIGEgcGFpbi4gVGhlIGZhc3Rlc3Qgd2F5IHRvIGRvIGl0IGlzIHdpdGggVHJhbnNmZXJhYmxlXG4gICAgICogICBPYmplY3RzOiBiYXNpY2FsbHksIHlvdSBjYW4gcGFzcyBhbiBBcnJheUJ1ZmZlciB0byBhIHdvcmtlcixcbiAgICAgKiAgIGRlc3Ryb3lpbmcgdGhlIG9yaWdpbmFsIHJlZmVyZW5jZSBpbiB0aGUgcHJvY2Vzcy5cbiAgICAgKlxuICAgICAqIFlvdSBjYW4gcmVhZCBtb3JlIGFib3V0IFdlYiBXb3JrZXJzIGFuZCBUcmFuc2ZlcmFibGUgT2JqZWN0cyBhdFxuICAgICAqIFtIVE1MNSBSb2Nrc10oaHR0cDovL3d3dy5odG1sNXJvY2tzLmNvbS9lbi90dXRvcmlhbHMvd29ya2Vycy9iYXNpY3MvKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHVwZGF0ZVxuICAgICAqICAgVGhlIHVwZGF0ZSgpIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbdXBkYXRlLmRlbHRhXVxuICAgICAqICAgVGhlIGFtb3VudCBvZiB0aW1lIGluIG1pbGxpc2Vjb25kcyB0byBzaW11bGF0ZSBpbiB0aGUgdXBkYXRlLiBJbiBtb3N0XG4gICAgICogICBjYXNlcyB0aGlzIHRpbWVzdGVwIG5ldmVyIGNoYW5nZXMgaW4gb3JkZXIgdG8gZW5zdXJlIGRldGVybWluaXN0aWNcbiAgICAgKiAgIHVwZGF0ZXMuIFRoZSB0aW1lc3RlcCBpcyB0aGUgc2FtZSBhcyB0aGF0IHJldHVybmVkIGJ5XG4gICAgICogICBgTWFpbkxvb3AuZ2V0U2ltdWxhdGlvblRpbWVzdGVwKClgLlxuICAgICAqL1xuICAgIGFic3RyYWN0IHVwZGF0ZSh0aW1lU3RlcCA6IG51bWJlcikgOiB2b2lkO1xuXG4gICAgLyoqXG4gICAgICogQSBmdW5jdGlvbiB0aGF0IGRyYXdzIHRoaW5ncyBvbiB0aGUgc2NyZWVuLlxuICAgICAqXG4gICAgICogVGhlIGRyYXcoKSBmdW5jdGlvbiBnZXRzIHBhc3NlZCB0aGUgcGVyY2VudCBvZiB0aW1lIHRoYXQgdGhlIG5leHQgcnVuIG9mXG4gICAgICoge0BsaW5rICNzZXRVcGRhdGUgdXBkYXRlfSgpIHdpbGwgc2ltdWxhdGUgdGhhdCBoYXMgYWN0dWFsbHkgZWxhcHNlZCwgYXNcbiAgICAgKiBhIGRlY2ltYWwuIEluIG90aGVyIHdvcmRzLCBkcmF3KCkgZ2V0cyBwYXNzZWQgaG93IGZhciBiZXR3ZWVuIHVwZGF0ZSgpXG4gICAgICogY2FsbHMgaXQgaXMuIFRoaXMgaXMgdXNlZnVsIGJlY2F1c2UgdGhlIHRpbWUgc2ltdWxhdGVkIGJ5IHVwZGF0ZSgpIGFuZFxuICAgICAqIHRoZSB0aW1lIGJldHdlZW4gZHJhdygpIGNhbGxzIGlzIHVzdWFsbHkgZGlmZmVyZW50LCBzbyB0aGUgcGFyYW1ldGVyIHRvXG4gICAgICogZHJhdygpIGNhbiBiZSB1c2VkIHRvIGludGVycG9sYXRlIG1vdGlvbiBiZXR3ZWVuIGZyYW1lcyB0byBtYWtlXG4gICAgICogcmVuZGVyaW5nIGFwcGVhciBzbW9vdGhlci4gVG8gaWxsdXN0cmF0ZSwgaWYgdXBkYXRlKCkgYWR2YW5jZXMgdGhlXG4gICAgICogc2ltdWxhdGlvbiBhdCBlYWNoIHZlcnRpY2FsIGJhciBpbiB0aGUgZmlyc3Qgcm93IGJlbG93LCBhbmQgZHJhdygpIGNhbGxzXG4gICAgICogaGFwcGVuIGF0IGVhY2ggdmVydGljYWwgYmFyIGluIHRoZSBzZWNvbmQgcm93IGJlbG93LCB0aGVuIHNvbWUgZnJhbWVzXG4gICAgICogd2lsbCBoYXZlIHRpbWUgbGVmdCBvdmVyIHRoYXQgaXMgbm90IHlldCBzaW11bGF0ZWQgYnkgdXBkYXRlKCkgd2hlblxuICAgICAqIHJlbmRlcmluZyBvY2N1cnMgaW4gZHJhdygpOlxuICAgICAqXG4gICAgICogICAgIHVwZGF0ZSgpIHRpbWVzdGVwczogIHwgIHwgIHwgIHwgIHwgIHwgIHwgIHwgIHxcbiAgICAgKiAgICAgZHJhdygpIGNhbGxzOiAgICAgICAgfCAgIHwgICB8ICAgfCAgIHwgICB8ICAgfFxuICAgICAqXG4gICAgICogVG8gaW50ZXJwb2xhdGUgbW90aW9uIGZvciByZW5kZXJpbmcgcHVycG9zZXMsIG9iamVjdHMnIHN0YXRlIGFmdGVyIHRoZVxuICAgICAqIGxhc3QgdXBkYXRlKCkgbXVzdCBiZSByZXRhaW5lZCBhbmQgdXNlZCB0byBjYWxjdWxhdGUgYW4gaW50ZXJtZWRpYXRlXG4gICAgICogc3RhdGUuIE5vdGUgdGhhdCB0aGlzIG1lYW5zIHJlbmRlcnMgd2lsbCBiZSB1cCB0byBvbmUgdXBkYXRlKCkgYmVoaW5kLlxuICAgICAqIFRoaXMgaXMgc3RpbGwgYmV0dGVyIHRoYW4gZXh0cmFwb2xhdGluZyAocHJvamVjdGluZyBvYmplY3RzJyBzdGF0ZSBhZnRlclxuICAgICAqIGEgZnV0dXJlIHVwZGF0ZSgpKSB3aGljaCBjYW4gcHJvZHVjZSBiaXphcnJlIHJlc3VsdHMuIFN0b3JpbmcgbXVsdGlwbGVcbiAgICAgKiBzdGF0ZXMgY2FuIGJlIGRpZmZpY3VsdCB0byBzZXQgdXAsIGFuZCBrZWVwIGluIG1pbmQgdGhhdCBydW5uaW5nIHRoaXNcbiAgICAgKiBwcm9jZXNzIHRha2VzIHRpbWUgdGhhdCBjb3VsZCBwdXNoIHRoZSBmcmFtZSByYXRlIGRvd24sIHNvIGl0J3Mgb2Z0ZW5cbiAgICAgKiBub3Qgd29ydGh3aGlsZSB1bmxlc3Mgc3R1dHRlcmluZyBpcyB2aXNpYmxlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZHJhd1xuICAgICAqICAgVGhlIGRyYXcoKSBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2RyYXcuaW50ZXJwb2xhdGlvblBlcmNlbnRhZ2VdXG4gICAgICogICBUaGUgY3VtdWxhdGl2ZSBhbW91bnQgb2YgdGltZSB0aGF0IGhhc24ndCBiZWVuIHNpbXVsYXRlZCB5ZXQsIGRpdmlkZWRcbiAgICAgKiAgIGJ5IHRoZSBhbW91bnQgb2YgdGltZSB0aGF0IHdpbGwgYmUgc2ltdWxhdGVkIHRoZSBuZXh0IHRpbWUgdXBkYXRlKClcbiAgICAgKiAgIHJ1bnMuIFVzZWZ1bCBmb3IgaW50ZXJwb2xhdGluZyBmcmFtZXMuXG4gICAgICovXG4gICAgcHVibGljIGFic3RyYWN0IGRyYXcoaW50ZXJwb2xhdGlvblBlcmNlbnRhZ2UgOiBudW1iZXIpIDogdm9pZDtcblxuICAgIC8qKlxuICAgICAqIEEgZnVuY3Rpb24gdGhhdCBydW5zIGF0IHRoZSBlbmQgb2YgdGhlIG1haW4gbG9vcC5cbiAgICAgKlxuICAgICAqIFVubGlrZSB7QGxpbmsgI3NldFVwZGF0ZSB1cGRhdGV9KCksIHdoaWNoIGNhbiBydW4gemVybyBvciBtb3JlIHRpbWVzIHBlclxuICAgICAqIGZyYW1lLCBlbmQoKSBhbHdheXMgcnVucyBleGFjdGx5IG9uY2UgcGVyIGZyYW1lLiBUaGlzIG1ha2VzIGl0IHVzZWZ1bFxuICAgICAqIGZvciBhbnkgdXBkYXRlcyB0aGF0IGFyZSBub3QgZGVwZW5kZW50IG9uIHRpbWUgaW4gdGhlIHNpbXVsYXRpb24uXG4gICAgICogRXhhbXBsZXMgaW5jbHVkZSBjbGVhbmluZyB1cCBhbnkgdGVtcG9yYXJ5IHN0YXRlIHNldCB1cCBieVxuICAgICAqIHtAbGluayAjc2V0QmVnaW4gYmVnaW59KCksIGxvd2VyaW5nIHRoZSB2aXN1YWwgcXVhbGl0eSBpZiB0aGUgZnJhbWUgcmF0ZVxuICAgICAqIGlzIHRvbyBsb3csIG9yIHBlcmZvcm1pbmcgbG9uZy1ydW5uaW5nIHVwZGF0ZXMgaW5jcmVtZW50YWxseS4gQ29tcGFyZWRcbiAgICAgKiB0byBiZWdpbigpLCBnZW5lcmFsbHkgYWN0aW9ucyBzaG91bGQgb2NjdXIgaW4gZW5kKCkgaWYgdGhleSB1c2UgYW55dGhpbmdcbiAgICAgKiB0aGF0IHVwZGF0ZSgpIG9yIHtAbGluayAjc2V0RHJhdyBkcmF3fSgpIGFmZmVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVuZFxuICAgICAqICAgVGhlIGVuZCgpIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbZW5kLmZwc11cbiAgICAgKiAgIFRoZSBleHBvbmVudGlhbCBtb3ZpbmcgYXZlcmFnZSBvZiB0aGUgZnJhbWVzIHBlciBzZWNvbmQuIFRoaXMgaXMgdGhlXG4gICAgICogICBzYW1lIHZhbHVlIHJldHVybmVkIGJ5IGBNYWluTG9vcC5nZXRGUFMoKWAuIEl0IGNhbiBiZSB1c2VkIHRvIHRha2VcbiAgICAgKiAgIGFjdGlvbiB3aGVuIHRoZSBGUFMgaXMgdG9vIGxvdyAob3IgdG8gcmVzdG9yZSB0byBub3JtYWxjeSBpZiB0aGUgRlBTXG4gICAgICogICBtb3ZlcyBiYWNrIHVwKS4gRXhhbXBsZXMgb2YgYWN0aW9ucyB0byB0YWtlIGlmIHRoZSBGUFMgaXMgdG9vIGxvd1xuICAgICAqICAgaW5jbHVkZSBleGl0aW5nIHRoZSBhcHBsaWNhdGlvbiwgbG93ZXJpbmcgdGhlIHZpc3VhbCBxdWFsaXR5LCBzdG9wcGluZ1xuICAgICAqICAgb3IgcmVkdWNpbmcgYWN0aXZpdGllcyBvdXRzaWRlIG9mIHRoZSBtYWluIGxvb3AgbGlrZSBldmVudCBoYW5kbGVycyBvclxuICAgICAqICAgYXVkaW8gcGxheWJhY2ssIHBlcmZvcm1pbmcgbm9uLWNyaXRpY2FsIHVwZGF0ZXMgbGVzcyBmcmVxdWVudGx5LCBvclxuICAgICAqICAgaW5jcmVhc2luZyB0aGUgc2ltdWxhdGlvbiB0aW1lc3RlcCAoYnkgY2FsbGluZ1xuICAgICAqICAgYE1haW5Mb29wLnNldFNpbXVsYXRpb25UaW1lc3RlcCgpYCkuIE5vdGUgdGhhdCB0aGlzIGxhc3Qgb3B0aW9uXG4gICAgICogICByZXN1bHRzIGluIG1vcmUgdGltZSBiZWluZyBzaW11bGF0ZWQgcGVyIHVwZGF0ZSgpIGNhbGwsIHdoaWNoIGNhdXNlc1xuICAgICAqICAgdGhlIGFwcGxpY2F0aW9uIHRvIGJlaGF2ZSBub24tZGV0ZXJtaW5pc3RpY2FsbHkuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbZW5kLnBhbmljPWZhbHNlXVxuICAgICAqICAgSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHNpbXVsYXRpb24gaGFzIGZhbGxlbiB0b28gZmFyIGJlaGluZCByZWFsIHRpbWUuXG4gICAgICogICBTcGVjaWZpY2FsbHksIGBwYW5pY2Agd2lsbCBiZSBgdHJ1ZWAgaWYgdG9vIG1hbnkgdXBkYXRlcyBvY2N1cnJlZCBpblxuICAgICAqICAgb25lIGZyYW1lLiBJbiBuZXR3b3JrZWQgbG9ja3N0ZXAgYXBwbGljYXRpb25zLCB0aGUgYXBwbGljYXRpb24gc2hvdWxkXG4gICAgICogICB3YWl0IGZvciBzb21lIGFtb3VudCBvZiB0aW1lIHRvIHNlZSBpZiB0aGUgdXNlciBjYW4gY2F0Y2ggdXAgYmVmb3JlXG4gICAgICogICBkcm9wcGluZyB0aGUgdXNlci4gSW4gbmV0d29ya2VkIGJ1dCBub24tbG9ja3N0ZXAgYXBwbGljYXRpb25zLCB0aGlzXG4gICAgICogICB0eXBpY2FsbHkgaW5kaWNhdGVzIHRoYXQgdGhlIHVzZXIgbmVlZHMgdG8gYmUgc25hcHBlZCBvciBlYXNlZCB0byB0aGVcbiAgICAgKiAgIGN1cnJlbnQgYXV0aG9yaXRhdGl2ZSBzdGF0ZS4gV2hlbiB0aGlzIGhhcHBlbnMsIGl0IG1heSBiZSBjb252ZW5pZW50XG4gICAgICogICB0byBjYWxsIGBNYWluTG9vcC5yZXNldEZyYW1lRGVsdGEoKWAgdG8gZGlzY2FyZCBhY2N1bXVsYXRlZCBwZW5kaW5nXG4gICAgICogICB1cGRhdGVzLiBJbiBub24tbmV0d29ya2VkIGFwcGxpY2F0aW9ucywgaXQgbWF5IGJlIGFjY2VwdGFibGUgdG8gYWxsb3dcbiAgICAgKiAgIHRoZSBhcHBsaWNhdGlvbiB0byBrZWVwIHJ1bm5pbmcgZm9yIGF3aGlsZSB0byBzZWUgaWYgaXQgd2lsbCBjYXRjaCB1cC5cbiAgICAgKiAgIEhvd2V2ZXIsIHRoaXMgY291bGQgYWxzbyBjYXVzZSB0aGUgYXBwbGljYXRpb24gdG8gbG9vayBsaWtlIGl0IGlzXG4gICAgICogICBydW5uaW5nIHZlcnkgcXVpY2tseSBmb3IgYSBmZXcgZnJhbWVzIGFzIGl0IHRyYW5zaXRpb25zIHRocm91Z2ggdGhlXG4gICAgICogICBpbnRlcm1lZGlhdGUgc3RhdGVzLiBBbiBhbHRlcm5hdGl2ZSB0aGF0IG1heSBiZSBhY2NlcHRhYmxlIGlzIHRvXG4gICAgICogICBzaW1wbHkgaWdub3JlIHRoZSB1bnNpbXVsYXRlZCBlbGFwc2VkIHRpbWUgYnkgY2FsbGluZ1xuICAgICAqICAgYE1haW5Mb29wLnJlc2V0RnJhbWVEZWx0YSgpYCBldmVuIHRob3VnaCB0aGlzIGludHJvZHVjZXNcbiAgICAgKiAgIG5vbi1kZXRlcm1pbmlzdGljIGJlaGF2aW9yLiBJbiBhbGwgY2FzZXMsIGlmIHRoZSBhcHBsaWNhdGlvbiBwYW5pY3NcbiAgICAgKiAgIGZyZXF1ZW50bHksIHRoaXMgaXMgYW4gaW5kaWNhdGlvbiB0aGF0IHRoZSBtYWluIGxvb3AgaXMgcnVubmluZyB0b29cbiAgICAgKiAgIHNsb3dseS4gSG93ZXZlciwgbW9zdCBvZiB0aGUgdGltZSB0aGUgZHJvcCBpbiBmcmFtZSByYXRlIHdpbGwgcHJvYmFibHlcbiAgICAgKiAgIGJlIG5vdGljZWFibGUgYmVmb3JlIGEgcGFuaWMgb2NjdXJzLiBUbyBoZWxwIHRoZSBhcHBsaWNhdGlvbiBjYXRjaCB1cFxuICAgICAqICAgYWZ0ZXIgYSBwYW5pYyBjYXVzZWQgYnkgYSBzcGlyYWwgb2YgZGVhdGgsIHRoZSBzYW1lIHN0ZXBzIGNhbiBiZSB0YWtlblxuICAgICAqICAgdGhhdCBhcmUgc3VnZ2VzdGVkIGFib3ZlIGlmIHRoZSBGUFMgZHJvcHMgdG9vIGxvdy5cbiAgICAgKi9cbiAgICBhYnN0cmFjdCBlbmQoZnBzIDogbnVtYmVyLCBwYW5pYyA6IGJvb2xlYW4pIDogdm9pZDtcbn0iLCIvKlxuICogTWF0aFV0aWxpdGllcyBwcm92aWRlcyBhIG51bWJlciBvZiBzZXJ2aWNlcyBmb3IgcmVuZGVyaW5nIHVzaW5nIDR4NCBtYXRyaWNlcywgbGlrZVxuICogdHJhbnNmb3JtdGluZyAoaS5lLiB0cmFuc2xhdGlvbiwgcm90YXRpb24sIGFuZCBzY2FsaW5nKSAzZCBvciAyZCBwb2ludHMgZnJvbSB3b3JsZFxuICogY29vcmRpbmF0ZSBzeXN0ZW1zIHRvIHNjcmVlbiBjb29yZGluYXRlIHN5c3RlbXMuXG4gKi9cbmltcG9ydCB7TWF0cml4fSBmcm9tICcuL01hdHJpeCdcbmltcG9ydCB7VmVjdG9yM30gZnJvbSAnLi9WZWN0b3IzJ1xuXG5leHBvcnQgbmFtZXNwYWNlIE1hdGhVdGlsaXRpZXMge1xuICAgIGV4cG9ydCBmdW5jdGlvbiBkZXRlcm1pbmFudDR4NChyZXN1bHQgOiBNYXRyaXgpIDogbnVtYmVyIHtcbiAgICAgICAgbGV0IGRldDAgPSByZXN1bHQuZ2V0KDAsIDApICogKFxuICAgICAgICAgICAgKHJlc3VsdC5nZXQoMSwgMSkgKiAoKHJlc3VsdC5nZXQoMiwgMikgKiByZXN1bHQuZ2V0KDMsIDMpKSAtIChyZXN1bHQuZ2V0KDIsIDMpICogcmVzdWx0LmdldCgzLCAyKSkpKVxuICAgICAgICAgICAgLSAocmVzdWx0LmdldCgxLCAyKSAqICgocmVzdWx0LmdldCgyLCAxKSAqIHJlc3VsdC5nZXQoMywgMykpIC0gKHJlc3VsdC5nZXQoMiwgMykgKiByZXN1bHQuZ2V0KDMsIDEpKSkpXG4gICAgICAgICAgICArIChyZXN1bHQuZ2V0KDEsIDMpICogKChyZXN1bHQuZ2V0KDIsIDEpICogcmVzdWx0LmdldCgzLCAyKSkgLSAocmVzdWx0LmdldCgzLCAxKSAqIHJlc3VsdC5nZXQoMiwgMikpKSkpO1xuICAgICAgICBsZXQgZGV0MSA9IHJlc3VsdC5nZXQoMCwgMSkgKiAoXG4gICAgICAgICAgICAocmVzdWx0LmdldCgxLCAwKSAqICgocmVzdWx0LmdldCgyLCAyKSAqIHJlc3VsdC5nZXQoMywgMykpIC0gKHJlc3VsdC5nZXQoMiwgMykgKiByZXN1bHQuZ2V0KDMsIDIpKSkpXG4gICAgICAgICAgICAtIChyZXN1bHQuZ2V0KDEsIDIpICogKChyZXN1bHQuZ2V0KDIsIDApICogcmVzdWx0LmdldCgzLCAzKSkgLSAocmVzdWx0LmdldCgzLCAwKSAqIHJlc3VsdC5nZXQoMiwgMykpKSlcbiAgICAgICAgICAgICsgKHJlc3VsdC5nZXQoMSwgMykgKiAoKHJlc3VsdC5nZXQoMiwgMCkgKiByZXN1bHQuZ2V0KDMsIDIpKSAtIChyZXN1bHQuZ2V0KDMsIDApICogcmVzdWx0LmdldCgyLCAyKSkpKSk7XG4gICAgICAgIGxldCBkZXQyID0gcmVzdWx0LmdldCgwLCAyKSAqIChcbiAgICAgICAgICAgIChyZXN1bHQuZ2V0KDEsIDApICogKChyZXN1bHQuZ2V0KDIsIDEpICogcmVzdWx0LmdldCgzLCAzKSkgLSAocmVzdWx0LmdldCgyLCAzKSAqIHJlc3VsdC5nZXQoMywgMSkpKSlcbiAgICAgICAgICAgIC0gKHJlc3VsdC5nZXQoMSwgMSkgKiAoKHJlc3VsdC5nZXQoMiwgMCkgKiByZXN1bHQuZ2V0KDMsIDMpKSAtIChyZXN1bHQuZ2V0KDIsIDMpICogcmVzdWx0LmdldCgzLCAwKSkpKVxuICAgICAgICAgICAgKyAocmVzdWx0LmdldCgxLCAzKSAqICgocmVzdWx0LmdldCgyLCAwKSAqIHJlc3VsdC5nZXQoMywgMSkpIC0gKHJlc3VsdC5nZXQoMiwgMSkgKiByZXN1bHQuZ2V0KDMsIDApKSkpKTtcbiAgICAgICAgbGV0IGRldDMgPSByZXN1bHQuZ2V0KDAsIDMpICogKFxuICAgICAgICAgICAgKHJlc3VsdC5nZXQoMSwgMCkgKiAoKHJlc3VsdC5nZXQoMiwgMSkgKiByZXN1bHQuZ2V0KDMsIDIpKSAtIChyZXN1bHQuZ2V0KDIsIDIpICogcmVzdWx0LmdldCgzLCAxKSkpKVxuICAgICAgICAgICAgLSAocmVzdWx0LmdldCgxLCAxKSAqICgocmVzdWx0LmdldCgyLCAwKSAqIHJlc3VsdC5nZXQoMywgMikpIC0gKHJlc3VsdC5nZXQoMiwgMikgKiByZXN1bHQuZ2V0KDMsIDApKSkpXG4gICAgICAgICAgICArIChyZXN1bHQuZ2V0KDEsIDIpICogKChyZXN1bHQuZ2V0KDIsIDApICogcmVzdWx0LmdldCgzLCAxKSkgLSAocmVzdWx0LmdldCgyLCAxKSAqIHJlc3VsdC5nZXQoMywgMCkpKSkpO1xuICAgICAgICBsZXQgZGV0ID0gZGV0MCAtIGRldDEgKyBkZXQyIC0gZGV0MztcbiAgICAgICAgY29uc29sZS5sb2coXCJkZXQgPSBcIiArIGRldDAgKyBcIiArIFwiICsgZGV0MSArIFwiICsgXCIgKyBkZXQyICsgXCIgKyBcIiArIGRldDMpO1xuICAgICAgICByZXR1cm4gZGV0O1xuICAgIH1cbiAgICBleHBvcnQgZnVuY3Rpb24gaWRlbnRpdHkocmVzdWx0IDogTWF0cml4KSA6IHZvaWQge1xuICAgICAgICBpZiAocmVzdWx0LmdldFJvd3MoKSA9PT0gcmVzdWx0LmdldENvbHVtbnMoKSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHQuZ2V0Um93cygpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHJlc3VsdC5nZXRDb2x1bW5zKCk7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PT0gailcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zZXQoMS4wLCBpLCBqKTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNldCgwLjAsIGksIGopO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBleHBvcnQgZnVuY3Rpb24gaW52ZXJzZShyZXN1bHQgOiBNYXRyaXgsIG1hdCA6IE1hdHJpeCkgOiB2b2lkIHtcbiAgICAgICAgbGV0IGRldCA9IHRoaXMuZGV0ZXJtaW5hbnQobWF0KTtcbiAgICAgICAgbGV0IG0wMCA9IG1hdC5nZXQoMCwgMCk7IGxldCBtMDEgPSBtYXQuZ2V0KDAsIDEpOyBsZXQgbTAyID0gbWF0LmdldCgwLCAyKTsgbGV0IG0wMyA9IG1hdC5nZXQoMCwgMyk7XG4gICAgICAgIGxldCBtMTAgPSBtYXQuZ2V0KDEsIDApOyBsZXQgbTExID0gbWF0LmdldCgxLCAxKTsgbGV0IG0xMiA9IG1hdC5nZXQoMSwgMik7IGxldCBtMTMgPSBtYXQuZ2V0KDEsIDMpO1xuICAgICAgICBsZXQgbTIwID0gbWF0LmdldCgyLCAwKTsgbGV0IG0yMSA9IG1hdC5nZXQoMiwgMSk7IGxldCBtMjIgPSBtYXQuZ2V0KDIsIDIpOyBsZXQgbTIzID0gbWF0LmdldCgyLCAzKTtcbiAgICAgICAgbGV0IG0zMCA9IG1hdC5nZXQoMywgMCk7IGxldCBtMzEgPSBtYXQuZ2V0KDMsIDEpOyBsZXQgbTMyID0gbWF0LmdldCgzLCAyKTsgbGV0IG0zMyA9IG1hdC5nZXQoMywgMyk7XG4gICAgICAgIGxldCB0ZW1wID0gbmV3IE1hdHJpeCg0LCA0KTtcbiAgICAgICAgdGVtcC5zZXQoKG0xMiAqIG0yMyAqIG0zMSkgLSAobTEzICogbTIyICogbTMxKSArIChtMTMgKiBtMjEgKiBtMzIpIC0gKG0xMSAqIG0yMyAqIG0zMikgLSAobTEyICogbTIxICogbTMzKSArIChtMTEgKiBtMjIgKiBtMzMpLCAwLCAwKTtcbiAgICAgICAgdGVtcC5zZXQoKG0wMyAqIG0yMiAqIG0zMSkgLSAobTAyICogbTIzICogbTMxKSAtIChtMDMgKiBtMjEgKiBtMzIpICsgKG0wMSAqIG0yMyAqIG0zMikgKyAobTAyICogbTIxICogbTMzKSAtIChtMDEgKiBtMjIgKiBtMzMpLCAwLCAxKTtcbiAgICAgICAgdGVtcC5zZXQoKG0wMiAqIG0xMyAqIG0zMSkgLSAobTAzICogbTEyICogbTMxKSArIChtMDMgKiBtMTEgKiBtMzIpIC0gKG0wMSAqIG0xMyAqIG0zMikgLSAobTAyICogbTExICogbTMzKSArIChtMDEgKiBtMTIgKiBtMzMpLCAwLCAyKTtcbiAgICAgICAgdGVtcC5zZXQoKG0wMyAqIG0xMiAqIG0yMSkgLSAobTAyICogbTEzICogbTIxKSAtIChtMDMgKiBtMTEgKiBtMjIpICsgKG0wMSAqIG0xMyAqIG0yMikgKyAobTAyICogbTExICogbTIzKSAtIChtMDEgKiBtMTIgKiBtMjMpLCAwLCAzKTtcbiAgICAgICAgdGVtcC5zZXQoKG0xMyAqIG0yMiAqIG0zMCkgLSAobTEyICogbTIzICogbTMwKSAtIChtMTMgKiBtMjAgKiBtMzIpICsgKG0xMCAqIG0yMyAqIG0zMikgKyAobTEyICogbTIwICogbTMzKSAtIChtMTAgKiBtMjIgKiBtMzMpLCAxLCAwKTtcbiAgICAgICAgdGVtcC5zZXQoKG0wMiAqIG0yMyAqIG0zMCkgLSAobTAzICogbTIyICogbTMwKSArIChtMDMgKiBtMjAgKiBtMzIpIC0gKG0wMCAqIG0yMyAqIG0zMikgLSAobTAyICogbTIwICogbTMzKSArIChtMDAgKiBtMjIgKiBtMzMpLCAxLCAxKTtcbiAgICAgICAgdGVtcC5zZXQoKG0wMyAqIG0xMiAqIG0zMCkgLSAobTAyICogbTEzICogbTMwKSAtIChtMDMgKiBtMTAgKiBtMzIpICsgKG0wMCAqIG0xMyAqIG0zMikgKyAobTAyICogbTEwICogbTMzKSAtIChtMDAgKiBtMTIgKiBtMzMpLCAxLCAyKTtcbiAgICAgICAgdGVtcC5zZXQoKG0wMiAqIG0xMyAqIG0yMCkgLSAobTAzICogbTEyICogbTIwKSArIChtMDMgKiBtMTAgKiBtMjIpIC0gKG0wMCAqIG0xMyAqIG0yMikgLSAobTAyICogbTEwICogbTIzKSArIChtMDAgKiBtMTIgKiBtMjMpLCAxLCAzKTtcbiAgICAgICAgdGVtcC5zZXQoKG0xMSAqIG0yMyAqIG0zMCkgLSAobTEzICogbTIxICogbTMwKSArIChtMTMgKiBtMjAgKiBtMzEpIC0gKG0xMCAqIG0yMyAqIG0zMSkgLSAobTExICogbTIwICogbTMzKSArIChtMTAgKiBtMjEgKiBtMzMpLCAyLCAwKTtcbiAgICAgICAgdGVtcC5zZXQoKG0wMyAqIG0yMSAqIG0zMCkgLSAobTAxICogbTIzICogbTMwKSAtIChtMDMgKiBtMjAgKiBtMzEpICsgKG0wMCAqIG0yMyAqIG0zMSkgKyAobTAxICogbTIwICogbTMzKSAtIChtMDAgKiBtMjEgKiBtMzMpLCAyLCAxKTtcbiAgICAgICAgdGVtcC5zZXQoKG0wMSAqIG0xMyAqIG0zMCkgLSAobTAzICogbTExICogbTMwKSArIChtMDMgKiBtMTAgKiBtMzEpIC0gKG0wMCAqIG0xMyAqIG0zMSkgLSAobTAxICogbTEwICogbTMzKSArIChtMDAgKiBtMTEgKiBtMzMpLCAyLCAyKTtcbiAgICAgICAgdGVtcC5zZXQoKG0wMyAqIG0xMSAqIG0yMCkgLSAobTAxICogbTEzICogbTIwKSAtIChtMDMgKiBtMTAgKiBtMjEpICsgKG0wMCAqIG0xMyAqIG0yMSkgKyAobTAxICogbTEwICogbTIzKSAtIChtMDAgKiBtMTEgKiBtMjMpLCAyLCAzKTtcbiAgICAgICAgdGVtcC5zZXQoKG0xMiAqIG0yMSAqIG0zMCkgLSAobTExICogbTIyICogbTMwKSAtIChtMTIgKiBtMjAgKiBtMzEpICsgKG0xMCAqIG0yMiAqIG0zMSkgKyAobTExICogbTIwICogbTMyKSAtIChtMTAgKiBtMjEgKiBtMzIpLCAzLCAwKTtcbiAgICAgICAgdGVtcC5zZXQoKG0wMSAqIG0yMiAqIG0zMCkgLSAobTAyICogbTIxICogbTMwKSArIChtMDIgKiBtMjAgKiBtMzEpIC0gKG0wMCAqIG0yMiAqIG0zMSkgLSAobTAxICogbTIwICogbTMyKSArIChtMDAgKiBtMjEgKiBtMzIpLCAzLCAxKTtcbiAgICAgICAgdGVtcC5zZXQoKG0wMiAqIG0xMSAqIG0zMCkgLSAobTAxICogbTEyICogbTMwKSAtIChtMDIgKiBtMTAgKiBtMzEpICsgKG0wMCAqIG0xMiAqIG0zMSkgKyAobTAxICogbTEwICogbTMyKSAtIChtMDAgKiBtMTEgKiBtMzIpLCAzLCAyKTtcbiAgICAgICAgdGVtcC5zZXQoKG0wMSAqIG0xMiAqIG0yMCkgLSAobTAyICogbTExICogbTIwKSArIChtMDIgKiBtMTAgKiBtMjEpIC0gKG0wMCAqIG0xMiAqIG0yMSkgLSAobTAxICogbTEwICogbTIyKSArIChtMDAgKiBtMTEgKiBtMjIpLCAzLCAzKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgNDsgaisrKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnNldCh0ZW1wLmdldChpLCBqKSAvIGRldCwgaSwgaik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZXhwb3J0IGZ1bmN0aW9uIG1vZGVsKHJlc3VsdCA6IE1hdHJpeCwgdHJhbnNsYXRpb24gOiBWZWN0b3IzLCByb3RhdGlvbiA6IFZlY3RvcjMsIHNjYWxlIDogVmVjdG9yMykgOiB2b2lkIHtcbiAgICAgICAgLy8gVFJBTlNMQVRJT04gTUFUUklYXHRcbiAgICAgICAgbGV0IHRyYW5zbGF0aW9uTWF0cml4ID0gbmV3IE1hdHJpeCg0LCA0KTtcbiAgICAgICAgdGhpcy5pZGVudGl0eSh0cmFuc2xhdGlvbk1hdHJpeCk7XG4gICAgICAgIHRoaXMudHJhbnNsYXRlKHRyYW5zbGF0aW9uTWF0cml4LCB0cmFuc2xhdGlvbik7XG5cbiAgICAgICAgLy8gUk9UQVRJT04gTUFUUklYXG4gICAgICAgIGxldCByb3RhdGlvbk1hdHJpeCA9IG5ldyBNYXRyaXgoNCwgNCk7XG4gICAgICAgIHRoaXMuaWRlbnRpdHkocm90YXRpb25NYXRyaXgpO1xuICAgICAgICB0aGlzLnJvdGF0ZShyb3RhdGlvbk1hdHJpeCwgcm90YXRpb24pO1xuXG4gICAgICAgIC8vIFNDQUxJTkcgTUFUUklYXG4gICAgICAgIGxldCBzY2FsZU1hdHJpeCA9IG5ldyBNYXRyaXgoNCwgNCk7XG4gICAgICAgIHRoaXMuaWRlbnRpdHkoc2NhbGVNYXRyaXgpO1xuICAgICAgICB0aGlzLnNjYWxlKHNjYWxlTWF0cml4LCBzY2FsZSk7XG5cbiAgICAgICAgLy8gQU5EIE5PVyBNVUxUSVBMWSBUSEVNIFRPR0VUSEVSIElOIFRIRSBDT1JSRUNUIE9SREVSXG4gICAgICAgIGxldCB0ZW1wTWF0cml4ID0gbmV3IE1hdHJpeCg0LCA0KTtcbiAgICAgICAgdGhpcy5tdWx0aXBseSh0ZW1wTWF0cml4LCB0cmFuc2xhdGlvbk1hdHJpeCwgcm90YXRpb25NYXRyaXgpO1xuICAgICAgICB0aGlzLm11bHRpcGx5KHJlc3VsdCwgdGVtcE1hdHJpeCwgc2NhbGVNYXRyaXgpO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseShyZXN1bHQgOiBNYXRyaXgsIG1hdDAgOiBNYXRyaXgsIG1hdDEgOiBNYXRyaXgpIDogdm9pZCB7XG4gICAgICAgIC8vIHJlc3VsdCBNSUdIVCBCRSBtYXQwIE9SIG1hdDEgU08gSVQnUyBCRVNUIElGIFdFXG4gICAgICAgIC8vIENBTENVTEFURSBURU1QIFZBTFVFUyBGSVJTVCBCRUZPUkUgQVNTSUdOTUVOVFxuICAgICAgICBsZXQgcjAwID0gKG1hdDAuZ2V0KDAsIDApICogbWF0MS5nZXQoMCwgMCkpXG4gICAgICAgICAgICArIChtYXQwLmdldCgwLCAxKSAqIG1hdDEuZ2V0KDEsIDApKVxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMCwgMikgKiBtYXQxLmdldCgyLCAwKSlcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDAsIDMpICogbWF0MS5nZXQoMywgMCkpO1xuICAgICAgICBsZXQgcjEwID0gKG1hdDAuZ2V0KDEsIDApICogbWF0MS5nZXQoMCwgMCkpXG4gICAgICAgICAgICArIChtYXQwLmdldCgxLCAxKSAqIG1hdDEuZ2V0KDEsIDApKVxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMSwgMikgKiBtYXQxLmdldCgyLCAwKSlcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDEsIDMpICogbWF0MS5nZXQoMywgMCkpO1xuICAgICAgICBsZXQgcjIwID0gKG1hdDAuZ2V0KDIsIDApICogbWF0MS5nZXQoMCwgMCkpXG4gICAgICAgICAgICArIChtYXQwLmdldCgyLCAxKSAqIG1hdDEuZ2V0KDEsIDApKVxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMiwgMikgKiBtYXQxLmdldCgyLCAwKSlcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDIsIDMpICogbWF0MS5nZXQoMywgMCkpO1xuICAgICAgICBsZXQgcjMwID0gKG1hdDAuZ2V0KDMsIDApICogbWF0MS5nZXQoMCwgMCkpXG4gICAgICAgICAgICArIChtYXQwLmdldCgzLCAxKSAqIG1hdDEuZ2V0KDEsIDApKVxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMywgMikgKiBtYXQxLmdldCgyLCAwKSlcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDMsIDMpICogbWF0MS5nZXQoMywgMCkpO1xuICAgICAgICBsZXQgcjAxID0gKG1hdDAuZ2V0KDAsIDApICogbWF0MS5nZXQoMCwgMSkpXG4gICAgICAgICAgICArIChtYXQwLmdldCgwLCAxKSAqIG1hdDEuZ2V0KDEsIDEpKVxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMCwgMikgKiBtYXQxLmdldCgyLCAxKSlcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDAsIDMpICogbWF0MS5nZXQoMywgMSkpO1xuICAgICAgICBsZXQgcjExID0gKG1hdDAuZ2V0KDEsIDApICogbWF0MS5nZXQoMCwgMSkpXG4gICAgICAgICAgICArIChtYXQwLmdldCgxLCAxKSAqIG1hdDEuZ2V0KDEsIDEpKVxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMSwgMikgKiBtYXQxLmdldCgyLCAxKSlcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDEsIDMpICogbWF0MS5nZXQoMywgMSkpO1xuICAgICAgICBsZXQgcjIxID0gKG1hdDAuZ2V0KDIsIDApICogbWF0MS5nZXQoMCwgMSkpXG4gICAgICAgICAgICArIChtYXQwLmdldCgyLCAxKSAqIG1hdDEuZ2V0KDEsIDEpKVxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMiwgMikgKiBtYXQxLmdldCgyLCAxKSlcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDIsIDMpICogbWF0MS5nZXQoMywgMSkpO1xuICAgICAgICBsZXQgcjMxID0gKG1hdDAuZ2V0KDMsIDApICogbWF0MS5nZXQoMCwgMSkpXG4gICAgICAgICAgICArIChtYXQwLmdldCgzLCAxKSAqIG1hdDEuZ2V0KDEsIDEpKVxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMywgMikgKiBtYXQxLmdldCgyLCAxKSlcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDMsIDMpICogbWF0MS5nZXQoMywgMSkpO1xuICAgICAgICBsZXQgcjAyID0gKG1hdDAuZ2V0KDAsIDApICogbWF0MS5nZXQoMCwgMikpXG4gICAgICAgICAgICArIChtYXQwLmdldCgwLCAxKSAqIG1hdDEuZ2V0KDEsIDIpKVxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMCwgMikgKiBtYXQxLmdldCgyLCAyKSlcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDAsIDMpICogbWF0MS5nZXQoMywgMikpO1xuICAgICAgICBsZXQgcjEyID0gKG1hdDAuZ2V0KDEsIDApICogbWF0MS5nZXQoMCwgMikpXG4gICAgICAgICAgICArIChtYXQwLmdldCgxLCAxKSAqIG1hdDEuZ2V0KDEsIDIpKVxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMSwgMikgKiBtYXQxLmdldCgyLCAyKSlcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDEsIDMpICogbWF0MS5nZXQoMywgMikpO1xuICAgICAgICBsZXQgcjIyID0gKG1hdDAuZ2V0KDIsIDApICogbWF0MS5nZXQoMCwgMikpXG4gICAgICAgICAgICArIChtYXQwLmdldCgyLCAxKSAqIG1hdDEuZ2V0KDEsIDIpKVxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMiwgMikgKiBtYXQxLmdldCgyLCAyKSlcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDIsIDMpICogbWF0MS5nZXQoMywgMikpO1xuICAgICAgICBsZXQgcjMyID0gKG1hdDAuZ2V0KDMsIDApICogbWF0MS5nZXQoMCwgMikpXG4gICAgICAgICAgICArIChtYXQwLmdldCgzLCAxKSAqIG1hdDEuZ2V0KDEsIDIpKVxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMywgMikgKiBtYXQxLmdldCgyLCAyKSlcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDMsIDMpICogbWF0MS5nZXQoMywgMikpO1xuICAgICAgICBsZXQgcjAzID0gKG1hdDAuZ2V0KDAsIDApICogbWF0MS5nZXQoMCwgMykpXG4gICAgICAgICAgICArIChtYXQwLmdldCgwLCAxKSAqIG1hdDEuZ2V0KDEsIDMpKVxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMCwgMikgKiBtYXQxLmdldCgyLCAzKSlcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDAsIDMpICogbWF0MS5nZXQoMywgMykpO1xuICAgICAgICBsZXQgcjEzID0gKG1hdDAuZ2V0KDEsIDApICogbWF0MS5nZXQoMCwgMykpXG4gICAgICAgICAgICArIChtYXQwLmdldCgxLCAxKSAqIG1hdDEuZ2V0KDEsIDMpKVxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMSwgMikgKiBtYXQxLmdldCgyLCAzKSlcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDEsIDMpICogbWF0MS5nZXQoMywgMykpO1xuICAgICAgICBsZXQgcjIzID0gKG1hdDAuZ2V0KDIsIDApICogbWF0MS5nZXQoMCwgMykpXG4gICAgICAgICAgICArIChtYXQwLmdldCgyLCAxKSAqIG1hdDEuZ2V0KDEsIDMpKVxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMiwgMikgKiBtYXQxLmdldCgyLCAzKSlcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDIsIDMpICogbWF0MS5nZXQoMywgMykpO1xuICAgICAgICBsZXQgcjMzID0gKG1hdDAuZ2V0KDMsIDApICogbWF0MS5nZXQoMCwgMykpXG4gICAgICAgICAgICArIChtYXQwLmdldCgzLCAxKSAqIG1hdDEuZ2V0KDEsIDMpKVxuICAgICAgICAgICAgKyAobWF0MC5nZXQoMywgMikgKiBtYXQxLmdldCgyLCAzKSlcbiAgICAgICAgICAgICsgKG1hdDAuZ2V0KDMsIDMpICogbWF0MS5nZXQoMywgMykpO1xuXG4gICAgICAgIC8vIE5PVyBQVVQgQUxMIFRIRSBDQUxDVUxBVEVEIFZBTFVFUyBJTiBUSEUgcmVzdWx0IE1BVFJJWFxuICAgICAgICByZXN1bHQuc2V0KHIwMCwgMCwgMCk7XG4gICAgICAgIHJlc3VsdC5zZXQocjEwLCAxLCAwKTtcbiAgICAgICAgcmVzdWx0LnNldChyMjAsIDIsIDApO1xuICAgICAgICByZXN1bHQuc2V0KHIzMCwgMywgMCk7XG4gICAgICAgIHJlc3VsdC5zZXQocjAxLCAwLCAxKTtcbiAgICAgICAgcmVzdWx0LnNldChyMTEsIDEsIDEpO1xuICAgICAgICByZXN1bHQuc2V0KHIyMSwgMiwgMSk7XG4gICAgICAgIHJlc3VsdC5zZXQocjMxLCAzLCAxKTtcbiAgICAgICAgcmVzdWx0LnNldChyMDIsIDAsIDIpO1xuICAgICAgICByZXN1bHQuc2V0KHIxMiwgMSwgMik7XG4gICAgICAgIHJlc3VsdC5zZXQocjIyLCAyLCAyKTtcbiAgICAgICAgcmVzdWx0LnNldChyMzIsIDMsIDIpO1xuICAgICAgICByZXN1bHQuc2V0KHIwMywgMCwgMyk7XG4gICAgICAgIHJlc3VsdC5zZXQocjEzLCAxLCAzKTtcbiAgICAgICAgcmVzdWx0LnNldChyMjMsIDIsIDMpO1xuICAgICAgICByZXN1bHQuc2V0KHIzMywgMywgMyk7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHByb2plY3Rpb24ocmVzdWx0IDogTWF0cml4LCBuZWFyWiA6IG51bWJlciwgZmFyWiA6IG51bWJlciwgdmlld3BvcnRXaWR0aCA6IG51bWJlciwgdmlld3BvcnRIZWlnaHQgOiBudW1iZXIsIGZvdlkgOiBudW1iZXIpIDogdm9pZCB7XG4gICAgICAgIGxldCBhc3BlY3RSYXRpbyA9IHZpZXdwb3J0V2lkdGggLyB2aWV3cG9ydEhlaWdodDtcbiAgICAgICAgbGV0IGZpZWxkT2ZWaWV3WSA9IHRoaXMubWF0aC5kZWdyZWVzVG9SYWRpYW5zKGZvdlkpO1xuICAgICAgICBsZXQgZmllbGRPZlZpZXdYID0gMiAqIE1hdGguYXRhbihNYXRoLnRhbihmaWVsZE9mVmlld1kgLyAyKSAqIGFzcGVjdFJhdGlvKTtcblxuICAgICAgICAvLyBXRSdMTCBVU0UgVEhFU0UgQVMgU0hPUlRIQU5EIEZPUiBMT0FESU5HIE9VUiBNQVRSSVhcbiAgICAgICAgbGV0IG4gPSBuZWFyWjtcbiAgICAgICAgbGV0IGYgPSBmYXJaO1xuICAgICAgICBsZXQgciA9IE1hdGgudGFuKGZpZWxkT2ZWaWV3WCAvIDIpICogbjtcbiAgICAgICAgbGV0IHQgPSBNYXRoLnRhbihmaWVsZE9mVmlld1kgLyAyKSAqIG47XG5cbiAgICAgICAgLy8gMC0zXG4gICAgICAgIHJlc3VsdC5zZXQobiAvIHIsIDAsIDApO1xuICAgICAgICByZXN1bHQuc2V0KDAuMCwgMCwgMSk7XG4gICAgICAgIHJlc3VsdC5zZXQoMC4wLCAwLCAyKTtcbiAgICAgICAgcmVzdWx0LnNldCgwLjAsIDAsIDMpO1xuICAgICAgICAvLyA0LTdcbiAgICAgICAgcmVzdWx0LnNldCgwLjAsIDEsIDApO1xuICAgICAgICByZXN1bHQuc2V0KG4gLyB0LCAxLCAxKTtcbiAgICAgICAgcmVzdWx0LnNldCgwLjAsIDEsIDIpO1xuICAgICAgICByZXN1bHQuc2V0KDAuMCwgMSwgMyk7XG4gICAgICAgIC8vIDgtMTFcbiAgICAgICAgcmVzdWx0LnNldCgwLjAsIDIsIDApO1xuICAgICAgICByZXN1bHQuc2V0KDAuMCwgMiwgMSk7XG4gICAgICAgIHJlc3VsdC5zZXQoKC0oZiArIG4pKSAvIChmIC0gbiksIDIsIDIpO1xuICAgICAgICByZXN1bHQuc2V0KCgtMiAqIGYgKiBuKSAvIChmIC0gbiksIDIsIDMpO1xuICAgICAgICAvLyAxMi0xNSBcbiAgICAgICAgcmVzdWx0LnNldCgwLjAsIDMsIDApO1xuICAgICAgICByZXN1bHQuc2V0KDAuMCwgMywgMSk7XG4gICAgICAgIHJlc3VsdC5zZXQoLTEuMCwgMywgMik7XG4gICAgICAgIHJlc3VsdC5zZXQoMC4wLCAzLCAzKTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gcm90YXRlKHJlc3VsdCA6IE1hdHJpeCwgcm90YXRpb25WZWN0b3IgOiBWZWN0b3IzKSA6IHZvaWQge1xuICAgICAgICAvLyBTVEFSVCBXSVRIIFRIRSBYLUFYSVMgUk9UQVRJT05cbiAgICAgICAgbGV0IHhSb3RhdGlvbk1hdHJpeCA9IG5ldyBNYXRyaXgoNCwgNCk7XG4gICAgICAgIHRoaXMuaWRlbnRpdHkoeFJvdGF0aW9uTWF0cml4KTtcbiAgICAgICAgbGV0IHRoZXRhWCA9IHJvdGF0aW9uVmVjdG9yLmdldFRoZXRhWCgpO1xuICAgICAgICB4Um90YXRpb25NYXRyaXguc2V0KE1hdGguY29zKHRoZXRhWCksIDEsIDEpO1xuICAgICAgICB4Um90YXRpb25NYXRyaXguc2V0KE1hdGguc2luKHRoZXRhWCksIDIsIDEpO1xuICAgICAgICB4Um90YXRpb25NYXRyaXguc2V0KC0xICogTWF0aC5zaW4odGhldGFYKSwgMSwgMik7XG4gICAgICAgIHhSb3RhdGlvbk1hdHJpeC5zZXQoTWF0aC5jb3ModGhldGFYKSwgMiwgMik7XG5cbiAgICAgICAgLy8gU1RBUlQgV0lUSCBUSEUgWS1BWElTIFJPVEFUSU9OXG4gICAgICAgIGxldCB5Um90YXRpb25NYXRyaXggPSBuZXcgTWF0cml4KDQsIDQpO1xuICAgICAgICB0aGlzLmlkZW50aXR5KHlSb3RhdGlvbk1hdHJpeCk7XG4gICAgICAgIGxldCB0aGV0YVkgPSByb3RhdGlvblZlY3Rvci5nZXRUaGV0YVkoKTtcbiAgICAgICAgeVJvdGF0aW9uTWF0cml4LnNldChNYXRoLmNvcyh0aGV0YVkpLCAwLCAwKTtcbiAgICAgICAgeVJvdGF0aW9uTWF0cml4LnNldCgtMSAqIE1hdGguc2luKHRoZXRhWSksIDIsIDApO1xuICAgICAgICB5Um90YXRpb25NYXRyaXguc2V0KE1hdGguc2luKHRoZXRhWSksIDAsIDIpO1xuICAgICAgICB5Um90YXRpb25NYXRyaXguc2V0KE1hdGguY29zKHRoZXRhWSksIDIsIDIpO1xuXG4gICAgICAgIC8vIFNUQVJUIFdJVEggVEhFIFotQVhJUyBST1RBVElPTlxuICAgICAgICBsZXQgelJvdGF0aW9uTWF0cml4ID0gbmV3IE1hdHJpeCg0LCA0KTtcbiAgICAgICAgdGhpcy5pZGVudGl0eSh6Um90YXRpb25NYXRyaXgpO1xuICAgICAgICBsZXQgdGhldGFaID0gcm90YXRpb25WZWN0b3IuZ2V0VGhldGFaKCk7XG4gICAgICAgIHpSb3RhdGlvbk1hdHJpeC5zZXQoTWF0aC5jb3ModGhldGFaKSwgMCwgMCk7XG4gICAgICAgIHpSb3RhdGlvbk1hdHJpeC5zZXQoTWF0aC5zaW4odGhldGFaKSwgMSwgMCk7XG4gICAgICAgIHpSb3RhdGlvbk1hdHJpeC5zZXQoLTEgKiBNYXRoLnNpbih0aGV0YVopLCAwLCAxKTtcbiAgICAgICAgelJvdGF0aW9uTWF0cml4LnNldChNYXRoLmNvcyh0aGV0YVopLCAxLCAxKTtcblxuICAgICAgICAvLyBTVEFSVCBXSVRIIFRIRSBYLUFYSVMgUk9UQVRJT05cbiAgICAgICAgbGV0IHRlbXBNYXRyaXggPSBuZXcgTWF0cml4KDQsIDQpO1xuICAgICAgICB0aGlzLmlkZW50aXR5KHRlbXBNYXRyaXgpO1xuICAgICAgICB0aGlzLm11bHRpcGx5KHRlbXBNYXRyaXgsIHhSb3RhdGlvbk1hdHJpeCwgeVJvdGF0aW9uTWF0cml4KTtcbiAgICAgICAgdGhpcy5tdWx0aXBseShyZXN1bHQsIHRlbXBNYXRyaXgsIHpSb3RhdGlvbk1hdHJpeCk7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHNjYWxlKHJlc3VsdCA6IE1hdHJpeCwgc2NhbGVWZWN0b3IgOiBWZWN0b3IzKSA6IHZvaWQge1xuICAgICAgICAvLyBTVEFSVCBXSVRIIFRIRSBJREVOVElUWSBNQVRSSVhcbiAgICAgICAgdGhpcy5pZGVudGl0eShyZXN1bHQsIHNjYWxlVmVjdG9yKTtcblxuICAgICAgICAvLyBBTkQgVEhFTiBMT0FEIElOIFRIRSBUUkFOU0xBVElPTiBWQUxVRVNcbiAgICAgICAgcmVzdWx0LnNldChzY2FsZVZlY3Rvci5nZXRYKCksIDAsIDApO1xuICAgICAgICByZXN1bHQuc2V0KHNjYWxlVmVjdG9yLmdldFkoKSwgMSwgMSk7XG4gICAgICAgIHJlc3VsdC5zZXQoc2NhbGVWZWN0b3IuZ2V0WigpLCAyLCAyKTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtKHJlc3VsdCA6IFZlY3RvcjMsIG1hdCA6IE1hdHJpeCwgdmVjIDogVmVjdG9yMykgOiB2b2lkIHtcbiAgICAgICAgcmVzdWx0LnNldFgoKG1hdC5nZXQoMCwgMCkgKiB2ZWMuZ2V0WCgpKSArIChtYXQuZ2V0KDAsIDEpICogdmVjLmdldFkoKSkgKyAobWF0LmdldCgwLCAyKSAqIHZlYy5nZXRaKCkpICsgKG1hdC5nZXQoMCwgMykgKiB2ZWMuZ2V0VygpKSk7XG4gICAgICAgIHJlc3VsdC5zZXRZKChtYXQuZ2V0KDEsIDApICogdmVjLmdldFgoKSkgKyAobWF0LmdldCgxLCAxKSAqIHZlYy5nZXRZKCkpICsgKG1hdC5nZXQoMSwgMikgKiB2ZWMuZ2V0WigpKSArIChtYXQuZ2V0KDEsIDMpICogdmVjLmdldFcoKSkpO1xuICAgICAgICByZXN1bHQuc2V0WigobWF0LmdldCgyLCAwKSAqIHZlYy5nZXRYKCkpICsgKG1hdC5nZXQoMiwgMSkgKiB2ZWMuZ2V0WSgpKSArIChtYXQuZ2V0KDIsIDIpICogdmVjLmdldFooKSkgKyAobWF0LmdldCgyLCAzKSAqIHZlYy5nZXRXKCkpKTtcbiAgICAgICAgcmVzdWx0LnNldFcoKG1hdC5nZXQoMywgMCkgKiB2ZWMuZ2V0WCgpKSArIChtYXQuZ2V0KDMsIDEpICogdmVjLmdldFkoKSkgKyAobWF0LmdldCgzLCAyKSAqIHZlYy5nZXRaKCkpICsgKG1hdC5nZXQoMywgMykgKiB2ZWMuZ2V0VygpKSk7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHRyYW5zbGF0ZShyZXN1bHQgOiBNYXRyaXgsIHRyYW5zbGF0aW9uVmVjdG9yIDogVmVjdG9yMykgOiB2b2lkIHtcbiAgICAgICAgLy8gU1RBUlQgV0lUSCBUSEUgSURFTlRJVFkgTUFUUklYXG4gICAgICAgIHRoaXMuaWRlbnRpdHkocmVzdWx0KTtcblxuICAgICAgICAvLyBBTkQgVEhFTiBMT0FEIElOIFRIRSBUUkFOU0xBVElPTiBWQUxVRVNcbiAgICAgICAgcmVzdWx0LnNldCh0cmFuc2xhdGlvblZlY3Rvci5nZXRYKCksIDAsIDMpO1xuICAgICAgICByZXN1bHQuc2V0KHRyYW5zbGF0aW9uVmVjdG9yLmdldFkoKSwgMSwgMyk7XG4gICAgICAgIHJlc3VsdC5zZXQodHJhbnNsYXRpb25WZWN0b3IuZ2V0WigpLCAyLCAzKTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gdHJhbnNwb3NlKHJlc3VsdCA6IE1hdHJpeCwgbWF0IDogTWF0cml4KSA6IHZvaWQge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA0OyBqKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IG1hdC5nZXQoaSwgaik7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnNldCh0ZW1wLCBqLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiB2aWV3KHJlc3VsdCA6IE1hdHJpeCwgY2FtZXJhUG9zaXRpb24gOiBWZWN0b3IzLCBjYW1lcmFPcmllbnRhdGlvbiA6IFZlY3RvcjMpIDogdm9pZCB7XG4gICAgICAgIGxldCBwaXRjaCA9IHRoaXMubWF0aC5kZWdyZWVzVG9SYWRpYW5zKGNhbWVyYU9yaWVudGF0aW9uLmdldFRoZXRhWCgpKTtcbiAgICAgICAgbGV0IHlhdyA9IHRoaXMubWF0aC5kZWdyZWVzVG9SYWRpYW5zKGNhbWVyYU9yaWVudGF0aW9uLmdldFRoZXRhWSgpKTtcbiAgICAgICAgbGV0IHJvbGwgPSB0aGlzLm1hdGguZGVncmVlc1RvUmFkaWFucyhjYW1lcmFPcmllbnRhdGlvbi5nZXRUaGV0YVooKSk7XG5cbiAgICAgICAgLy8gVE8gVFJBTlNMQVRFXG4gICAgICAgIGxldCB0cmFuc2xhdGVWZWN0b3IgPSB0aGlzLm1hdGgudmVjdG9yTWF0aC5jcmVhdGVQb3NpdGlvblZlY3RvcigpO1xuICAgICAgICB0cmFuc2xhdGVWZWN0b3Iuc2V0KC1jYW1lcmFQb3NpdGlvbi5nZXRYKCksIC1jYW1lcmFQb3NpdGlvbi5nZXRZKCksIC1jYW1lcmFQb3NpdGlvbi5nZXRaKCkpO1xuICAgICAgICBsZXQgdHJhbnNsYXRlTWF0cml4ID0gbmV3IE1hdHJpeCg0LCA0KTtcbiAgICAgICAgdGhpcy5pZGVudGl0eSh0cmFuc2xhdGVNYXRyaXgpO1xuICAgICAgICB0aGlzLnRyYW5zbGF0ZSh0cmFuc2xhdGVNYXRyaXgsIHRyYW5zbGF0ZVZlY3Rvcik7XG5cbiAgICAgICAgLy8gVE8gUk9UQVRFXG4gICAgICAgIGxldCByb3RhdGVWZWN0b3IgPSB0aGlzLm1hdGgudmVjdG9yTWF0aC5jcmVhdGVSb3RhdGlvblZlY3RvcigpO1xuICAgICAgICByb3RhdGVWZWN0b3Iuc2V0KC1waXRjaCwgLXlhdywgLXJvbGwpO1xuICAgICAgICBsZXQgcm90YXRlTWF0cml4ID0gbmV3IE1hdHJpeCg0LCA0KTtcbiAgICAgICAgdGhpcy5yb3RhdGUocm90YXRlTWF0cml4LCByb3RhdGVWZWN0b3IpO1xuXG4gICAgICAgIC8vIE5PVyBDT01CSU5FIFRIRSAyIE1BVFJJQ0VTXG4gICAgICAgIHRoaXMubXVsdGlwbHkocmVzdWx0LCByb3RhdGVNYXRyaXgsIHRyYW5zbGF0ZU1hdHJpeCk7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIGFkZFZlY3RvcnMocmVzdWx0IDogVmVjdG9yMywgdmVjMCA6IFZlY3RvcjMsIHZlYzEgOiBWZWN0b3IzKSA6IHZvaWQge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlYzAuZ2V0U2l6ZSgpOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB0b3RhbCA9IHZlYzAuZ2V0QXQoaSkgKyB2ZWMxLmdldEF0KGkpO1xuICAgICAgICAgICAgcmVzdWx0LnNldEF0KGksIHRvdGFsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBjcm9zc1Byb2R1Y3QocmVzdWx0IDogVmVjdG9yMywgdmVjMCA6IFZlY3RvcjMsIHZlYzEgOiBWZWN0b3IzKSA6IHZvaWQge1xuICAgICAgICBsZXQgcmVzdWx0MCA9ICh2ZWMwLmdldFkoKSAqIHZlYzEuZ2V0WigpKVxuICAgICAgICAgICAgLSAodmVjMS5nZXRZKCkgKiB2ZWMwLmdldFooKSk7XG4gICAgICAgIGxldCByZXN1bHQxID0gKHZlYzAuZ2V0WigpICogdmVjMS5nZXRYKCkpXG4gICAgICAgICAgICAtICh2ZWMxLmdldFooKSAqIHZlYzAuZ2V0WCgpKTtcbiAgICAgICAgbGV0IHJlc3VsdDIgPSAodmVjMC5nZXRYKCkgKiB2ZWMxLmdldFkoKSlcbiAgICAgICAgICAgIC0gKHZlYzEuZ2V0WCgpICogdmVjMC5nZXRZKCkpO1xuICAgICAgICByZXN1bHQuc2V0WChyZXN1bHQwKTtcbiAgICAgICAgcmVzdWx0LnNldFkocmVzdWx0MSk7XG4gICAgICAgIHJlc3VsdC5zZXRaKHJlc3VsdDIpO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBkb3RQcm9kdWN0KHZlYzAgOiBWZWN0b3IzLCB2ZWMxIDogVmVjdG9yMykgOiBudW1iZXIge1xuICAgICAgICBsZXQgcmVzdWx0WCA9IHZlYzAuZ2V0WCgpICogdmVjMS5nZXRYKCk7XG4gICAgICAgIGxldCByZXN1bHRZID0gdmVjMC5nZXRZKCkgKiB2ZWMxLmdldFkoKTtcbiAgICAgICAgbGV0IHJlc3VsdFogPSB2ZWMwLmdldFooKSAqIHZlYzEuZ2V0WigpO1xuICAgICAgICByZXR1cm4gcmVzdWx0WCArIHJlc3VsdFkgKyByZXN1bHRaO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBtdWx0aXBseVZlY3RvcnMocmVzdWx0IDogVmVjdG9yMywgdmVjIDogVmVjdG9yMywgc2NhbGFyIDogbnVtYmVyKSA6IHZvaWQge1xuICAgICAgICBsZXQgdmVjWCA9IHZlYy5nZXRYKCkgKiBzY2FsYXI7XG4gICAgICAgIGxldCB2ZWNZID0gdmVjLmdldFkoKSAqIHNjYWxhcjtcbiAgICAgICAgbGV0IHZlY1ogPSB2ZWMuZ2V0WigpICogc2NhbGFyO1xuICAgICAgICByZXN1bHQuc2V0WCh2ZWNYKTtcbiAgICAgICAgcmVzdWx0LnNldFkodmVjWSk7XG4gICAgICAgIHJlc3VsdC5zZXRaKHZlY1opO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUocmVzdWx0IDogVmVjdG9yMywgdmVjIDogVmVjdG9yMykgOiB2b2lkIHtcbiAgICAgICAgbGV0IHhTcXVhcmVkID0gdmVjLmdldFgoKSAqIHZlYy5nZXRYKCk7XG4gICAgICAgIGxldCB5U3F1YXJlZCA9IHZlYy5nZXRZKCkgKiB2ZWMuZ2V0WSgpO1xuICAgICAgICBsZXQgelNxdWFyZWQgPSB2ZWMuZ2V0WigpICogdmVjLmdldFooKTtcbiAgICAgICAgbGV0IGRpc3RhbmNlID0gTWF0aC5zcXJ0KHhTcXVhcmVkICsgeVNxdWFyZWQgKyB6U3F1YXJlZCk7XG4gICAgICAgIHJlc3VsdC5zZXRYKHZlYy5nZXRYKCkgLyBkaXN0YW5jZSk7XG4gICAgICAgIHJlc3VsdC5zZXRZKHZlYy5nZXRZKCkgLyBkaXN0YW5jZSk7XG4gICAgICAgIHJlc3VsdC5zZXRaKHZlYy5nZXRaKCkgLyBkaXN0YW5jZSk7XG4gICAgfVxuXG4gICAgZXhwb3J0IGZ1bmN0aW9uIHN1YnRyYWN0VmVjdG9ycyhyZXN1bHQgOiBWZWN0b3IzLCB2ZWMwIDogVmVjdG9yMywgdmVjMSA6IFZlY3RvcjMpIDogdm9pZCB7XG4gICAgICAgIGxldCByZXN1bHRYID0gdmVjMC5nZXRYKCkgLSB2ZWMxLmdldFgoKTtcbiAgICAgICAgbGV0IHJlc3VsdFkgPSB2ZWMwLmdldFkoKSAtIHZlYzEuZ2V0WSgpO1xuICAgICAgICBsZXQgcmVzdWx0WiA9IHZlYzAuZ2V0WigpIC0gdmVjMS5nZXRaKCk7XG4gICAgICAgIHJlc3VsdC5zZXRYKHJlc3VsdFgpO1xuICAgICAgICByZXN1bHQuc2V0WShyZXN1bHRZKTtcbiAgICAgICAgcmVzdWx0LnNldFoocmVzdWx0Wik7XG4gICAgfVxufSIsIi8qXG4gKiBBIE1hdHJpeCBpcyB1c2VkIGZvciB0cmFuc2Zvcm1pbmcgcG9pbnRzIGZyb20gbG9jYWxcbiAqIGNvb3JkaW5hdGVzIHRvIHdvcmxkIGNvb3JkaW5hdGVzLlxuICovXG5leHBvcnQgY2xhc3MgTWF0cml4IHtcbiAgICBwcml2YXRlIG1hdCA6IEZsb2F0MzJBcnJheTtcbiAgICBwcml2YXRlIHJvd3MgOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBjb2x1bW5zIDogbnVtYmVyO1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKHJvd3MgOiBudW1iZXIsIGNvbHVtbnMgOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5yb3dzID0gcm93cztcbiAgICAgICAgdGhpcy5jb2x1bW5zID0gY29sdW1ucztcbiAgICAgICAgdGhpcy5tYXQgPSBuZXcgRmxvYXQzMkFycmF5KHJvd3MgKiBjb2x1bW5zKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAocm93cyAqIGNvbHVtbnMpOyBpKyspXG4gICAgICAgICAgICB0aGlzLm1hdFtpXSA9IDAuMDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RGF0YSgpIDogRmxvYXQzMkFycmF5IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWF0O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRSb3dzKCkgOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5yb3dzO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRDb2x1bW5zKCkgOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2x1bW5zO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRJbmRleCAocm93cyA6IG51bWJlciwgY29sdW1ucyA6IG51bWJlcikgOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gKHRoaXMucm93cyAqIGNvbHVtbnMpICsgcm93cztcbiAgICB9XG4gICAgXG4gICAgcHVibGljIGdldCAocm93IDogbnVtYmVyLCBjb2x1bW4gOiBudW1iZXIpIDogbnVtYmVyIHtcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5nZXRJbmRleChyb3csIGNvbHVtbik7XG4gICAgICAgIGxldCB2YWx1ZVRvUmV0dXJuID0gdGhpcy5tYXRbaW5kZXhdO1xuICAgICAgICByZXR1cm4gdmFsdWVUb1JldHVybjtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0ICh2YWx1ZSA6IG51bWJlciwgcm93IDogbnVtYmVyLCBjb2x1bW4gOiBudW1iZXIpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gdGhpcy5nZXRJbmRleChyb3csIGNvbHVtbik7XG4gICAgICAgIHRoaXMubWF0W2luZGV4XSA9IHZhbHVlO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgcHJpbnQgKCkgOiB2b2lkIHtcbiAgICAgICAgbGV0IG1heFdpZHRoID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgNDsgaisrKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRlc3ROdW0gPSB0aGlzLmdldChqLCBpKSArIFwiXCI7XG4gICAgICAgICAgICAgICAgaWYgKHRlc3ROdW0ubGVuZ3RoID4gbWF4V2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGggPSB0ZXN0TnVtLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRleHQgPSBcIlsgXCI7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yb3dzOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpID4gMClcbiAgICAgICAgICAgICAgICB0ZXh0ICs9IFwiICBcIjtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5jb2x1bW5zOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgbnVtVGV4dCA9IHRoaXMuZ2V0KGksIGopICsgXCJcIjtcbiAgICAgICAgICAgICAgICB3aGlsZSAobnVtVGV4dC5sZW5ndGggPCBtYXhXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICBudW1UZXh0ID0gXCIgXCIgKyBudW1UZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0ZXh0ICs9IG51bVRleHQ7XG4gICAgICAgICAgICAgICAgaWYgKGogPCAodGhpcy5jb2x1bW5zIC0gMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dCArPSBcIixcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGV4dCArPSBcIiBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpIDwgKHRoaXMucm93cyAtIDEpKSB7XG4gICAgICAgICAgICAgICAgdGV4dCArPSBcIlxcblwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGV4dCArPSBcIl1cIjtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRleHQpO1xuICAgICAgICB9XG4gICAgfVxufSIsIi8qKlxuICogVmVjdG9yM1xuICogXG4gKiBUaGUgVmVjdG9yMyBjbGFzcyBjYW4gYmUgdXNlZCBmb3IgYW55IDJkIG9yIDNkIHBvaW50LCB2ZWN0b3IsIFxuICogb3Igcm90YXRpb24gKGkuZS4gYW5nbGVzIG9mIG9yaWVudGF0aW9uKS5cbiAqL1xuZXhwb3J0IGNsYXNzIFZlY3RvcjMge1xuICAgIHByaXZhdGUgdmVjIDogRmxvYXQzMkFycmF5O1xuICAgIHByaXZhdGUgc2l6ZSA6IG51bWJlcjtcblxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy52ZWMgPSBuZXcgRmxvYXQzMkFycmF5KDQpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKylcbiAgICAgICAgICAgIHRoaXMudmVjW2ldID0gMC4wO1xuICAgICAgICB0aGlzLnNpemUgPSA0O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTaXplKCkgOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5zaXplO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRBdChpbmRleCA6IG51bWJlcikgOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy52ZWNbaW5kZXhdO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRYKCkgOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy52ZWNbMF07XG4gICAgfVxuXG4gICAgcHVibGljIGdldFkoKSA6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnZlY1sxXTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0WigpIDogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmVjWzJdO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRXKCkgOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy52ZWNbM107XG4gICAgfVxuXG4gICAgcHVibGljIGdldFRoZXRhWCgpIDogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmVjWzBdO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRUaGV0YVkoKSA6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnZlY1sxXTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0VGhldGFaKCkgOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy52ZWNbMl07XG4gICAgfVxuXG4gICAgcHVibGljIHNldChpbml0MCA6IG51bWJlciwgaW5pdDEgOiBudW1iZXIsIGluaXQyIDogbnVtYmVyLCBpbml0MyA6IG51bWJlcikgOiB2b2lkIHtcbiAgICAgICAgdGhpcy52ZWNbMF0gPSBpbml0MDtcbiAgICAgICAgdGhpcy52ZWNbMV0gPSBpbml0MTtcbiAgICAgICAgdGhpcy52ZWNbMl0gPSBpbml0MjtcbiAgICAgICAgdGhpcy52ZWNbM10gPSBpbml0MztcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0QXQoaW5kZXggOiBudW1iZXIsIHZhbHVlIDogbnVtYmVyKSA6IHZvaWQge1xuICAgICAgICB0aGlzLnZlY1tpbmRleF0gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0WChpbml0WCA6IG51bWJlcikgOiB2b2lkIHtcbiAgICAgICAgdGhpcy52ZWNbMF0gPSBpbml0WDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0WShpbml0WSA6IG51bWJlcikgOiB2b2lkIHtcbiAgICAgICAgdGhpcy52ZWNbMV0gPSBpbml0WTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0Wihpbml0WiA6IG51bWJlcikgOiB2b2lkIHtcbiAgICAgICAgdGhpcy52ZWNbMl0gPSBpbml0WjtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0Vyhpbml0VyA6IG51bWJlcikgOiB2b2lkIHtcbiAgICAgICAgdGhpcy52ZWNbM10gPSBpbml0VztcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0VGhldGFYKGluaXRUaGV0YVggOiBudW1iZXIpIDogdm9pZCB7XG4gICAgICAgIHRoaXMuc2V0WChpbml0VGhldGFYKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0VGhldGFZKGluaXRUaGV0YVkgOiBudW1iZXIpIDogdm9pZCB7XG4gICAgICAgIHRoaXMuc2V0WShpbml0VGhldGFZKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0VGhldGFaKGluaXRUaGV0YVogOiBudW1iZXIpIDogdm9pZCB7XG4gICAgICAgIHRoaXMuc2V0Wihpbml0VGhldGFaKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcHJpbnQoKSA6IHZvaWQge1xuICAgICAgICBsZXQgdGV4dCA9IFwiW1wiO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc2l6ZTsgaSsrKSB7XG4gICAgICAgICAgICB0ZXh0ICs9IHRoaXMudmVjW2ldO1xuICAgICAgICAgICAgaWYgKGkgPCAodGhpcy5zaXplIC0gMSkpIHtcbiAgICAgICAgICAgICAgICB0ZXh0ICs9IFwiLCBcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0ZXh0ICs9IFwiXVwiO1xuICAgICAgICBjb25zb2xlLmxvZyh0ZXh0KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RGF0YSgpIDogRmxvYXQzMkxpc3Qge1xuICAgICAgICByZXR1cm4gdGhpcy52ZWM7XG4gICAgfVxuXG59IiwiLypcbiAqIFRoaXMgY2xhc3MgcmVuZGVycyB0ZXh0IHRvIGEgY2FudmFzLCB1cGRhdGVkIGVhY2ggZnJhbWUuXG4gKi9cbmltcG9ydCB7SGFzaFRhYmxlfSBmcm9tICcuLi9kYXRhL0hhc2hUYWJsZSdcblxuZXhwb3J0IGNsYXNzIFRleHRUb1JlbmRlciB7XG4gICAgcHVibGljIGlkIDogc3RyaW5nO1xuICAgIHB1YmxpYyB0ZXh0IDogc3RyaW5nO1xuICAgIHB1YmxpYyB4IDogbnVtYmVyO1xuICAgIHB1YmxpYyB5IDogbnVtYmVyO1xuICAgIHB1YmxpYyB1cGRhdGUgOiBGdW5jdGlvbjtcbiAgICBwdWJsaWMgZm9udEZhbWlseSA6IHN0cmluZztcbiAgICBwdWJsaWMgZm9udFNpemUgOiBudW1iZXI7XG4gICAgcHVibGljIGZvbnRDb2xvciA6IHN0cmluZztcbiAgICBwdWJsaWMgcHJvcGVydGllcyA6IEhhc2hUYWJsZTxvYmplY3Q+O1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGluaXRJZCA6IHN0cmluZywgaW5pdFRleHQgOiBzdHJpbmcsIGluaXRYIDogbnVtYmVyLCBpbml0WSA6IG51bWJlciwgaW5pdFVwZGF0ZSA6IEZ1bmN0aW9uKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpbml0SWQ7XG4gICAgICAgIHRoaXMudGV4dCA9IGluaXRUZXh0O1xuICAgICAgICB0aGlzLnggPSBpbml0WDtcbiAgICAgICAgdGhpcy55ID0gaW5pdFk7XG4gICAgICAgIHRoaXMudXBkYXRlID0gaW5pdFVwZGF0ZTtcbiAgICAgICAgdGhpcy5mb250RmFtaWx5ID0gXCJcIjtcbiAgICAgICAgdGhpcy5mb250U2l6ZSA9IDA7XG4gICAgICAgIHRoaXMuZm9udENvbG9yID0gXCJcIjtcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzID0ge307XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVGV4dFJlbmRlcmVyIHtcbiAgICBwcml2YXRlIHRleHRUb1JlbmRlciA6IEFycmF5PFRleHRUb1JlbmRlcj47XG4gICAgcHJpdmF0ZSB0ZXh0Q2FudmFzIDogSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgcHJpdmF0ZSB0ZXh0Q2FudmFzV2lkdGggOiBudW1iZXI7XG4gICAgcHJpdmF0ZSB0ZXh0Q2FudmFzSGVpZ2h0IDogbnVtYmVyO1xuICAgIHByaXZhdGUgdGV4dEN0eCA6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcbiAgICBwcml2YXRlIGRlZmF1bHRGb250RmFtaWx5IDogc3RyaW5nO1xuICAgIHByaXZhdGUgZGVmYXVsdEZvbnRTaXplIDogbnVtYmVyO1xuICAgIHByaXZhdGUgZGVmYXVsdEZvbnRDb2xvciA6IHN0cmluZztcblxuICAgIHB1YmxpYyBjb25zdHJ1Y3Rvcih0ZXh0Q2FudmFzSWQgOiBzdHJpbmcsIGluaXRGb250RmFtaWx5IDogc3RyaW5nLCBpbml0Rm9udFNpemUgOiBudW1iZXIsIGluaXRGb250Q29sb3IgOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy50ZXh0VG9SZW5kZXIgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdGhpcy50ZXh0Q2FudmFzID0gPEhUTUxDYW52YXNFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRleHRDYW52YXNJZCk7XG4gICAgICAgIHRoaXMudGV4dENhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICB0aGlzLnRleHRDYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgICB0aGlzLnRleHRDYW52YXNXaWR0aCA9IHRoaXMudGV4dENhbnZhcy53aWR0aDtcbiAgICAgICAgdGhpcy50ZXh0Q2FudmFzSGVpZ2h0ID0gdGhpcy50ZXh0Q2FudmFzLmhlaWdodDtcbiAgICAgICAgdGhpcy50ZXh0Q3R4ID0gdGhpcy50ZXh0Q2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgdGhpcy5kZWZhdWx0Rm9udEZhbWlseSA9IGluaXRGb250RmFtaWx5O1xuICAgICAgICB0aGlzLmRlZmF1bHRGb250U2l6ZSA9IGluaXRGb250U2l6ZTtcbiAgICAgICAgdGhpcy5kZWZhdWx0Rm9udENvbG9yID0gaW5pdEZvbnRDb2xvcjtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIGFkZFRleHRUb1JlbmRlcih0ZXh0VG9BZGQgOiBUZXh0VG9SZW5kZXIpIDogdm9pZCB7XG4gICAgICAgIHRleHRUb0FkZC5mb250RmFtaWx5ID0gdGhpcy5kZWZhdWx0Rm9udEZhbWlseTtcbiAgICAgICAgdGV4dFRvQWRkLmZvbnRTaXplID0gdGhpcy5kZWZhdWx0Rm9udFNpemU7XG4gICAgICAgIHRleHRUb0FkZC5mb250Q29sb3IgPSB0aGlzLmRlZmF1bHRGb250Q29sb3I7XG4gICAgICAgIHRoaXMudGV4dFRvUmVuZGVyLnB1c2godGV4dFRvQWRkKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY2xlYXIoKSA6IHZvaWQge1xuICAgICAgICB0aGlzLnRleHRUb1JlbmRlciA9IFtdO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRDYW52YXNXaWR0aCgpIDogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dENhbnZhc1dpZHRoO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRDYW52YXNIZWlnaHQoKSA6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHRDYW52YXNIZWlnaHQ7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcigpIDogdm9pZCB7XG4gICAgICAgIHRoaXMudGV4dEN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy50ZXh0Q2FudmFzLndpZHRoLCB0aGlzLnRleHRDYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnRleHRUb1JlbmRlci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHRleHRUb1JlbmRlciA9IHRoaXMudGV4dFRvUmVuZGVyW2ldO1xuICAgICAgICAgICAgdGV4dFRvUmVuZGVyLnVwZGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy50ZXh0Q3R4LmZvbnQgPSBcIlwiICsgdGV4dFRvUmVuZGVyLmZvbnRTaXplICsgXCJweCBcIiArIHRleHRUb1JlbmRlci5mb250RmFtaWx5O1xuICAgICAgICAgICAgdGhpcy50ZXh0Q3R4LmZpbGxTdHlsZSA9IHRleHRUb1JlbmRlci5mb250Q29sb3I7XG4gICAgICAgICAgICB0aGlzLnRleHRDdHguZmlsbFRleHQodGV4dFRvUmVuZGVyLnRleHQsIHRleHRUb1JlbmRlci54LCB0ZXh0VG9SZW5kZXIueSk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHtXZWJHTEdhbWVTaGFkZXJ9IGZyb20gJy4vV2ViR0xHYW1lU2hhZGVyJ1xuaW1wb3J0IHtNYXRoVXRpbGl0aWVzfSBmcm9tICcuLi9tYXRoL01hdGhVdGlsaXRpZXMnXG5pbXBvcnQgeyBNYXRyaXggfSBmcm9tICcuLi9tYXRoL01hdHJpeCdcbmltcG9ydCB7IFZlY3RvcjMgfSBmcm9tICcuLi9tYXRoL1ZlY3RvcjMnXG5pbXBvcnQge0FuaW1hdGVkU3ByaXRlfSBmcm9tICcuLi9zY2VuZS9zcHJpdGUvQW5pbWF0ZWRTcHJpdGUnXG5pbXBvcnQge0FuaW1hdGVkU3ByaXRlVHlwZX0gZnJvbSAnLi4vc2NlbmUvc3ByaXRlL0FuaW1hdGVkU3ByaXRlVHlwZSdcbmltcG9ydCB7V2ViR0xHYW1lVGV4dHVyZX0gZnJvbSAnLi9XZWJHTEdhbWVUZXh0dXJlJ1xuaW1wb3J0IHtIYXNoVGFibGV9IGZyb20gJy4uL2RhdGEvSGFzaFRhYmxlJ1xuaW1wb3J0IHsgR3JhZGllbnRDaXJjbGVTcHJpdGUgfSBmcm9tICcuLi9zY2VuZS9zcHJpdGUvR3JhZGllbnRDaXJjbGVTcHJpdGUnXG5pbXBvcnQgeyBHcmFkaWVudENpcmNsZVNwcml0ZVR5cGUgfSBmcm9tICcuLi9zY2VuZS9zcHJpdGUvR3JhZGllbnRDaXJjbGVTcHJpdGVUeXBlJ1xuXG52YXIgU3ByaXRlRGVmYXVsdHMgPSB7XG4gICAgQV9QT1NJVElPTjogXCJhX1Bvc2l0aW9uXCIsXG4gICAgQV9WQUxVRVRPSU5URVJQT0xBVEU6IFwiYV9WYWx1ZVRvSW50ZXJwb2xhdGVcIixcbiAgICBVX1NQUklURV9UUkFOU0ZPUk06IFwidV9TcHJpdGVUcmFuc2Zvcm1cIixcbiAgICBVX0NPTE9SOiBcInVfQ29sb3JcIixcbiAgICBOVU1fVkVSVElDRVM6IDQsXG4gICAgRkxPQVRTX1BFUl9WRVJURVg6IDIsXG4gICAgRkxPQVRTX1BFUl9URVhUVVJFX0NPT1JESU5BVEU6IDIsXG4gICAgVE9UQUxfQllURVM6IDE2LFxuICAgIFZFUlRFWF9QT1NJVElPTl9PRkZTRVQ6IDAsXG4gICAgVEVYVFVSRV9DT09SRElOQVRFX09GRlNFVDogOCxcbiAgICBJTkRFWF9PRl9GSVJTVF9WRVJURVg6IDBcbn07XG5cbmV4cG9ydCBjbGFzcyBXZWJHTEdhbWVHcmFkaWVudENpcmNsZVJlbmRlcmVyIHtcbiAgICBwcml2YXRlIHNoYWRlciA6IFdlYkdMR2FtZVNoYWRlcjtcbiAgICBwcml2YXRlIHZlcnRleFRleENvb3JkQnVmZmVyIDogV2ViR0xCdWZmZXI7XG5cbiAgICAvLyBXRSdMTCBVU0UgVEhFU0UgRk9SIFRSQU5TT0ZNUklORyBPQkpFQ1RTIFdIRU4gV0UgRFJBVyBUSEVNXG4gICAgcHJpdmF0ZSBzcHJpdGVUcmFuc2Zvcm0gOiBNYXRyaXg7XG4gICAgcHJpdmF0ZSBzcHJpdGVUcmFuc2xhdGUgOiBWZWN0b3IzO1xuICAgIHByaXZhdGUgc3ByaXRlUm90YXRlIDogVmVjdG9yMztcbiAgICBwcml2YXRlIHNwcml0ZVNjYWxlIDogVmVjdG9yMzsgICAgXG5cbiAgICBwcml2YXRlIHdlYkdMQXR0cmlidXRlTG9jYXRpb25zIDogSGFzaFRhYmxlPEdMdWludD47XG4gICAgcHJpdmF0ZSB3ZWJHTFVuaWZvcm1Mb2NhdGlvbnMgOiBIYXNoVGFibGU8V2ViR0xVbmlmb3JtTG9jYXRpb24+O1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge31cbiAgICBcbiAgICBwdWJsaWMgaW5pdCh3ZWJHTCA6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCkgOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zaGFkZXIgPSBuZXcgV2ViR0xHYW1lU2hhZGVyKCk7XG4gICAgICAgIHZhciB2ZXJ0ZXhTaGFkZXJTb3VyY2UgPVxuICAgICAgICAgICAgJ2F0dHJpYnV0ZSB2ZWM0ICcgKyBTcHJpdGVEZWZhdWx0cy5BX1BPU0lUSU9OICsgJztcXG4nICtcbiAgICAgICAgICAgICdhdHRyaWJ1dGUgdmVjMiAnICsgU3ByaXRlRGVmYXVsdHMuQV9WQUxVRVRPSU5URVJQT0xBVEUgKyAnO1xcbicgK1xuICAgICAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2YWw7XFxuJyArXG4gICAgICAgICAgICAndW5pZm9ybSBtYXQ0ICcrIFNwcml0ZURlZmF1bHRzLlVfU1BSSVRFX1RSQU5TRk9STSsnO1xcbicgK1xuICAgICAgICAgICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgICAgICcgIHZhbCA9IGFfVmFsdWVUb0ludGVycG9sYXRlO1xcbicgK1xuICAgICAgICAgICAgJyAgZ2xfUG9zaXRpb24gPSAnICsgU3ByaXRlRGVmYXVsdHMuVV9TUFJJVEVfVFJBTlNGT1JNICsgJyAqICcgKyBTcHJpdGVEZWZhdWx0cy5BX1BPU0lUSU9OICsgJztcXG4nICtcbiAgICAgICAgICAgICd9XFxuJztcbiAgICAgICAgdmFyIGZyYWdtZW50U2hhZGVyU291cmNlID1cbiAgICAgICAgICAgICcjaWZkZWYgR0xfRVNcXG4nICtcbiAgICAgICAgICAgICdwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4nICtcbiAgICAgICAgICAgICcjZW5kaWZcXG4nICtcbiAgICAgICAgICAgICd2YXJ5aW5nIHZlYzIgdmFsO1xcbicgK1xuICAgICAgICAgICAgJ3VuaWZvcm0gdmVjNCB1X0NvbG9yO1xcbicgK1xuICAgICAgICAgICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgICAgICcgIGZsb2F0IFIgPSAwLjU7XFxuJyArXG4gICAgICAgICAgICAnICBmbG9hdCBkaXN0ID0gc3FydChkb3QodmFsLCB2YWwpKTtcXG4nICtcbiAgICAgICAgICAgICcgIGZsb2F0IGFscGhhID0gMS4wO1xcbicgK1xuICAgICAgICAgICAgJyAgaWYoZGlzdCA+IFIpe1xcbicgK1xuICAgICAgICAgICAgJyAgICAgIGRpc2NhcmQ7XFxuJyArXG4gICAgICAgICAgICAnICB9XFxuJyArXG4gICAgICAgICAgICAnICBnbF9GcmFnQ29sb3IgPSB2ZWM0KHVfQ29sb3IueCAqIGRpc3QsIHVfQ29sb3IueSAqIGRpc3QsIHVfQ29sb3IueiAqIGRpc3QsIDEuMCk7XFxuJyArXG4gICAgICAgICAgICAnfVxcbic7XG5cbiAgICAgICAgdGhpcy5zaGFkZXIuaW5pdCh3ZWJHTCwgdmVydGV4U2hhZGVyU291cmNlLCBmcmFnbWVudFNoYWRlclNvdXJjZSk7XG5cbiAgICAgICAgLy8gR0VUIFRIRSB3ZWJHTCBPQkpFQ1QgVE8gVVNFXG4gICAgICAgIHZhciB2ZXJ0aWNlc1RleENvb3JkcyA9IG5ldyBGbG9hdDMyQXJyYXkoW1xuICAgICAgICAgICAgLTAuNSwgIDAuNSwgMC4wLCAwLjAsXG4gICAgICAgICAgICAtMC41LCAtMC41LCAwLjAsIDEuMCxcbiAgICAgICAgICAgICAwLjUsICAwLjUsIDEuMCwgMC4wLFxuICAgICAgICAgICAgIDAuNSwgLTAuNSwgMS4wLCAxLjBcbiAgICAgICAgXSk7XG5cbiAgICAgICAgLy8gQ1JFQVRFIFRIRSBCVUZGRVIgT04gVEhFIEdQVVxuICAgICAgICB0aGlzLnZlcnRleFRleENvb3JkQnVmZmVyID0gd2ViR0wuY3JlYXRlQnVmZmVyKCk7XG5cbiAgICAgICAgLy8gQklORCBUSEUgQlVGRkVSIFRPIEJFIFZFUlRFWCBEQVRBXG4gICAgICAgIHdlYkdMLmJpbmRCdWZmZXIod2ViR0wuQVJSQVlfQlVGRkVSLCB0aGlzLnZlcnRleFRleENvb3JkQnVmZmVyKTtcblxuICAgICAgICAvLyBBTkQgU0VORCBUSEUgREFUQSBUTyBUSEUgQlVGRkVSIFdFIENSRUFURUQgT04gVEhFIEdQVVxuICAgICAgICB3ZWJHTC5idWZmZXJEYXRhKHdlYkdMLkFSUkFZX0JVRkZFUiwgdmVydGljZXNUZXhDb29yZHMsIHdlYkdMLlNUQVRJQ19EUkFXKTtcblxuICAgICAgICAvLyBTRVRVUCBUSEUgU0hBREVSIEFUVFJJQlVURVMgQU5EIFVOSUZPUk1TXG4gICAgICAgIHRoaXMud2ViR0xBdHRyaWJ1dGVMb2NhdGlvbnMgPSB7fTtcbiAgICAgICAgdGhpcy53ZWJHTFVuaWZvcm1Mb2NhdGlvbnMgPSB7fTtcbiAgICAgICAgdGhpcy5sb2FkQXR0cmlidXRlTG9jYXRpb25zKHdlYkdMLCBbU3ByaXRlRGVmYXVsdHMuQV9QT1NJVElPTiwgU3ByaXRlRGVmYXVsdHMuQV9WQUxVRVRPSU5URVJQT0xBVEVdKTtcbiAgICAgICAgdGhpcy5sb2FkVW5pZm9ybUxvY2F0aW9ucyh3ZWJHTCwgW1Nwcml0ZURlZmF1bHRzLlVfU1BSSVRFX1RSQU5TRk9STSwgU3ByaXRlRGVmYXVsdHMuVV9DT0xPUl0pO1xuXG4gICAgICAgIC8vIFdFJ0xMIFVTRSBUSEVTRSBGT1IgVFJBTlNPRk1SSU5HIE9CSkVDVFMgV0hFTiBXRSBEUkFXIFRIRU1cbiAgICAgICAgdGhpcy5zcHJpdGVUcmFuc2Zvcm0gPSBuZXcgTWF0cml4KDQsIDQpO1xuICAgICAgICB0aGlzLnNwcml0ZVRyYW5zbGF0ZSA9IG5ldyBWZWN0b3IzKCk7XG4gICAgICAgIHRoaXMuc3ByaXRlUm90YXRlID0gbmV3IFZlY3RvcjMoKTtcbiAgICAgICAgdGhpcy5zcHJpdGVTY2FsZSA9IG5ldyBWZWN0b3IzKCk7XG5cbiAgICB9XG5cbiAgICBwdWJsaWMgcmVuZGVyR3JhZGllbnRDaXJjbGVTcHJpdGVzKCAgd2ViR0wgOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhc1dpZHRoIDogbnVtYmVyLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXNIZWlnaHQgOiBudW1iZXIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGVTZXQgOiBBcnJheTxHcmFkaWVudENpcmNsZVNwcml0ZT4pIDogdm9pZCB7XG4gICAgICAgIC8vIFNFTEVDVCBUSEUgQU5JTUFURUQgU1BSSVRFIFJFTkRFUklORyBTSEFERVIgUFJPR1JBTSBGT1IgVVNFXG4gICAgICAgIGxldCBzaGFkZXJQcm9ncmFtVG9Vc2UgPSB0aGlzLnNoYWRlci5nZXRQcm9ncmFtKCk7XG4gICAgICAgIHdlYkdMLnVzZVByb2dyYW0oc2hhZGVyUHJvZ3JhbVRvVXNlKTtcblxuICAgICAgIC8vIEFORCBUSEVOIFJFTkRFUiBFQUNIIE9ORVxuICAgICAgIGZvciAobGV0IHNwcml0ZSBvZiB2aXNpYmxlU2V0KSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlckdyYWRpZW50Q2lyY2xlKHdlYkdMLCBjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0LCBzcHJpdGUpOyAgICAgICAgXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGxvYWRBdHRyaWJ1dGVMb2NhdGlvbnMod2ViR0wgOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIGF0dHJpYnV0ZUxvY2F0aW9uTmFtZXMgOiBBcnJheTxzdHJpbmc+KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXR0cmlidXRlTG9jYXRpb25OYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGxvY2F0aW9uTmFtZSA6IHN0cmluZyA9IGF0dHJpYnV0ZUxvY2F0aW9uTmFtZXNbaV07XG4gICAgICAgICAgICBsZXQgbG9jYXRpb24gOiBHTHVpbnQgPSB3ZWJHTC5nZXRBdHRyaWJMb2NhdGlvbih0aGlzLnNoYWRlci5nZXRQcm9ncmFtKCksIGxvY2F0aW9uTmFtZSk7XG4gICAgICAgICAgICB0aGlzLndlYkdMQXR0cmlidXRlTG9jYXRpb25zW2xvY2F0aW9uTmFtZV0gPSBsb2NhdGlvbjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgbG9hZFVuaWZvcm1Mb2NhdGlvbnMod2ViR0wgOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHVuaWZvcm1Mb2NhdGlvbk5hbWVzIDogQXJyYXk8c3RyaW5nPikge1xuICAgICAgICBmb3IgKGxldCBpIDogbnVtYmVyID0gMDsgaSA8IHVuaWZvcm1Mb2NhdGlvbk5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbG9jYXRpb25OYW1lIDogc3RyaW5nID0gdW5pZm9ybUxvY2F0aW9uTmFtZXNbaV07XG4gICAgICAgICAgICBsZXQgbG9jYXRpb24gOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbiA9IHdlYkdMLmdldFVuaWZvcm1Mb2NhdGlvbih0aGlzLnNoYWRlci5nZXRQcm9ncmFtKCksIGxvY2F0aW9uTmFtZSk7XG4gICAgICAgICAgICB0aGlzLndlYkdMVW5pZm9ybUxvY2F0aW9uc1tsb2NhdGlvbk5hbWVdID0gbG9jYXRpb247XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbmRlckdyYWRpZW50Q2lyY2xlKCAgIHdlYkdMIDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXNXaWR0aCA6IG51bWJlciwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzSGVpZ2h0IDogbnVtYmVyLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcHJpdGUgOiBHcmFkaWVudENpcmNsZVNwcml0ZSkge1xuICAgICAgICBsZXQgc3ByaXRlVHlwZSA6IEdyYWRpZW50Q2lyY2xlU3ByaXRlVHlwZSA9IHNwcml0ZS5nZXRTcHJpdGVUeXBlKCk7XG5cbiAgICAgICAgLy8gQ0FMQ1VMQVRFIEhPVyBNVUNIIFRPIFRSQU5TTEFURSBUSEUgUVVBRCBQRVIgVEhFIFNQUklURSBQT1NJVElPTlxuICAgICAgICBsZXQgc3ByaXRlV2lkdGggOiBudW1iZXIgPSBzcHJpdGVUeXBlLmdldFNwcml0ZVdpZHRoKCk7XG4gICAgICAgIGxldCBzcHJpdGVIZWlnaHQgOiBudW1iZXIgPSBzcHJpdGVUeXBlLmdldFNwcml0ZUhlaWdodCgpO1xuICAgICAgICBsZXQgc3ByaXRlWEluUGl4ZWxzIDogbnVtYmVyID0gc3ByaXRlLmdldFBvc2l0aW9uKCkuZ2V0WCgpICsgKHNwcml0ZVdpZHRoLzIpO1xuICAgICAgICBsZXQgc3ByaXRlWUluUGl4ZWxzIDogbnVtYmVyID0gc3ByaXRlLmdldFBvc2l0aW9uKCkuZ2V0WSgpICsgKHNwcml0ZUhlaWdodC8yKTtcbiAgICAgICAgbGV0IHNwcml0ZVhUcmFuc2xhdGUgOiBudW1iZXIgPSAoc3ByaXRlWEluUGl4ZWxzIC0gKGNhbnZhc1dpZHRoLzIpKS8oY2FudmFzV2lkdGgvMik7XG4gICAgICAgIGxldCBzcHJpdGVZVHJhbnNsYXRlIDogbnVtYmVyID0gKHNwcml0ZVlJblBpeGVscyAtIChjYW52YXNIZWlnaHQvMikpLyhjYW52YXNIZWlnaHQvMik7XG4gICAgICAgIHRoaXMuc3ByaXRlVHJhbnNsYXRlLnNldFgoc3ByaXRlWFRyYW5zbGF0ZSk7XG4gICAgICAgIHRoaXMuc3ByaXRlVHJhbnNsYXRlLnNldFkoLXNwcml0ZVlUcmFuc2xhdGUpO1xuXG4gICAgICAgIGxldCBzcHJpdGVDb2xvciA6IFZlY3RvcjMgPSBzcHJpdGUuZ2V0U3ByaXRlQ29sb3IoKTtcblxuICAgICAgICAvLyBDQUxDVUxBVEUgSE9XIE1VQ0ggVE8gU0NBTEUgVEhFIFFVQUQgUEVSIFRIRSBTUFJJVEUgU0laRVxuICAgICAgICBsZXQgZGVmYXVsdFdpZHRoIDogbnVtYmVyID0gY2FudmFzV2lkdGgvMjtcbiAgICAgICAgbGV0IGRlZmF1bHRIZWlnaHQgOiBudW1iZXIgPSBjYW52YXNIZWlnaHQvMjtcbiAgICAgICAgbGV0IHNjYWxlWCA6IG51bWJlciA9IHNwcml0ZVdpZHRoL2RlZmF1bHRXaWR0aDtcbiAgICAgICAgbGV0IHNjYWxlWSA6IG51bWJlciA9IHNwcml0ZUhlaWdodC9kZWZhdWx0SGVpZ2h0O1xuICAgICAgICB0aGlzLnNwcml0ZVNjYWxlLnNldFgoc2NhbGVYKTtcbiAgICAgICAgdGhpcy5zcHJpdGVTY2FsZS5zZXRZKHNjYWxlWSk7XG5cbiAgICAgICAgLy8gQHRvZG8gLSBDT01CSU5FIFRISVMgV0lUSCBUSEUgUk9UQVRFIEFORCBTQ0FMRSBWQUxVRVMgRlJPTSBUSEUgU1BSSVRFXG4gICAgICAgIE1hdGhVdGlsaXRpZXMuaWRlbnRpdHkodGhpcy5zcHJpdGVUcmFuc2Zvcm0pO1xuICAgICAgICBNYXRoVXRpbGl0aWVzLm1vZGVsKHRoaXMuc3ByaXRlVHJhbnNmb3JtLCB0aGlzLnNwcml0ZVRyYW5zbGF0ZSwgdGhpcy5zcHJpdGVSb3RhdGUsIHRoaXMuc3ByaXRlU2NhbGUpO1xuICAgICAgICBcblxuXG4gICAgICAgIC8vIEhPT0sgVVAgVEhFIEFUVFJJQlVURVNcbiAgICAgICAgbGV0IGFfUG9zaXRpb25Mb2NhdGlvbiA6IEdMdWludCA9IHRoaXMud2ViR0xBdHRyaWJ1dGVMb2NhdGlvbnNbU3ByaXRlRGVmYXVsdHMuQV9QT1NJVElPTl07XG4gICAgICAgIHdlYkdMLnZlcnRleEF0dHJpYlBvaW50ZXIoYV9Qb3NpdGlvbkxvY2F0aW9uLCBTcHJpdGVEZWZhdWx0cy5GTE9BVFNfUEVSX1RFWFRVUkVfQ09PUkRJTkFURSwgd2ViR0wuRkxPQVQsIGZhbHNlLCBTcHJpdGVEZWZhdWx0cy5UT1RBTF9CWVRFUywgU3ByaXRlRGVmYXVsdHMuVkVSVEVYX1BPU0lUSU9OX09GRlNFVCk7XG4gICAgICAgIHdlYkdMLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGFfUG9zaXRpb25Mb2NhdGlvbik7XG5cbiAgICAgICAgbGV0IGFfVmFsdWVUb0ludGVycG9sYXRlIDogR0x1aW50ID0gdGhpcy53ZWJHTEF0dHJpYnV0ZUxvY2F0aW9uc1tTcHJpdGVEZWZhdWx0cy5BX1ZBTFVFVE9JTlRFUlBPTEFURV07XG4gICAgICAgIHdlYkdMLnZlcnRleEF0dHJpYlBvaW50ZXIoYV9WYWx1ZVRvSW50ZXJwb2xhdGUsIFNwcml0ZURlZmF1bHRzLkZMT0FUU19QRVJfVEVYVFVSRV9DT09SRElOQVRFLCB3ZWJHTC5GTE9BVCwgZmFsc2UsIFNwcml0ZURlZmF1bHRzLlRPVEFMX0JZVEVTLCBTcHJpdGVEZWZhdWx0cy5WRVJURVhfUE9TSVRJT05fT0ZGU0VUKTtcbiAgICAgICAgd2ViR0wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoYV9WYWx1ZVRvSW50ZXJwb2xhdGUpO1xuXG4gICAgICAgIC8vIFVTRSBUSEUgVU5JRk9STVNcbiAgICAgICAgbGV0IHVfU3ByaXRlVHJhbnNmb3JtTG9jYXRpb24gOiBXZWJHTFVuaWZvcm1Mb2NhdGlvbiA9IHRoaXMud2ViR0xVbmlmb3JtTG9jYXRpb25zW1Nwcml0ZURlZmF1bHRzLlVfU1BSSVRFX1RSQU5TRk9STV07XG4gICAgICAgIHdlYkdMLnVuaWZvcm1NYXRyaXg0ZnYodV9TcHJpdGVUcmFuc2Zvcm1Mb2NhdGlvbiwgZmFsc2UsIHRoaXMuc3ByaXRlVHJhbnNmb3JtLmdldERhdGEoKSk7XG5cbiAgICAgICAgbGV0IHVfQ29sb3JMb2NhdGlvbiA6IFdlYkdMVW5pZm9ybUxvY2F0aW9uID0gdGhpcy53ZWJHTFVuaWZvcm1Mb2NhdGlvbnNbU3ByaXRlRGVmYXVsdHMuVV9DT0xPUl07XG4gICAgICAgIHdlYkdMLnVuaWZvcm00Zih1X0NvbG9yTG9jYXRpb24sIHNwcml0ZUNvbG9yLmdldFgoKSwgc3ByaXRlQ29sb3IuZ2V0WSgpLCBzcHJpdGVDb2xvci5nZXRaKCkgLDEpO1xuXG5cbiAgICAgICAgLy8gRFJBVyBUSEUgU1BSSVRFIEFTIEEgVFJJQU5HTEUgU1RSSVAgVVNJTkcgNCBWRVJUSUNFUywgU1RBUlRJTkcgQVQgVEhFIFNUQVJUIE9GIFRIRSBBUlJBWSAoaW5kZXggMClcbiAgICAgICAgd2ViR0wuZHJhd0FycmF5cyh3ZWJHTC5UUklBTkdMRV9TVFJJUCwgU3ByaXRlRGVmYXVsdHMuSU5ERVhfT0ZfRklSU1RfVkVSVEVYLCBTcHJpdGVEZWZhdWx0cy5OVU1fVkVSVElDRVMpO1xuICAgIH1cbn0iLCIvKlxuICogVGhpcyBzZXJ2ZXMgYXMgdGhlIHN1YnN5c3RlbSB0aGF0IG1hbmFnZXMgYWxsIGdhbWUgcmVuZGVyaW5nLlxuICovXG5pbXBvcnQge1RleHRSZW5kZXJlcn0gZnJvbSAnLi9UZXh0UmVuZGVyZXInXG5pbXBvcnQge1dlYkdMR2FtZVNwcml0ZVJlbmRlcmVyfSBmcm9tICcuL1dlYkdMR2FtZVNwcml0ZVJlbmRlcmVyJ1xuaW1wb3J0IHtXZWJHTEdhbWVHcmFkaWVudENpcmNsZVJlbmRlcmVyfSBmcm9tICcuL1dlYkdMR2FtZUdyYWRpZW50Q2lyY2xlUmVuZGVyZXInXG5pbXBvcnQge0FuaW1hdGVkU3ByaXRlfSBmcm9tICcuLi9zY2VuZS9zcHJpdGUvQW5pbWF0ZWRTcHJpdGUnXG5pbXBvcnQge1dlYkdMR2FtZVRleHR1cmUgfSBmcm9tICcuL1dlYkdMR2FtZVRleHR1cmUnO1xuaW1wb3J0IHsgR3JhZGllbnRDaXJjbGVTcHJpdGUgfSBmcm9tICcuLi9zY2VuZS9zcHJpdGUvR3JhZGllbnRDaXJjbGVTcHJpdGUnO1xuXG5leHBvcnQgY2xhc3MgV2ViR0xHYW1lUmVuZGVyaW5nU3lzdGVtIHtcbiAgICBwcml2YXRlIHJlbmRlcmluZ0NhbnZhcyA6IEhUTUxDYW52YXNFbGVtZW50O1xuICAgIHByaXZhdGUgd2ViR0wgOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQ7XG4gICAgcHJpdmF0ZSBzcHJpdGVSZW5kZXJlciA6IFdlYkdMR2FtZVNwcml0ZVJlbmRlcmVyO1xuICAgIHByaXZhdGUgY2lyY2xlUmVuZGVyZXIgOiBXZWJHTEdhbWVHcmFkaWVudENpcmNsZVJlbmRlcmVyO1xuICAgIHByaXZhdGUgdGV4dFJlbmRlcmVyIDogVGV4dFJlbmRlcmVyO1xuICAgIHByaXZhdGUgY2FudmFzV2lkdGggOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBjYW52YXNIZWlnaHQgOiBudW1iZXI7XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7fVxuXG4gICAgcHVibGljIGdldFRleHR1cmVDb25zdGFudChpZCA6IG51bWJlcikgOiBudW1iZXIge1xuICAgICAgICAvLyBXRSBPTkxZIEhBVkUgNCBIRVJFLCBXRSBTSE9VTEQgSEFWRSBBIEJFVFRFUiBXQVkgT0YgRE9JTkcgVEhJU1xuICAgICAgICBzd2l0Y2goaWQpIHtcbiAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIHRoaXMud2ViR0wuVEVYVFVSRTA7XG4gICAgICAgICAgICBjYXNlIDE6IHJldHVybiB0aGlzLndlYkdMLlRFWFRVUkUxO1xuICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gdGhpcy53ZWJHTC5URVhUVVJFMztcbiAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiB0aGlzLndlYkdMLlRFWFRVUkU0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGdldFdlYkdMKCkgOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQge1xuICAgICAgICByZXR1cm4gdGhpcy53ZWJHTDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U3ByaXRlUmVuZGVyZXIoKSA6IFdlYkdMR2FtZVNwcml0ZVJlbmRlcmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ByaXRlUmVuZGVyZXI7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEdyYWRpZW50Q2lyY2xlUmVuZGVyZXIoKSA6IFdlYkdMR2FtZUdyYWRpZW50Q2lyY2xlUmVuZGVyZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5jaXJjbGVSZW5kZXJlcjtcbiAgICB9XG5cblxuICAgIHB1YmxpYyBnZXRUZXh0UmVuZGVyZXIoKSA6IFRleHRSZW5kZXJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHRSZW5kZXJlcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgaW5pdChyZW5kZXJpbmdDYW52YXNJZCA6IHN0cmluZywgdGV4dENhbnZhc0lkIDogc3RyaW5nKSA6IHZvaWQge1xuICAgICAgICAvLyBGSVJTVCBTRVRVUCB3ZWJHTFxuICAgICAgICB0aGlzLnJlbmRlcmluZ0NhbnZhcyA9IDxIVE1MQ2FudmFzRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChyZW5kZXJpbmdDYW52YXNJZCk7XG4gICAgICAgIHRoaXMucmVuZGVyaW5nQ2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgIHRoaXMucmVuZGVyaW5nQ2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICAgdGhpcy5jYW52YXNXaWR0aCA9IHRoaXMucmVuZGVyaW5nQ2FudmFzLndpZHRoO1xuICAgICAgICB0aGlzLmNhbnZhc0hlaWdodCA9IHRoaXMucmVuZGVyaW5nQ2FudmFzLmhlaWdodDtcbiAgICAgICAgdGhpcy53ZWJHTCA9IHRoaXMucmVuZGVyaW5nQ2FudmFzLmdldENvbnRleHQoXCJ3ZWJnbFwiKTtcblxuICAgICAgICAvLyBJRiBUSEUgVVNFUidTIE1BQ0hJTkUvQlJPV1NFUiBET0VTTidUIFNVUFBPUlRcbiAgICAgICAgLy8gV2ViR0wgVEhFTiBUSEVSRSdTIE5PIFBPSU5UIE9GIEdPSU5HIE9OXG4gICAgICAgIGlmICghdGhpcy53ZWJHTCkge1xuICAgICAgICAgICAgLy8gUFJPVklERSBTT01FIEZFRURCQUNLIFRIQVQgV2ViR0wgV09OJ1QgV09SSyBCRUNBVVNFXG4gICAgICAgICAgICAvLyBUSEUgVVNFUidTJyBHUkFQSElDUyBDQVJEIElTIEZPUiBUSEUgQklSRFNcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJXZWJHTCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgZGV2aWNlXCIpO1xuXG4gICAgICAgICAgICAvLyBBTkQgRU5EIElOSVRJQUxJWkFUSU9OXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXZWJHTCBJUyBTVVBQT1JURUQsIFNPIElOSVQgRVZFUllUSElORyBUSEFUIFVTRVMgSVRcblxuICAgICAgICAvLyBNQUtFIFRIRSBDTEVBUiBDT0xPUiBCTEFDS1xuICAgICAgICB0aGlzLnNldENsZWFyQ29sb3IoMC4wLCAwLjAsIDAuMCwgMS4wKTtcblxuICAgICAgICAvLyBFTkFCTEUgREVQVEggVEVTVElOR1xuICAgICAgICB0aGlzLndlYkdMLmRpc2FibGUodGhpcy53ZWJHTC5ERVBUSF9URVNUKTtcbiAgICAgICAgdGhpcy53ZWJHTC5lbmFibGUodGhpcy53ZWJHTC5CTEVORCk7XG4gICAgICAgIHRoaXMud2ViR0wuYmxlbmRGdW5jKHRoaXMud2ViR0wuU1JDX0FMUEhBLCB0aGlzLndlYkdMLk9ORV9NSU5VU19TUkNfQUxQSEEpO1xuXG4gICAgICAgIC8vIFRVUk4gT04gQkFDS0ZBQ0UgQ1VMTElOR1xuICAgICAgICB0aGlzLndlYkdMLmVuYWJsZSh0aGlzLndlYkdMLkNVTExfRkFDRSk7XG5cbiAgICAgICAgLy8gVEhJUyBTUEVDSUZJRVMgVEhBVCBXRSdSRSBVU0lORyBUSEUgRU5USVJFIENBTlZBU1xuICAgICAgICB0aGlzLndlYkdMLnZpZXdwb3J0KDAsIDAsIHRoaXMuY2FudmFzV2lkdGgsIHRoaXMuY2FudmFzSGVpZ2h0KTtcblxuICAgICAgICAvLyBOT1cgTUFLRSBUSEUgU0hBREVSIEZPUiBEUkFXSU5HIFRISVMgVEhJTkdcbiAgICAgICAgdGhpcy5zcHJpdGVSZW5kZXJlciA9IG5ldyBXZWJHTEdhbWVTcHJpdGVSZW5kZXJlcigpO1xuICAgICAgICB0aGlzLnNwcml0ZVJlbmRlcmVyLmluaXQodGhpcy53ZWJHTCk7XG5cbiAgICAgICAgLy8gVEhJUyBXSUxMIFNUT1JFIE9VUiBURVhUXG4gICAgICAgIHRoaXMudGV4dFJlbmRlcmVyID0gbmV3IFRleHRSZW5kZXJlcih0ZXh0Q2FudmFzSWQsIFwic2VyaWZcIiwgMTgsIFwiI0ZGRkYwMFwiKTtcblxuICAgICAgICAvLyBHcmFkaWVudCBDaXJjbGUgU2hhZGVyXG4gICAgICAgIHRoaXMuY2lyY2xlUmVuZGVyZXIgPSBuZXcgV2ViR0xHYW1lR3JhZGllbnRDaXJjbGVSZW5kZXJlcigpO1xuICAgICAgICB0aGlzLmNpcmNsZVJlbmRlcmVyLmluaXQodGhpcy53ZWJHTCk7XG5cbiAgICB9XG5cbiAgICBwdWJsaWMgaW5pdFdlYkdMVGV4dHVyZSh0ZXh0dXJlVG9Jbml0IDogV2ViR0xHYW1lVGV4dHVyZSwgdGV4dHVyZUlkIDogbnVtYmVyLCBpbWFnZSA6IEhUTUxJbWFnZUVsZW1lbnQsIGNhbGxiYWNrIDogRnVuY3Rpb24pIDogdm9pZCB7XG4gICAgICAgIHRleHR1cmVUb0luaXQud2lkdGggPSBpbWFnZS53aWR0aDtcbiAgICAgICAgdGV4dHVyZVRvSW5pdC5oZWlnaHQgPSBpbWFnZS5oZWlnaHQ7XG5cbiAgICAgICAgLy8gQ1JFQVRFIEEgV2ViR0wgVEVYVFVSRSBPTiBUSEUgR1BVXG4gICAgICAgIHRleHR1cmVUb0luaXQud2ViR0xUZXh0dXJlID0gdGhpcy53ZWJHTC5jcmVhdGVUZXh0dXJlKCk7XG4gICAgICAgIHRleHR1cmVUb0luaXQud2ViR0xUZXh0dXJlSWQgPSB0ZXh0dXJlSWQ7XG5cbiAgICAgICAgLy8gRkxJUCBUSEUgSU1BR0UnUyB5LUFYSVNcbiAgICAgICAgLy93ZWJHTC5waXhlbFN0b3JlaSh3ZWJHTC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLCAxKTtcblxuICAgICAgICAvLyBBQ1RJVkFURSBUSEUgV2ViR0wgVEVYVFVSRSBPTiBUSEUgR1BVXG4gICAgICAgIC8vbGV0IHRleHR1cmVOdW1OYW1lIDogc3RyaW5nID0gXCJURVhUVVJFXCIgKyB0ZXh0dXJlSWQ7XG4gICAgICAgIGxldCB0ZXh0dXJlTmFtZUNvbnN0YW50IDogbnVtYmVyID0gdGhpcy5nZXRUZXh0dXJlQ29uc3RhbnQodGV4dHVyZUlkKTtcbiAgICAgICAgdGhpcy53ZWJHTC5hY3RpdmVUZXh0dXJlKHRleHR1cmVOYW1lQ29uc3RhbnQpO1xuXG4gICAgICAgIC8vIEJJTkQgVEhFIFRFWFRVUkUgVE8gQSAyRCBUWVBFXG4gICAgICAgIHRoaXMud2ViR0wuYmluZFRleHR1cmUodGhpcy53ZWJHTC5URVhUVVJFXzJELCB0ZXh0dXJlVG9Jbml0LndlYkdMVGV4dHVyZSk7XG5cbiAgICAgICAgLy8gU1BFQ0lGWSBSRU5ERVJJTkcgU0VUVElOR1NcbiAgICAgICAgdGhpcy53ZWJHTC50ZXhQYXJhbWV0ZXJpKHRoaXMud2ViR0wuVEVYVFVSRV8yRCwgdGhpcy53ZWJHTC5URVhUVVJFX01JTl9GSUxURVIsIHRoaXMud2ViR0wuTElORUFSKTtcblxuICAgICAgICAvLyBTRVQgVEhFIElNQUdFIEZPUiBUSEUgVEVYVFVSRVxuICAgICAgICB0aGlzLndlYkdMLnRleEltYWdlMkQodGhpcy53ZWJHTC5URVhUVVJFXzJELCAwLCB0aGlzLndlYkdMLlJHQkEsIHRoaXMud2ViR0wuUkdCQSwgdGhpcy53ZWJHTC5VTlNJR05FRF9CWVRFLCBpbWFnZSk7XG5cbiAgICAgICAgLy8gS0VFUCBJVCBGT1IgV0hFTiBXRSBSRU5ERVJcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0Q2xlYXJDb2xvcihyIDogbnVtYmVyLCBnIDogbnVtYmVyLCBiIDogbnVtYmVyLCBhIDogbnVtYmVyKSA6IHZvaWQge1xuICAgICAgICB0aGlzLndlYkdMLmNsZWFyQ29sb3IociwgZywgYiwgYSk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbmRlcih2aXNpYmxlU3ByaXRlcyA6IEFycmF5PEFuaW1hdGVkU3ByaXRlPiwgdmlzaWJsZUNpcmNsZXMgOiBBcnJheTxHcmFkaWVudENpcmNsZVNwcml0ZT4pIDogdm9pZCB7IFxuICAgICAgICAvLyBDTEVBUiBUSEUgQ0FOVkFTXG4gICAgICAgIHRoaXMud2ViR0wuY2xlYXIodGhpcy53ZWJHTC5DT0xPUl9CVUZGRVJfQklUIHwgdGhpcy53ZWJHTC5ERVBUSF9CVUZGRVJfQklUKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFJFTkRFUiBUSEUgU1BSSVRFUyBPTiBPTkUgQ0FOVkFTXG4gICAgICAgIHRoaXMuc3ByaXRlUmVuZGVyZXIucmVuZGVyQW5pbWF0ZWRTcHJpdGVzKHRoaXMud2ViR0wsIHRoaXMuY2FudmFzV2lkdGgsIHRoaXMuY2FudmFzSGVpZ2h0LCB2aXNpYmxlU3ByaXRlcyk7XG4gICAgICAgIFxuICAgICAgICAvLyBSZW5kZXIgR3JhZGllbnQgQ2lyY2xlcyBvbiBjYW52YXNcbiAgICAgICAgdGhpcy5jaXJjbGVSZW5kZXJlci5yZW5kZXJHcmFkaWVudENpcmNsZVNwcml0ZXModGhpcy53ZWJHTCwgdGhpcy5jYW52YXNXaWR0aCwgdGhpcy5jYW52YXNIZWlnaHQsIHZpc2libGVDaXJjbGVzKTtcblxuICAgICAgICAvLyBUSEVOIFRIRSBURVhUIE9OIEFOT1RIRVIgT1ZFUkxBUFBJTkcgQ0FOVkFTXG4gICAgICAgIHRoaXMudGV4dFJlbmRlcmVyLnJlbmRlcigpO1xuICAgIH1cbn0iLCIvKlxuICogVGhpcyBpcyBhIHdyYXBwZXIgY2xhc3MgZm9yIGEgV2ViR0xQcm9ncmFtLCBpLmUuIGEgc2hhZGVyIGZvciBjdXN0b20gcmVuZGVyaW5nXG4gKiB1c2luZyBXZWJHTCdzIHByb2dyYW1tYWJsZSBwaXBlbGluZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFdlYkdMR2FtZVNoYWRlciB7XG4gICAgcHJpdmF0ZSBwcm9ncmFtIDogV2ViR0xQcm9ncmFtO1xuICAgIHByaXZhdGUgdmVydGV4U2hhZGVyIDogV2ViR0xTaGFkZXI7XG4gICAgcHJpdmF0ZSBmcmFnbWVudFNoYWRlciA6IFdlYkdMU2hhZGVyO1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge31cblxuICAgIHB1YmxpYyBnZXRQcm9ncmFtKCkgOiBXZWJHTFByb2dyYW0ge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9ncmFtO1xuICAgIH1cblxuICAgIHB1YmxpYyBpbml0KHdlYkdMIDogV2ViR0xSZW5kZXJpbmdDb250ZXh0LCB2U291cmNlIDogc3RyaW5nLCBmU291cmNlIDogc3RyaW5nKSA6IHZvaWQge1xuICAgICAgICB0aGlzLnZlcnRleFNoYWRlciA9IDxXZWJHTFNoYWRlcj50aGlzLmNyZWF0ZVNoYWRlcih3ZWJHTCwgd2ViR0wuVkVSVEVYX1NIQURFUiwgdlNvdXJjZSk7XG4gICAgICAgIHRoaXMuZnJhZ21lbnRTaGFkZXIgPSA8V2ViR0xTaGFkZXI+dGhpcy5jcmVhdGVTaGFkZXIod2ViR0wsIHdlYkdMLkZSQUdNRU5UX1NIQURFUiwgZlNvdXJjZSk7XG4gICAgICAgIHRoaXMucHJvZ3JhbSA9IHRoaXMuY3JlYXRlU2hhZGVyUHJvZ3JhbSh3ZWJHTCwgdGhpcy52ZXJ0ZXhTaGFkZXIsIHRoaXMuZnJhZ21lbnRTaGFkZXIpO1xuICAgIH1cblxuICAgIHB1YmxpYyBjcmVhdGVTaGFkZXIod2ViR0wgOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHR5cGUgOiBudW1iZXIsIHNvdXJjZSA6IHN0cmluZykgOiBXZWJHTFNoYWRlciB7XG4gICAgICAgIC8vIE1BS0UgQSBORVcgU0hBREVSIE9CSkVDVCwgTE9BRCBJVCdTIFNPVVJDRSwgQU5EIENPTVBJTEUgSVRcbiAgICAgICAgdmFyIHNoYWRlciA9IHdlYkdMLmNyZWF0ZVNoYWRlcih0eXBlKTtcbiAgICAgICAgd2ViR0wuc2hhZGVyU291cmNlKHNoYWRlciwgc291cmNlKTtcbiAgICAgICAgd2ViR0wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xuXG4gICAgICAgIC8vIERJRCBJVCBDT01QSUxFP1xuICAgICAgICB2YXIgc3VjY2VzcyA9IHdlYkdMLmdldFNoYWRlclBhcmFtZXRlcihzaGFkZXIsIHdlYkdMLkNPTVBJTEVfU1RBVFVTKTtcbiAgICAgICAgaWYgKHN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHJldHVybiBzaGFkZXI7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBESVNBU1RFUlxuICAgICAgICBjb25zb2xlLmxvZyh3ZWJHTC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcikpO1xuICAgICAgICB3ZWJHTC5kZWxldGVTaGFkZXIoc2hhZGVyKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcHVibGljIGNyZWF0ZVNoYWRlclByb2dyYW0od2ViR0wgOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHZTaGFkZXIgOiBXZWJHTFNoYWRlciwgZlNoYWRlciA6IFdlYkdMU2hhZGVyKSA6IFdlYkdMUHJvZ3JhbSB7XG4gICAgICAgIC8vIE1BS0UgVEhFIEdMU0wgU0hBREVSIFBST0dSQU1cbiAgICAgICAgbGV0IHByb2dyYW1Ub0NyZWF0ZSA9IHdlYkdMLmNyZWF0ZVByb2dyYW0oKTtcblxuICAgICAgICAvLyBMSU5LIFRIRSBWRVJUIEFORCBGUkFHXG4gICAgICAgIHdlYkdMLmF0dGFjaFNoYWRlcihwcm9ncmFtVG9DcmVhdGUsIHZTaGFkZXIpO1xuICAgICAgICB3ZWJHTC5hdHRhY2hTaGFkZXIocHJvZ3JhbVRvQ3JlYXRlLCBmU2hhZGVyKTtcblxuICAgICAgICAvLyBOT1cgV0UgQ0FOIExJTksgVEhFIFNIQURFUiBQUk9HUkFNXG4gICAgICAgIHdlYkdMLmxpbmtQcm9ncmFtKHByb2dyYW1Ub0NyZWF0ZSk7XG4gICAgICAgIGxldCBsaW5rZWQgOiBib29sZWFuID0gd2ViR0wuZ2V0UHJvZ3JhbVBhcmFtZXRlcihwcm9ncmFtVG9DcmVhdGUsIHdlYkdMLkxJTktfU1RBVFVTKTtcblxuICAgICAgICAvLyBJUyBJVCBMSU5LRUQ/XG4gICAgICAgIGlmICghbGlua2VkKSB7XG4gICAgICAgICAgICAvLyBESVNBU1RFUlxuICAgICAgICAgICAgbGV0IGVycm9yRmVlZGJhY2sgOiBzdHJpbmcgPSB3ZWJHTC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtVG9DcmVhdGUpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3JGZWVkYmFjayk7XG5cbiAgICAgICAgICAgIC8vIERJU0FTVEVSXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh3ZWJHTC5nZXRQcm9ncmFtSW5mb0xvZyhwcm9ncmFtVG9DcmVhdGUpKTtcbiAgICAgICAgICAgIHdlYkdMLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbVRvQ3JlYXRlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcHJvZ3JhbVRvQ3JlYXRlO1xuICAgIH1cbn0iLCJpbXBvcnQge1dlYkdMR2FtZVNoYWRlcn0gZnJvbSAnLi9XZWJHTEdhbWVTaGFkZXInXG5pbXBvcnQge01hdGhVdGlsaXRpZXN9IGZyb20gJy4uL21hdGgvTWF0aFV0aWxpdGllcydcbmltcG9ydCB7IE1hdHJpeCB9IGZyb20gJy4uL21hdGgvTWF0cml4J1xuaW1wb3J0IHsgVmVjdG9yMyB9IGZyb20gJy4uL21hdGgvVmVjdG9yMydcbmltcG9ydCB7QW5pbWF0ZWRTcHJpdGV9IGZyb20gJy4uL3NjZW5lL3Nwcml0ZS9BbmltYXRlZFNwcml0ZSdcbmltcG9ydCB7QW5pbWF0ZWRTcHJpdGVUeXBlfSBmcm9tICcuLi9zY2VuZS9zcHJpdGUvQW5pbWF0ZWRTcHJpdGVUeXBlJ1xuaW1wb3J0IHtXZWJHTEdhbWVUZXh0dXJlfSBmcm9tICcuL1dlYkdMR2FtZVRleHR1cmUnXG5pbXBvcnQge0hhc2hUYWJsZX0gZnJvbSAnLi4vZGF0YS9IYXNoVGFibGUnXG5cbnZhciBTcHJpdGVEZWZhdWx0cyA9IHtcbiAgICBBX1BPU0lUSU9OOiBcImFfUG9zaXRpb25cIixcbiAgICBBX1RFWF9DT09SRDogXCJhX1RleENvb3JkXCIsXG4gICAgVV9TUFJJVEVfVFJBTlNGT1JNOiBcInVfU3ByaXRlVHJhbnNmb3JtXCIsXG4gICAgVV9URVhfQ09PUkRfRkFDVE9SOiBcInVfVGV4Q29vcmRGYWN0b3JcIixcbiAgICBVX1RFWF9DT09SRF9TSElGVDogXCJ1X1RleENvb3JkU2hpZnRcIixcbiAgICBVX1NBTVBMRVI6IFwidV9TYW1wbGVyXCIsXG4gICAgTlVNX1ZFUlRJQ0VTOiA0LFxuICAgIEZMT0FUU19QRVJfVkVSVEVYOiAyLFxuICAgIEZMT0FUU19QRVJfVEVYVFVSRV9DT09SRElOQVRFOiAyLFxuICAgIFRPVEFMX0JZVEVTOiAxNixcbiAgICBWRVJURVhfUE9TSVRJT05fT0ZGU0VUOiAwLFxuICAgIFRFWFRVUkVfQ09PUkRJTkFURV9PRkZTRVQ6IDgsXG4gICAgSU5ERVhfT0ZfRklSU1RfVkVSVEVYOiAwXG59O1xuXG5leHBvcnQgY2xhc3MgV2ViR0xHYW1lU3ByaXRlUmVuZGVyZXIge1xuICAgIHByaXZhdGUgc2hhZGVyIDogV2ViR0xHYW1lU2hhZGVyO1xuICAgIHByaXZhdGUgdmVydGV4VGV4Q29vcmRCdWZmZXIgOiBXZWJHTEJ1ZmZlcjtcblxuICAgIC8vIFdFJ0xMIFVTRSBUSEVTRSBGT1IgVFJBTlNPRk1SSU5HIE9CSkVDVFMgV0hFTiBXRSBEUkFXIFRIRU1cbiAgICBwcml2YXRlIHNwcml0ZVRyYW5zZm9ybSA6IE1hdHJpeDtcbiAgICBwcml2YXRlIHNwcml0ZVRyYW5zbGF0ZSA6IFZlY3RvcjM7XG4gICAgcHJpdmF0ZSBzcHJpdGVSb3RhdGUgOiBWZWN0b3IzO1xuICAgIHByaXZhdGUgc3ByaXRlU2NhbGUgOiBWZWN0b3IzOyAgICBcblxuICAgIHByaXZhdGUgd2ViR0xBdHRyaWJ1dGVMb2NhdGlvbnMgOiBIYXNoVGFibGU8R0x1aW50PjtcbiAgICBwcml2YXRlIHdlYkdMVW5pZm9ybUxvY2F0aW9ucyA6IEhhc2hUYWJsZTxXZWJHTFVuaWZvcm1Mb2NhdGlvbj47XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7fVxuICAgIFxuICAgIHB1YmxpYyBpbml0KHdlYkdMIDogV2ViR0xSZW5kZXJpbmdDb250ZXh0KSA6IHZvaWQge1xuICAgICAgICB0aGlzLnNoYWRlciA9IG5ldyBXZWJHTEdhbWVTaGFkZXIoKTtcbiAgICAgICAgdmFyIHZlcnRleFNoYWRlclNvdXJjZSA9XG4gICAgICAgICAgICAndW5pZm9ybSBtYXQ0ICcgKyBTcHJpdGVEZWZhdWx0cy5VX1NQUklURV9UUkFOU0ZPUk0gKyAnO1xcbicgK1xuICAgICAgICAgICAgJ3VuaWZvcm0gdmVjMiAnICsgU3ByaXRlRGVmYXVsdHMuVV9URVhfQ09PUkRfRkFDVE9SICsgJztcXG4nICtcbiAgICAgICAgICAgICd1bmlmb3JtIHZlYzIgJyArIFNwcml0ZURlZmF1bHRzLlVfVEVYX0NPT1JEX1NISUZUICsgJztcXG4nICtcbiAgICAgICAgICAgICdhdHRyaWJ1dGUgdmVjNCAnICsgU3ByaXRlRGVmYXVsdHMuQV9QT1NJVElPTiArICc7XFxuJyArXG4gICAgICAgICAgICAnYXR0cmlidXRlIHZlYzIgJyArIFNwcml0ZURlZmF1bHRzLkFfVEVYX0NPT1JEICsgJztcXG4nICtcbiAgICAgICAgICAgICd2YXJ5aW5nIHZlYzIgdl9UZXhDb29yZDtcXG4nICtcbiAgICAgICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgICAnICBnbF9Qb3NpdGlvbiA9ICcgKyBTcHJpdGVEZWZhdWx0cy5VX1NQUklURV9UUkFOU0ZPUk0gKyAnICogJyArIFNwcml0ZURlZmF1bHRzLkFfUE9TSVRJT04gKyAnO1xcbicgK1xuICAgICAgICAgICAgJyAgdmVjMiB0ZW1wVGV4Q29vcmQgPSAnICsgU3ByaXRlRGVmYXVsdHMuQV9URVhfQ09PUkQgKyAnICogJyArIFNwcml0ZURlZmF1bHRzLlVfVEVYX0NPT1JEX0ZBQ1RPUiArICc7XFxuJyArXG4gICAgICAgICAgICAnICB2X1RleENvb3JkID0gdGVtcFRleENvb3JkICsgJyArIFNwcml0ZURlZmF1bHRzLlVfVEVYX0NPT1JEX1NISUZUICsgJztcXG4nICtcbiAgICAgICAgICAgICd9XFxuJztcbiAgICAgICAgdmFyIGZyYWdtZW50U2hhZGVyU291cmNlID1cbiAgICAgICAgICAgICcjaWZkZWYgR0xfRVNcXG4nICtcbiAgICAgICAgICAgICdwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4nICtcbiAgICAgICAgICAgICcjZW5kaWZcXG4nICtcbiAgICAgICAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCAnICsgU3ByaXRlRGVmYXVsdHMuVV9TQU1QTEVSICsgJztcXG4nICtcbiAgICAgICAgICAgICd2YXJ5aW5nIHZlYzIgdl9UZXhDb29yZDtcXG4nICtcbiAgICAgICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgICAnICBnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQoJyArIFNwcml0ZURlZmF1bHRzLlVfU0FNUExFUiArICcsIHZfVGV4Q29vcmQpO1xcbicgK1xuICAgICAgICAgICAgJ31cXG4nO1xuICAgICAgICB0aGlzLnNoYWRlci5pbml0KHdlYkdMLCB2ZXJ0ZXhTaGFkZXJTb3VyY2UsIGZyYWdtZW50U2hhZGVyU291cmNlKTtcblxuICAgICAgICAvLyBHRVQgVEhFIHdlYkdMIE9CSkVDVCBUTyBVU0VcbiAgICAgICAgdmFyIHZlcnRpY2VzVGV4Q29vcmRzID0gbmV3IEZsb2F0MzJBcnJheShbXG4gICAgICAgICAgICAtMC41LCAgMC41LCAwLjAsIDAuMCxcbiAgICAgICAgICAgIC0wLjUsIC0wLjUsIDAuMCwgMS4wLFxuICAgICAgICAgICAgIDAuNSwgIDAuNSwgMS4wLCAwLjAsXG4gICAgICAgICAgICAgMC41LCAtMC41LCAxLjAsIDEuMFxuICAgICAgICBdKTtcblxuICAgICAgICAvLyBDUkVBVEUgVEhFIEJVRkZFUiBPTiBUSEUgR1BVXG4gICAgICAgIHRoaXMudmVydGV4VGV4Q29vcmRCdWZmZXIgPSB3ZWJHTC5jcmVhdGVCdWZmZXIoKTtcblxuICAgICAgICAvLyBCSU5EIFRIRSBCVUZGRVIgVE8gQkUgVkVSVEVYIERBVEFcbiAgICAgICAgd2ViR0wuYmluZEJ1ZmZlcih3ZWJHTC5BUlJBWV9CVUZGRVIsIHRoaXMudmVydGV4VGV4Q29vcmRCdWZmZXIpO1xuXG4gICAgICAgIC8vIEFORCBTRU5EIFRIRSBEQVRBIFRPIFRIRSBCVUZGRVIgV0UgQ1JFQVRFRCBPTiBUSEUgR1BVXG4gICAgICAgIHdlYkdMLmJ1ZmZlckRhdGEod2ViR0wuQVJSQVlfQlVGRkVSLCB2ZXJ0aWNlc1RleENvb3Jkcywgd2ViR0wuU1RBVElDX0RSQVcpO1xuXG4gICAgICAgIC8vIFNFVFVQIFRIRSBTSEFERVIgQVRUUklCVVRFUyBBTkQgVU5JRk9STVNcbiAgICAgICAgdGhpcy53ZWJHTEF0dHJpYnV0ZUxvY2F0aW9ucyA9IHt9O1xuICAgICAgICB0aGlzLndlYkdMVW5pZm9ybUxvY2F0aW9ucyA9IHt9O1xuICAgICAgICB0aGlzLmxvYWRBdHRyaWJ1dGVMb2NhdGlvbnMod2ViR0wsIFtTcHJpdGVEZWZhdWx0cy5BX1BPU0lUSU9OLCBTcHJpdGVEZWZhdWx0cy5BX1RFWF9DT09SRF0pO1xuICAgICAgICB0aGlzLmxvYWRVbmlmb3JtTG9jYXRpb25zKHdlYkdMLCBbU3ByaXRlRGVmYXVsdHMuVV9TUFJJVEVfVFJBTlNGT1JNLCBTcHJpdGVEZWZhdWx0cy5VX1NBTVBMRVIsIFNwcml0ZURlZmF1bHRzLlVfVEVYX0NPT1JEX0ZBQ1RPUiwgU3ByaXRlRGVmYXVsdHMuVV9URVhfQ09PUkRfU0hJRlRdKTtcblxuICAgICAgICAvLyBXRSdMTCBVU0UgVEhFU0UgRk9SIFRSQU5TT0ZNUklORyBPQkpFQ1RTIFdIRU4gV0UgRFJBVyBUSEVNXG4gICAgICAgIHRoaXMuc3ByaXRlVHJhbnNmb3JtID0gbmV3IE1hdHJpeCg0LCA0KTtcbiAgICAgICAgdGhpcy5zcHJpdGVUcmFuc2xhdGUgPSBuZXcgVmVjdG9yMygpO1xuICAgICAgICB0aGlzLnNwcml0ZVJvdGF0ZSA9IG5ldyBWZWN0b3IzKCk7XG4gICAgICAgIHRoaXMuc3ByaXRlU2NhbGUgPSBuZXcgVmVjdG9yMygpO1xuICAgIH1cblxuICAgIHB1YmxpYyByZW5kZXJBbmltYXRlZFNwcml0ZXMoICB3ZWJHTCA6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzV2lkdGggOiBudW1iZXIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhc0hlaWdodCA6IG51bWJlciwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZVNldCA6IEFycmF5PEFuaW1hdGVkU3ByaXRlPikgOiB2b2lkIHtcbiAgICAgICAgLy8gU0VMRUNUIFRIRSBBTklNQVRFRCBTUFJJVEUgUkVOREVSSU5HIFNIQURFUiBQUk9HUkFNIEZPUiBVU0VcbiAgICAgICAgbGV0IHNoYWRlclByb2dyYW1Ub1VzZSA9IHRoaXMuc2hhZGVyLmdldFByb2dyYW0oKTtcbiAgICAgICAgd2ViR0wudXNlUHJvZ3JhbShzaGFkZXJQcm9ncmFtVG9Vc2UpO1xuXG4gICAgICAgLy8gQU5EIFRIRU4gUkVOREVSIEVBQ0ggT05FXG4gICAgICAgZm9yIChsZXQgc3ByaXRlIG9mIHZpc2libGVTZXQpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQW5pbWF0ZWRTcHJpdGUod2ViR0wsIGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQsIHNwcml0ZSk7ICAgICAgICBcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgbG9hZEF0dHJpYnV0ZUxvY2F0aW9ucyh3ZWJHTCA6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgYXR0cmlidXRlTG9jYXRpb25OYW1lcyA6IEFycmF5PHN0cmluZz4pIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRyaWJ1dGVMb2NhdGlvbk5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbG9jYXRpb25OYW1lIDogc3RyaW5nID0gYXR0cmlidXRlTG9jYXRpb25OYW1lc1tpXTtcbiAgICAgICAgICAgIGxldCBsb2NhdGlvbiA6IEdMdWludCA9IHdlYkdMLmdldEF0dHJpYkxvY2F0aW9uKHRoaXMuc2hhZGVyLmdldFByb2dyYW0oKSwgbG9jYXRpb25OYW1lKTtcbiAgICAgICAgICAgIHRoaXMud2ViR0xBdHRyaWJ1dGVMb2NhdGlvbnNbbG9jYXRpb25OYW1lXSA9IGxvY2F0aW9uO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsb2FkVW5pZm9ybUxvY2F0aW9ucyh3ZWJHTCA6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgdW5pZm9ybUxvY2F0aW9uTmFtZXMgOiBBcnJheTxzdHJpbmc+KSB7XG4gICAgICAgIGZvciAobGV0IGkgOiBudW1iZXIgPSAwOyBpIDwgdW5pZm9ybUxvY2F0aW9uTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBsb2NhdGlvbk5hbWUgOiBzdHJpbmcgPSB1bmlmb3JtTG9jYXRpb25OYW1lc1tpXTtcbiAgICAgICAgICAgIGxldCBsb2NhdGlvbiA6IFdlYkdMVW5pZm9ybUxvY2F0aW9uID0gd2ViR0wuZ2V0VW5pZm9ybUxvY2F0aW9uKHRoaXMuc2hhZGVyLmdldFByb2dyYW0oKSwgbG9jYXRpb25OYW1lKTtcbiAgICAgICAgICAgIHRoaXMud2ViR0xVbmlmb3JtTG9jYXRpb25zW2xvY2F0aW9uTmFtZV0gPSBsb2NhdGlvbjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcmVuZGVyQW5pbWF0ZWRTcHJpdGUoICAgd2ViR0wgOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhc1dpZHRoIDogbnVtYmVyLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXNIZWlnaHQgOiBudW1iZXIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZSA6IEFuaW1hdGVkU3ByaXRlKSB7XG4gICAgICAgIGxldCBzcHJpdGVUeXBlIDogQW5pbWF0ZWRTcHJpdGVUeXBlID0gc3ByaXRlLmdldFNwcml0ZVR5cGUoKTtcbiAgICAgICAgbGV0IHRleHR1cmUgOiBXZWJHTEdhbWVUZXh0dXJlID0gc3ByaXRlVHlwZS5nZXRTcHJpdGVTaGVldFRleHR1cmUoKTtcblxuICAgICAgICAvLyBDQUxDVUxBVEUgSE9XIE1VQ0ggVE8gVFJBTlNMQVRFIFRIRSBRVUFEIFBFUiBUSEUgU1BSSVRFIFBPU0lUSU9OXG4gICAgICAgIGxldCBzcHJpdGVXaWR0aCA6IG51bWJlciA9IHNwcml0ZVR5cGUuZ2V0U3ByaXRlV2lkdGgoKTtcbiAgICAgICAgbGV0IHNwcml0ZUhlaWdodCA6IG51bWJlciA9IHNwcml0ZVR5cGUuZ2V0U3ByaXRlSGVpZ2h0KCk7XG4gICAgICAgIGxldCBzcHJpdGVYSW5QaXhlbHMgOiBudW1iZXIgPSBzcHJpdGUuZ2V0UG9zaXRpb24oKS5nZXRYKCkgKyAoc3ByaXRlV2lkdGgvMik7XG4gICAgICAgIGxldCBzcHJpdGVZSW5QaXhlbHMgOiBudW1iZXIgPSBzcHJpdGUuZ2V0UG9zaXRpb24oKS5nZXRZKCkgKyAoc3ByaXRlSGVpZ2h0LzIpO1xuICAgICAgICBsZXQgc3ByaXRlWFRyYW5zbGF0ZSA6IG51bWJlciA9IChzcHJpdGVYSW5QaXhlbHMgLSAoY2FudmFzV2lkdGgvMikpLyhjYW52YXNXaWR0aC8yKTtcbiAgICAgICAgbGV0IHNwcml0ZVlUcmFuc2xhdGUgOiBudW1iZXIgPSAoc3ByaXRlWUluUGl4ZWxzIC0gKGNhbnZhc0hlaWdodC8yKSkvKGNhbnZhc0hlaWdodC8yKTtcbiAgICAgICAgdGhpcy5zcHJpdGVUcmFuc2xhdGUuc2V0WChzcHJpdGVYVHJhbnNsYXRlKTtcbiAgICAgICAgdGhpcy5zcHJpdGVUcmFuc2xhdGUuc2V0WSgtc3ByaXRlWVRyYW5zbGF0ZSk7XG5cbiAgICAgICAgLy8gQ0FMQ1VMQVRFIEhPVyBNVUNIIFRPIFNDQUxFIFRIRSBRVUFEIFBFUiBUSEUgU1BSSVRFIFNJWkVcbiAgICAgICAgbGV0IGRlZmF1bHRXaWR0aCA6IG51bWJlciA9IGNhbnZhc1dpZHRoLzI7XG4gICAgICAgIGxldCBkZWZhdWx0SGVpZ2h0IDogbnVtYmVyID0gY2FudmFzSGVpZ2h0LzI7XG4gICAgICAgIGxldCBzY2FsZVggOiBudW1iZXIgPSBzcHJpdGVXaWR0aC9kZWZhdWx0V2lkdGg7XG4gICAgICAgIGxldCBzY2FsZVkgOiBudW1iZXIgPSBzcHJpdGVIZWlnaHQvZGVmYXVsdEhlaWdodDtcbiAgICAgICAgdGhpcy5zcHJpdGVTY2FsZS5zZXRYKHNjYWxlWCk7XG4gICAgICAgIHRoaXMuc3ByaXRlU2NhbGUuc2V0WShzY2FsZVkpO1xuXG4gICAgICAgIC8vIEB0b2RvIC0gQ09NQklORSBUSElTIFdJVEggVEhFIFJPVEFURSBBTkQgU0NBTEUgVkFMVUVTIEZST00gVEhFIFNQUklURVxuICAgICAgICBNYXRoVXRpbGl0aWVzLmlkZW50aXR5KHRoaXMuc3ByaXRlVHJhbnNmb3JtKTtcbiAgICAgICAgTWF0aFV0aWxpdGllcy5tb2RlbCh0aGlzLnNwcml0ZVRyYW5zZm9ybSwgdGhpcy5zcHJpdGVUcmFuc2xhdGUsIHRoaXMuc3ByaXRlUm90YXRlLCB0aGlzLnNwcml0ZVNjYWxlKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEZJR1VSRSBPVVQgVEhFIFRFWFRVUkUgQ09PUkRJTkFURSBGQUNUT1IgQU5EIFNISUZUXG4gICAgICAgIGxldCB0ZXhDb29yZEZhY3RvclggOiBudW1iZXIgPSBzcHJpdGVXaWR0aC90ZXh0dXJlLndpZHRoO1xuICAgICAgICBsZXQgdGV4Q29vcmRGYWN0b3JZIDogbnVtYmVyID0gc3ByaXRlSGVpZ2h0L3RleHR1cmUuaGVpZ2h0O1xuICAgICAgICBsZXQgc3ByaXRlTGVmdCA6IG51bWJlciA9IHNwcml0ZS5nZXRMZWZ0KCk7XG4gICAgICAgIGxldCBzcHJpdGVUb3AgOiBudW1iZXIgPSBzcHJpdGUuZ2V0VG9wKCk7XG4gICAgICAgIGxldCB0ZXhDb29yZFNoaWZ0WCA6IG51bWJlciA9IHNwcml0ZUxlZnQvdGV4dHVyZS53aWR0aDtcbiAgICAgICAgbGV0IHRleENvb3JkU2hpZnRZIDogbnVtYmVyID0gc3ByaXRlVG9wL3RleHR1cmUuaGVpZ2h0OyAgIFxuXG4gICAgICAgIC8vIFVTRSBUSEUgQVRUUklCVVRFU1xuICAgICAgICB3ZWJHTC5iaW5kQnVmZmVyKHdlYkdMLkFSUkFZX0JVRkZFUiwgdGhpcy52ZXJ0ZXhUZXhDb29yZEJ1ZmZlcik7XG4gICAgICAgIHdlYkdMLmJpbmRUZXh0dXJlKHdlYkdMLlRFWFRVUkVfMkQsIHRleHR1cmUud2ViR0xUZXh0dXJlKTtcblxuICAgICAgICAvLyBIT09LIFVQIFRIRSBBVFRSSUJVVEVTXG4gICAgICAgIGxldCBhX1Bvc2l0aW9uTG9jYXRpb24gOiBHTHVpbnQgPSB0aGlzLndlYkdMQXR0cmlidXRlTG9jYXRpb25zW1Nwcml0ZURlZmF1bHRzLkFfUE9TSVRJT05dO1xuICAgICAgICB3ZWJHTC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGFfUG9zaXRpb25Mb2NhdGlvbiwgU3ByaXRlRGVmYXVsdHMuRkxPQVRTX1BFUl9URVhUVVJFX0NPT1JESU5BVEUsIHdlYkdMLkZMT0FULCBmYWxzZSwgU3ByaXRlRGVmYXVsdHMuVE9UQUxfQllURVMsIFNwcml0ZURlZmF1bHRzLlZFUlRFWF9QT1NJVElPTl9PRkZTRVQpO1xuICAgICAgICB3ZWJHTC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShhX1Bvc2l0aW9uTG9jYXRpb24pO1xuICAgICAgICBsZXQgYV9UZXhDb29yZExvY2F0aW9uIDogR0x1aW50ID0gdGhpcy53ZWJHTEF0dHJpYnV0ZUxvY2F0aW9uc1tTcHJpdGVEZWZhdWx0cy5BX1RFWF9DT09SRF07XG4gICAgICAgIHdlYkdMLnZlcnRleEF0dHJpYlBvaW50ZXIoYV9UZXhDb29yZExvY2F0aW9uLCBTcHJpdGVEZWZhdWx0cy5GTE9BVFNfUEVSX1RFWFRVUkVfQ09PUkRJTkFURSwgd2ViR0wuRkxPQVQsIGZhbHNlLCBTcHJpdGVEZWZhdWx0cy5UT1RBTF9CWVRFUywgU3ByaXRlRGVmYXVsdHMuVEVYVFVSRV9DT09SRElOQVRFX09GRlNFVCk7XG4gICAgICAgIHdlYkdMLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGFfVGV4Q29vcmRMb2NhdGlvbik7XG5cbiAgICAgICAgLy8gVVNFIFRIRSBVTklGT1JNU1xuICAgICAgICBsZXQgdV9TcHJpdGVUcmFuc2Zvcm1Mb2NhdGlvbiA6IFdlYkdMVW5pZm9ybUxvY2F0aW9uID0gdGhpcy53ZWJHTFVuaWZvcm1Mb2NhdGlvbnNbU3ByaXRlRGVmYXVsdHMuVV9TUFJJVEVfVFJBTlNGT1JNXTtcbiAgICAgICAgd2ViR0wudW5pZm9ybU1hdHJpeDRmdih1X1Nwcml0ZVRyYW5zZm9ybUxvY2F0aW9uLCBmYWxzZSwgdGhpcy5zcHJpdGVUcmFuc2Zvcm0uZ2V0RGF0YSgpKTtcbiAgICAgICAgbGV0IHVfU2FtcGxlckxvY2F0aW9uIDogV2ViR0xVbmlmb3JtTG9jYXRpb24gPSB0aGlzLndlYkdMVW5pZm9ybUxvY2F0aW9uc1tTcHJpdGVEZWZhdWx0cy5VX1NBTVBMRVJdO1xuICAgICAgICB3ZWJHTC51bmlmb3JtMWkodV9TYW1wbGVyTG9jYXRpb24sIHRleHR1cmUud2ViR0xUZXh0dXJlSWQpO1xuICAgICAgICBsZXQgdV9UZXhDb29yZEZhY3RvckxvY2F0aW9uIDogV2ViR0xVbmlmb3JtTG9jYXRpb24gPSB0aGlzLndlYkdMVW5pZm9ybUxvY2F0aW9uc1tTcHJpdGVEZWZhdWx0cy5VX1RFWF9DT09SRF9GQUNUT1JdO1xuICAgICAgICB3ZWJHTC51bmlmb3JtMmYodV9UZXhDb29yZEZhY3RvckxvY2F0aW9uLCB0ZXhDb29yZEZhY3RvclgsIHRleENvb3JkRmFjdG9yWSk7XG4gICAgICAgIGxldCB1X1RleENvb3JkU2hpZnRMb2NhdGlvbiA6IFdlYkdMVW5pZm9ybUxvY2F0aW9uID0gdGhpcy53ZWJHTFVuaWZvcm1Mb2NhdGlvbnNbU3ByaXRlRGVmYXVsdHMuVV9URVhfQ09PUkRfU0hJRlRdO1xuICAgICAgICB3ZWJHTC51bmlmb3JtMmYodV9UZXhDb29yZFNoaWZ0TG9jYXRpb24sIHRleENvb3JkU2hpZnRYLCB0ZXhDb29yZFNoaWZ0WSk7XG5cbiAgICAgICAgLy8gRFJBVyBUSEUgU1BSSVRFIEFTIEEgVFJJQU5HTEUgU1RSSVAgVVNJTkcgNCBWRVJUSUNFUywgU1RBUlRJTkcgQVQgVEhFIFNUQVJUIE9GIFRIRSBBUlJBWSAoaW5kZXggMClcbiAgICAgICAgd2ViR0wuZHJhd0FycmF5cyh3ZWJHTC5UUklBTkdMRV9TVFJJUCwgU3ByaXRlRGVmYXVsdHMuSU5ERVhfT0ZfRklSU1RfVkVSVEVYLCBTcHJpdGVEZWZhdWx0cy5OVU1fVkVSVElDRVMpO1xuICAgIH1cbn0iLCJleHBvcnQgY2xhc3MgV2ViR0xHYW1lVGV4dHVyZSB7XG4gICAgcHVibGljIHdlYkdMVGV4dHVyZUlkOiBudW1iZXI7XG4gICAgcHVibGljIHdlYkdMVGV4dHVyZTogV2ViR0xUZXh0dXJlO1xuICAgIHB1YmxpYyBpbWFnZTogSFRNTEltYWdlRWxlbWVudDtcbiAgICBwdWJsaWMgd2lkdGggOiBudW1iZXI7XG4gICAgcHVibGljIGhlaWdodCA6IG51bWJlcjtcbn0iLCJpbXBvcnQge1NjZW5lT2JqZWN0fSBmcm9tICcuL1NjZW5lT2JqZWN0J1xuaW1wb3J0IHtBbmltYXRlZFNwcml0ZX0gZnJvbSAnLi9zcHJpdGUvQW5pbWF0ZWRTcHJpdGUnXG5pbXBvcnQgeyBHcmFkaWVudENpcmNsZVNwcml0ZSB9IGZyb20gJy4vc3ByaXRlL0dyYWRpZW50Q2lyY2xlU3ByaXRlJztcblxuZXhwb3J0IGNsYXNzIFNjZW5lR3JhcGgge1xuICAgIC8vIEFORCBBTEwgT0YgVEhFIEFOSU1BVEVEIFNQUklURVMsIFdISUNIIEFSRSBOT1QgU1RPUkVEXG4gICAgLy8gU09SVEVEIE9SIElOIEFOWSBQQVJUSUNVTEFSIE9SREVSLiBOT1RFIFRIQVQgQU5JTUFURUQgU1BSSVRFU1xuICAgIC8vIEFSRSBTQ0VORSBPQkpFQ1RTXG4gICAgcHJpdmF0ZSBhbmltYXRlZFNwcml0ZXMgOiBBcnJheTxBbmltYXRlZFNwcml0ZT47XG5cbiAgICAvLyBTRVQgT0YgVklTSUJMRSBPQkpFQ1RTLCBOT1RFIFRIQVQgQVQgVEhFIE1PTUVOVCBPVVJcbiAgICAvLyBTQ0VORSBHUkFQSCBJUyBRVUlURSBTSU1QTEUsIFNPIFRISVMgSVMgVEhFIFNBTUUgQVNcbiAgICAvLyBPVVIgTElTVCBPRiBBTklNQVRFRCBTUFJJVEVTXG4gICAgcHJpdmF0ZSB2aXNpYmxlU2V0IDogQXJyYXk8U2NlbmVPYmplY3Q+O1xuXG5cbiAgICBwcml2YXRlIHNjZW5lRGVzY3JpcHRpb24gOiBzdHJpbmc7XG5cbiAgICBwcml2YXRlIGNpcmNsZVNwcml0ZXMgOiBBcnJheTxHcmFkaWVudENpcmNsZVNwcml0ZT47XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8vIERFRkFVTFQgQ09OU1RSVUNUT1IgSU5JVElBTElaRVMgT1VSIERBVEEgU1RSVUNUVVJFU1xuICAgICAgICB0aGlzLmFuaW1hdGVkU3ByaXRlcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICB0aGlzLmNpcmNsZVNwcml0ZXMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdGhpcy52aXNpYmxlU2V0ID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHRoaXMuc2NlbmVEZXNjcmlwdGlvbiA9IFwiXCI7XG4gICAgfVxuXG4gICAgcHVibGljIGdldE51bVNwcml0ZXMoKSA6IG51bWJlciB7XG4gICAgICAgIHJldHVybiAodGhpcy5hbmltYXRlZFNwcml0ZXMubGVuZ3RoICsgdGhpcy5jaXJjbGVTcHJpdGVzLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZEFuaW1hdGVkU3ByaXRlKHNwcml0ZSA6IEFuaW1hdGVkU3ByaXRlKSA6IHZvaWQge1xuICAgICAgICB0aGlzLmFuaW1hdGVkU3ByaXRlcy5wdXNoKHNwcml0ZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZENpcmNsZVNwcml0ZShzcHJpdGUgOiBHcmFkaWVudENpcmNsZVNwcml0ZSkgOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jaXJjbGVTcHJpdGVzLnB1c2goc3ByaXRlKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVtb3ZlZEFuaW1hdGVkU3ByaXRlKHNwcml0ZSA6IEFuaW1hdGVkU3ByaXRlKSA6IHZvaWQge1xuICAgICAgICBsZXQgdGVtcEFuaW1hdGVkU3ByaXRlcyA6IEFycmF5PEFuaW1hdGVkU3ByaXRlPiA9IG5ldyBBcnJheSgpO1xuICAgICAgICB0aGlzLmFuaW1hdGVkU3ByaXRlcy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQgIT0gc3ByaXRlKXtcbiAgICAgICAgICAgICAgICB0ZW1wQW5pbWF0ZWRTcHJpdGVzLnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFuaW1hdGVkU3ByaXRlcyA9IHRlbXBBbmltYXRlZFNwcml0ZXM7XG4gICAgfVxuXG4gICAgcHVibGljIHJlbW92ZUNpcmNsZVNwcml0ZShjaXJjbGUgOiBHcmFkaWVudENpcmNsZVNwcml0ZSkgOiB2b2lkIHtcbiAgICAgICAgbGV0IHRlbXBHcmFkaWVudENpcmNsZXMgOiBBcnJheTxHcmFkaWVudENpcmNsZVNwcml0ZT4gPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdGhpcy5jaXJjbGVTcHJpdGVzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudCAhPSBjaXJjbGUpe1xuICAgICAgICAgICAgICAgIHRlbXBHcmFkaWVudENpcmNsZXMucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY2lyY2xlU3ByaXRlcyA9IHRlbXBHcmFkaWVudENpcmNsZXM7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNwcml0ZUF0KHRlc3RYIDogbnVtYmVyLCB0ZXN0WSA6IG51bWJlcikgOiBBbmltYXRlZFNwcml0ZSB7XG4gICAgICAgIGZvciAobGV0IHNwcml0ZSBvZiB0aGlzLmFuaW1hdGVkU3ByaXRlcykge1xuICAgICAgICAgICAgaWYgKHNwcml0ZS5jb250YWlucyh0ZXN0WCwgdGVzdFkpKVxuICAgICAgICAgICAgICAgIHJldHVybiBzcHJpdGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcHVibGljIGdldENpcmNsZUF0KHRlc3RYIDogbnVtYmVyLCB0ZXN0WSA6IG51bWJlcikgOiBHcmFkaWVudENpcmNsZVNwcml0ZSB7XG4gICAgICAgIGZvciAobGV0IGNpcmNsZSBvZiB0aGlzLmNpcmNsZVNwcml0ZXMpIHtcbiAgICAgICAgICAgIGlmIChjaXJjbGUuY29udGFpbnModGVzdFgsIHRlc3RZKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gY2lyY2xlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTY2VuZURlc2NyaXB0aW9uKCkgOiBzdHJpbmd7XG4gICAgICAgIHJldHVybiB0aGlzLnNjZW5lRGVzY3JpcHRpb247XG4gICAgfVxuXG4gICAgcHVibGljIHNldFNjZW5lRGVzY3JpcHRpb24oZGVzYyA6IHN0cmluZyl7XG4gICAgICAgIHRoaXMuc2NlbmVEZXNjcmlwdGlvbiA9IGRlc2M7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogdXBkYXRlXG4gICAgICogXG4gICAgICogQ2FsbGVkIG9uY2UgcGVyIGZyYW1lLCB0aGlzIGZ1bmN0aW9uIHVwZGF0ZXMgdGhlIHN0YXRlIG9mIGFsbCB0aGUgb2JqZWN0c1xuICAgICAqIGluIHRoZSBzY2VuZS5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0gZGVsdGEgVGhlIHRpbWUgdGhhdCBoYXMgcGFzc2VkIHNpbmNlIHRoZSBsYXN0IHRpbWUgdGhpcyB1cGRhdGVcbiAgICAgKiBmdW5jYXRpb24gd2FzIGNhbGxlZC5cbiAgICAgKi9cbiAgICBwdWJsaWMgdXBkYXRlKGRlbHRhIDogbnVtYmVyKSA6IHZvaWQge1xuICAgICAgICBmb3IgKGxldCBzcHJpdGUgb2YgdGhpcy5hbmltYXRlZFNwcml0ZXMpIHtcbiAgICAgICAgICAgIHNwcml0ZS51cGRhdGUoZGVsdGEpO1xuICAgICAgICB9XG4gICAgICAgIC8vY2lyY2xlcyBkb24ndCBhbmltYXRlIGFuZCBkb24ndCBuZWVkIGEgZnJhbWUgY291bnRlciB0byB1cGRhdGVcbiAgICB9XG5cbiAgICBwdWJsaWMgc2NvcGVTcHJpdGVzKCkgOiBBcnJheTxTY2VuZU9iamVjdD4ge1xuICAgICAgICAvLyBDTEVBUiBPVVQgVEhFIE9MRFxuICAgICAgICB0aGlzLnZpc2libGVTZXQgPSBbXTtcblxuICAgICAgICAvLyBQVVQgQUxMIFRIRSBTQ0VORSBPQkpFQ1RTIElOVE8gVEhFIFZJU0lCTEUgU0VUXG4gICAgICAgIGZvciAobGV0IHNwcml0ZSBvZiB0aGlzLmFuaW1hdGVkU3ByaXRlcykge1xuICAgICAgICAgICAgdGhpcy52aXNpYmxlU2V0LnB1c2goc3ByaXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnZpc2libGVTZXQ7XG4gICAgfVxuXG4gICAgcHVibGljIHNjb3BlQ2lyY2xlcygpIDogQXJyYXk8U2NlbmVPYmplY3Q+IHtcbiAgICAgICAgLy8gQ0xFQVIgT1VUIFRIRSBPTERcbiAgICAgICAgdGhpcy52aXNpYmxlU2V0ID0gW107XG5cbiAgICAgICAgLy8gUFVUIEFMTCBUSEUgU0NFTkUgT0JKRUNUUyBJTlRPIFRIRSBWSVNJQkxFIFNFVFxuICAgICAgICBmb3IgKGxldCBzcHJpdGUgb2YgdGhpcy5jaXJjbGVTcHJpdGVzKSB7XG4gICAgICAgICAgICB0aGlzLnZpc2libGVTZXQucHVzaChzcHJpdGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMudmlzaWJsZVNldDtcbiAgICB9XG59IiwiaW1wb3J0IHtWZWN0b3IzfSBmcm9tICcuLi9tYXRoL1ZlY3RvcjMnXG5cbi8qKlxuICogU2NlbmVPYmplY3RcbiAqIFxuICogQSBTY2VuZU9iamVjdCBpcyBzb21ldGhpbmcgdGhhdCBjYW4gYmUgcGxhY2VkIGludG8gdGhlIHNjZW5lIGdyYXBoLiBJdCBoYXNcbiAqIGEgcG9zaXRpb24sIHJvdGF0aW9uLCBhbmQgc2NhbGUgaW4gdGhlIGdhbWUgd29ybGQuIE5vdGUgdGhhdCBpdHMgcG9zaXRpb25cbiAqIGlzIHR5cGljYWxseSBpdHMgY2VudGVyZWQgbG9jYXRpb24sIHNvIGlmIHdlJ3JlIHRhbGtpbmcgYWJvdXQgYSAyZCBib3gsIFxuICogaXQgd291bGQgYmUgdGhlIGNlbnRlciBvZiB0aGF0IGJveC5cbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFNjZW5lT2JqZWN0IHtcbiAgICBwcml2YXRlIHBvc2l0aW9uIDogVmVjdG9yMztcbiAgICBwcml2YXRlIHJvdGF0aW9uIDogVmVjdG9yMztcbiAgICBwcml2YXRlIHNjYWxlIDogVmVjdG9yMztcblxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IG5ldyBWZWN0b3IzKCk7XG4gICAgICAgIHRoaXMucm90YXRpb24gPSBuZXcgVmVjdG9yMygpO1xuICAgICAgICB0aGlzLnNjYWxlID0gbmV3IFZlY3RvcjMoKTtcblxuICAgICAgICAvLyBDTEVBUiBBTEwgVkFMVUVTXG4gICAgICAgIHRoaXMucG9zaXRpb24uc2V0KDAuMCwgMC4wLCAwLjAsIDEuMCk7XG4gICAgICAgIHRoaXMucm90YXRpb24uc2V0KDAuMCwgMC4wLCAwLjAsIDEuMCk7XG4gICAgICAgIHRoaXMuc2NhbGUuc2V0KDEuMCwgMS4wLCAxLjAsIDEuMCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFBvc2l0aW9uKCkgOiBWZWN0b3IzIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpb247XG4gICAgfSAgICBcblxuICAgIHB1YmxpYyBnZXRSb3RhdGlvbigpIDogVmVjdG9yMyB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvdGF0aW9uO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTY2FsZSgpIDogVmVjdG9yMyB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjYWxlO1xuICAgIH1cblxuICAgIHB1YmxpYyBhYnN0cmFjdCBjb250YWlucyh0ZXN0WCA6IG51bWJlciwgdGVzdFkgOiBudW1iZXIpIDogYm9vbGVhbjtcbn0iLCJpbXBvcnQge1NjZW5lT2JqZWN0fSBmcm9tICcuLi9TY2VuZU9iamVjdCdcbmltcG9ydCB7QW5pbWF0ZWRTcHJpdGVUeXBlfSBmcm9tICcuL0FuaW1hdGVkU3ByaXRlVHlwZSdcblxuZXhwb3J0IGNsYXNzIEFuaW1hdGVkU3ByaXRlIGV4dGVuZHMgU2NlbmVPYmplY3Qge1xuICAgIHByaXZhdGUgc3ByaXRlVHlwZSA6IEFuaW1hdGVkU3ByaXRlVHlwZTtcbiAgICBwcml2YXRlIHN0YXRlIDogc3RyaW5nO1xuICAgIHByaXZhdGUgYW5pbWF0aW9uRnJhbWVJbmRleCA6IG51bWJlcjtcbiAgICBwcml2YXRlIGZyYW1lQ291bnRlciA6IG51bWJlcjtcbiAgICBcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoaW5pdFNwcml0ZVR5cGUgOiBBbmltYXRlZFNwcml0ZVR5cGUsIGluaXRTdGF0ZSA6IHN0cmluZykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnNwcml0ZVR5cGUgPSBpbml0U3ByaXRlVHlwZTtcbiAgICAgICAgXG4gICAgICAgIC8vIFNUQVJUIFJFU0VUXG4gICAgICAgIHRoaXMuc3RhdGUgPSBpbml0U3RhdGU7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uRnJhbWVJbmRleCA9IDA7XG4gICAgICAgIHRoaXMuZnJhbWVDb3VudGVyID0gMDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0QW5pbWF0aW9uRnJhbWVJbmRleCgpIDogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYW5pbWF0aW9uRnJhbWVJbmRleDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RnJhbWVDb3VudGVyKCkgOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5mcmFtZUNvdW50ZXI7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNwcml0ZVR5cGUoKSA6IEFuaW1hdGVkU3ByaXRlVHlwZSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNwcml0ZVR5cGU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFN0YXRlKCkgOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIHNldFN0YXRlKGluaXRTdGF0ZSA6IHN0cmluZykgOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IGluaXRTdGF0ZTtcbiAgICAgICAgdGhpcy5hbmltYXRpb25GcmFtZUluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5mcmFtZUNvdW50ZXIgPSAwO1xuICAgIH1cbiAgICBcbiAgICBwdWJsaWMgdXBkYXRlKGRlbHRhIDogbnVtYmVyKSA6IHZvaWQge1xuICAgICAgICB0aGlzLmZyYW1lQ291bnRlcisrO1xuICAgICAgICBcbiAgICAgICAgLy8gSEFWRSBXRSBHT05FIFBBU1QgVEhFIExBU1QgRlJBTUUgSU4gVEhFIEFOSU1BVElPTj9cbiAgICAgICAgdmFyIGN1cnJlbnRBbmltYXRpb24gPSB0aGlzLnNwcml0ZVR5cGUuZ2V0QW5pbWF0aW9uKHRoaXMuc3RhdGUpO1xuICAgICAgICB2YXIgY3VycmVudEZyYW1lID0gY3VycmVudEFuaW1hdGlvblt0aGlzLmFuaW1hdGlvbkZyYW1lSW5kZXhdO1xuICAgICAgICBpZiAodGhpcy5mcmFtZUNvdW50ZXIgPiAoY3VycmVudEZyYW1lLmR1cmF0aW9uKSkge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25GcmFtZUluZGV4Kys7XG4gICAgICAgICAgICBpZiAodGhpcy5hbmltYXRpb25GcmFtZUluZGV4ID49IGN1cnJlbnRBbmltYXRpb24ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25GcmFtZUluZGV4ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZnJhbWVDb3VudGVyID0gMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBjb250YWlucyhwb2ludFggOiBudW1iZXIsIHBvaW50WSA6IG51bWJlcikgOiBib29sZWFuIHtcbiAgICAgICAgbGV0IHNwcml0ZVdpZHRoID0gdGhpcy5nZXRTcHJpdGVUeXBlKCkuZ2V0U3ByaXRlV2lkdGgoKTtcbiAgICAgICAgbGV0IHNwcml0ZUhlaWdodCA9IHRoaXMuZ2V0U3ByaXRlVHlwZSgpLmdldFNwcml0ZUhlaWdodCgpO1xuICAgICAgICBsZXQgc3ByaXRlTGVmdCA9IHRoaXMuZ2V0UG9zaXRpb24oKS5nZXRYKCk7XG4gICAgICAgIGxldCBzcHJpdGVSaWdodCA9IHRoaXMuZ2V0UG9zaXRpb24oKS5nZXRYKCkgKyBzcHJpdGVXaWR0aDtcbiAgICAgICAgbGV0IHNwcml0ZVRvcCA9IHRoaXMuZ2V0UG9zaXRpb24oKS5nZXRZKCk7XG4gICAgICAgIGxldCBzcHJpdGVCb3R0b20gPSB0aGlzLmdldFBvc2l0aW9uKCkuZ2V0WSgpICsgc3ByaXRlSGVpZ2h0O1xuICAgICAgICBpZiAoICAgIChwb2ludFggPCBzcHJpdGVMZWZ0KVxuICAgICAgICAgICAgfHwgIChzcHJpdGVSaWdodCA8IHBvaW50WClcbiAgICAgICAgICAgIHx8ICAocG9pbnRZIDwgc3ByaXRlVG9wKVxuICAgICAgICAgICAgfHwgIChzcHJpdGVCb3R0b20gPCBwb2ludFkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLyoqUkVOQU1FIFRISVMgTUVUSE9EIFNPIElUIERFTk9URVMgUElYRUwgTE9DQVRJT04gSU4gVEVYVFVSRSAqL1xuICAgIHB1YmxpYyBnZXRMZWZ0KCkgOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5zcHJpdGVUeXBlLmdldExlZnQodGhpcy5zdGF0ZSwgdGhpcy5hbmltYXRpb25GcmFtZUluZGV4KTtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIGdldFRvcCgpIDogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ByaXRlVHlwZS5nZXRUb3AodGhpcy5zdGF0ZSwgdGhpcy5hbmltYXRpb25GcmFtZUluZGV4KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSA6IHN0cmluZyB7XG4gICAgICAgIGxldCBzdW1tYXJ5IDogc3RyaW5nID0gIFwieyBwb3NpdGlvbjogKFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAgIHRoaXMuZ2V0UG9zaXRpb24oKS5nZXRYKCkgKyBcIiwgXCIgKyB0aGlzLmdldFBvc2l0aW9uKCkuZ2V0WSgpICsgXCIpIFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAgIFwiKHN0YXRlOiBcIiArIHRoaXMuZ2V0U3RhdGUoKSArIFwiKSBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgICBcIihhbmltYXRpb25GcmFtZUluZGV4OiBcIiArIHRoaXMuZ2V0QW5pbWF0aW9uRnJhbWVJbmRleCgpICsgXCIpIFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAgIFwiKGZyYW1lQ291bnRlcjogXCIgKyB0aGlzLmdldEZyYW1lQ291bnRlcigpICsgXCIpIFwiO1xuICAgICAgICByZXR1cm4gc3VtbWFyeTtcbiAgICB9XG59IiwiaW1wb3J0IHtXZWJHTEdhbWVUZXh0dXJlfSBmcm9tICcuLi8uLi9yZW5kZXJpbmcvV2ViR0xHYW1lVGV4dHVyZSdcbmltcG9ydCB7SGFzaFRhYmxlfSBmcm9tICcuLi8uLi9kYXRhL0hhc2hUYWJsZSdcblxuZXhwb3J0IGNsYXNzIEFuaW1hdGlvbkZyYW1lIHtcbiAgICBwdWJsaWMgbGVmdCA6IG51bWJlcjtcbiAgICBwdWJsaWMgdG9wIDogbnVtYmVyO1xuICAgIHB1YmxpYyBkdXJhdGlvbiA6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGluaXRMZWZ0IDogbnVtYmVyLCBpbml0VG9wIDogbnVtYmVyLCBpbml0RHVyYXRpb24gOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5sZWZ0ID0gaW5pdExlZnQ7XG4gICAgICAgIHRoaXMudG9wID0gaW5pdFRvcDtcbiAgICAgICAgdGhpcy5kdXJhdGlvbiA9IGluaXREdXJhdGlvbjtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBbmltYXRlZFNwcml0ZVR5cGUge1xuICAgIHByaXZhdGUgc3ByaXRlU2hlZXRUZXh0dXJlIDogV2ViR0xHYW1lVGV4dHVyZTtcbiAgICBwcml2YXRlIGFuaW1hdGlvbnMgOiBIYXNoVGFibGU8QXJyYXk8QW5pbWF0aW9uRnJhbWU+PjtcbiAgICBwcml2YXRlIHNwcml0ZVdpZHRoIDogbnVtYmVyO1xuICAgIHByaXZhdGUgc3ByaXRlSGVpZ2h0IDogbnVtYmVyO1xuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGluaXRTcHJpdGVTaGVldFRleHR1cmUgOiBXZWJHTEdhbWVUZXh0dXJlLCBcbiAgICAgICAgICAgICAgICBpbml0U3ByaXRlV2lkdGggOiBudW1iZXIsIGluaXRTcHJpdGVIZWlnaHQgOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5zcHJpdGVTaGVldFRleHR1cmUgPSBpbml0U3ByaXRlU2hlZXRUZXh0dXJlO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbnMgPSB7fTtcbiAgICAgICAgdGhpcy5zcHJpdGVXaWR0aCA9IGluaXRTcHJpdGVXaWR0aDtcbiAgICAgICAgdGhpcy5zcHJpdGVIZWlnaHQgPSBpbml0U3ByaXRlSGVpZ2h0O1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGRBbmltYXRpb24oc3RhdGUgOiBzdHJpbmcpIDogdm9pZCB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9uc1tzdGF0ZV0gPSBuZXcgQXJyYXk8QW5pbWF0aW9uRnJhbWU+KCk7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZEFuaW1hdGlvbkZyYW1lKHN0YXRlIDogc3RyaW5nLCBpbmRleCA6IG51bWJlciwgZnJhbWVEdXJhdGlvbiA6IG51bWJlcikgOiB2b2lkIHtcbiAgICAgICAgdmFyIGNvbHVtbnMgPSB0aGlzLnNwcml0ZVNoZWV0VGV4dHVyZS53aWR0aC90aGlzLnNwcml0ZVdpZHRoO1xuICAgICAgICB2YXIgcm93cyA9IHRoaXMuc3ByaXRlU2hlZXRUZXh0dXJlLmhlaWdodC90aGlzLnNwcml0ZUhlaWdodDtcbiAgICAgICAgdmFyIGNvbCA9IGluZGV4ICUgY29sdW1ucztcbiAgICAgICAgdmFyIHJvdyA9IE1hdGguZmxvb3IoaW5kZXggLyAgY29sdW1ucyk7XG4gICAgICAgIHZhciBsZWZ0ID0gY29sICogdGhpcy5zcHJpdGVXaWR0aDtcbiAgICAgICAgdmFyIHRvcCA9IHJvdyAqIHRoaXMuc3ByaXRlSGVpZ2h0O1xuICAgICAgICB0aGlzLmFuaW1hdGlvbnNbc3RhdGVdLnB1c2gobmV3IEFuaW1hdGlvbkZyYW1lKGxlZnQsIHRvcCwgZnJhbWVEdXJhdGlvbikpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTcHJpdGVXaWR0aCgpIDogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ByaXRlV2lkdGg7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNwcml0ZUhlaWdodCgpIDogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ByaXRlSGVpZ2h0O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTcHJpdGVTaGVldFRleHR1cmUoKSA6IFdlYkdMR2FtZVRleHR1cmUge1xuICAgICAgICByZXR1cm4gdGhpcy5zcHJpdGVTaGVldFRleHR1cmU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEFuaW1hdGlvbihzdGF0ZSA6IHN0cmluZykgOiBBcnJheTxBbmltYXRpb25GcmFtZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5hbmltYXRpb25zW3N0YXRlXTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0TGVmdChzdGF0ZSA6IHN0cmluZywgZnJhbWVJbmRleCA6IG51bWJlcikgOiBudW1iZXIge1xuICAgICAgICBsZXQgYW5pbWF0aW9uRnJhbWUgOiBBbmltYXRpb25GcmFtZSA9IHRoaXMuYW5pbWF0aW9uc1tzdGF0ZV1bZnJhbWVJbmRleF07XG4gICAgICAgIHJldHVybiBhbmltYXRpb25GcmFtZS5sZWZ0O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRUb3Aoc3RhdGUgOiBzdHJpbmcsIGZyYW1lSW5kZXggOiBudW1iZXIpIDogbnVtYmVyIHtcbiAgICAgICAgbGV0IGFuaW1hdGlvbkZyYW1lIDogQW5pbWF0aW9uRnJhbWUgPSB0aGlzLmFuaW1hdGlvbnNbc3RhdGVdW2ZyYW1lSW5kZXhdO1xuICAgICAgICByZXR1cm4gYW5pbWF0aW9uRnJhbWUudG9wO1xuICAgIH1cbn0iLCJpbXBvcnQge1NjZW5lT2JqZWN0fSBmcm9tICcuLi9TY2VuZU9iamVjdCdcbmltcG9ydCB7R3JhZGllbnRDaXJjbGVTcHJpdGVUeXBlfSBmcm9tICcuL0dyYWRpZW50Q2lyY2xlU3ByaXRlVHlwZSdcbmltcG9ydCB7IFZlY3RvcjMgfSBmcm9tICcuLi8uLi9tYXRoL1ZlY3RvcjMnO1xuXG5cbmV4cG9ydCBjbGFzcyBHcmFkaWVudENpcmNsZVNwcml0ZSBleHRlbmRzIFNjZW5lT2JqZWN0IHtcbiAgICBwcml2YXRlIHNwcml0ZVR5cGUgOiBHcmFkaWVudENpcmNsZVNwcml0ZVR5cGU7XG4gICAgcHJpdmF0ZSBzdGF0ZSA6IHN0cmluZztcbiAgICBwcml2YXRlIHNwcml0ZUNvbG9yIDogVmVjdG9yMyA9IG5ldyBWZWN0b3IzKCk7IC8vUkdCQSBhbGwgb3V0IG9mIDEuMCAoUmVkLCBHcmVlbiwgQmx1ZSwgQWxwaGEpXG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoaW5pdFNwcml0ZVR5cGUgOiBHcmFkaWVudENpcmNsZVNwcml0ZVR5cGUsIGluaXRTdGF0ZSA6IHN0cmluZykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnNwcml0ZVR5cGUgPSBpbml0U3ByaXRlVHlwZTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IGluaXRTdGF0ZTtcblxuICAgICAgICBsZXQgdGVtcFJhbmRvbSA6IE51bWJlciA9IE1hdGguY2VpbChNYXRoLnJhbmRvbSgpKjYpO1xuICAgICAgICBzd2l0Y2ggKHRlbXBSYW5kb20pIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAvLyBSZWQgXG4gICAgICAgICAgICAgICAgdGhpcy5zcHJpdGVDb2xvci5zZXQoMSwgMCwgMCwgMSk7IFxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIC8vIEdyZWVuXG4gICAgICAgICAgICAgICAgdGhpcy5zcHJpdGVDb2xvci5zZXQoMCwgMSwgMCwgMSk7IFxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIC8vIEJsdWVcbiAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZUNvbG9yLnNldCgwLCAwLCAxLCAxKTsgXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgLy8gWWVsbG93XG4gICAgICAgICAgICAgICAgdGhpcy5zcHJpdGVDb2xvci5zZXQoMSwgMSwgMCwgMSk7IFxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIC8vIEN5YW5cbiAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZUNvbG9yLnNldCgwLCAxLCAxLCAxKTsgXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgLy8gTWFnZW50YSBcbiAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZUNvbG9yLnNldCgxLCAwLCAxLCAxKTsgXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRTdGF0ZShcIlI6XCIrdGhpcy5zcHJpdGVDb2xvci5nZXRYKCkrXCIsIEc6XCIrdGhpcy5zcHJpdGVDb2xvci5nZXRZKCkrXCIsIEI6XCIrdGhpcy5zcHJpdGVDb2xvci5nZXRaKCkrXCIsIEE6XCIrdGhpcy5zcHJpdGVDb2xvci5nZXRXKCkpO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTcHJpdGVUeXBlKCkgOiBHcmFkaWVudENpcmNsZVNwcml0ZVR5cGUge1xuICAgICAgICByZXR1cm4gdGhpcy5zcHJpdGVUeXBlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTdGF0ZSgpIDogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gICAgfVxuICAgIFxuICAgIHB1YmxpYyBzZXRTdGF0ZShpbml0U3RhdGUgOiBzdHJpbmcpIDogdm9pZCB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBpbml0U3RhdGU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNwcml0ZUNvbG9yKCkgOiBWZWN0b3IzIHtcblxuICAgICAgICByZXR1cm4gdGhpcy5zcHJpdGVDb2xvclxuICAgIH1cblxuICAgIHB1YmxpYyBjb250YWlucyhwb2ludFggOiBudW1iZXIsIHBvaW50WSA6IG51bWJlcikgOiBib29sZWFuIHtcbiAgICAgICAgbGV0IHNwcml0ZVdpZHRoID0gdGhpcy5nZXRTcHJpdGVUeXBlKCkuZ2V0U3ByaXRlV2lkdGgoKTtcbiAgICAgICAgbGV0IHNwcml0ZUhlaWdodCA9IHRoaXMuZ2V0U3ByaXRlVHlwZSgpLmdldFNwcml0ZUhlaWdodCgpO1xuICAgICAgICBsZXQgc3ByaXRlTGVmdCA9IHRoaXMuZ2V0UG9zaXRpb24oKS5nZXRYKCk7XG4gICAgICAgIGxldCBzcHJpdGVSaWdodCA9IHRoaXMuZ2V0UG9zaXRpb24oKS5nZXRYKCkgKyBzcHJpdGVXaWR0aDtcbiAgICAgICAgbGV0IHNwcml0ZVRvcCA9IHRoaXMuZ2V0UG9zaXRpb24oKS5nZXRZKCk7XG4gICAgICAgIGxldCBzcHJpdGVCb3R0b20gPSB0aGlzLmdldFBvc2l0aW9uKCkuZ2V0WSgpICsgc3ByaXRlSGVpZ2h0O1xuICAgICAgICBpZiAoICAgIChwb2ludFggPCBzcHJpdGVMZWZ0KVxuICAgICAgICAgICAgfHwgIChzcHJpdGVSaWdodCA8IHBvaW50WClcbiAgICAgICAgICAgIHx8ICAocG9pbnRZIDwgc3ByaXRlVG9wKVxuICAgICAgICAgICAgfHwgIChzcHJpdGVCb3R0b20gPCBwb2ludFkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgdG9TdHJpbmcoKSA6IHN0cmluZyB7XG4gICAgICAgIGxldCBzdW1tYXJ5IDogc3RyaW5nID0gIFwieyBwb3NpdGlvbjogKFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAgIHRoaXMuZ2V0UG9zaXRpb24oKS5nZXRYKCkgKyBcIiwgXCIgKyB0aGlzLmdldFBvc2l0aW9uKCkuZ2V0WSgpICsgXCIpIFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAgIFwiKHN0YXRlOiBcIiArIHRoaXMuZ2V0U3RhdGUoKSArIFwiKSBcIjtcbiAgICAgICAgcmV0dXJuIHN1bW1hcnk7XG4gICAgfVxufSIsImltcG9ydCB7VmVjdG9yM30gZnJvbSAnLi4vLi4vbWF0aC9WZWN0b3IzJ1xuXG5leHBvcnQgY2xhc3MgR3JhZGllbnRDaXJjbGVTcHJpdGVUeXBlIHtcbiAgICBwcml2YXRlIHNwcml0ZVdpZHRoIDogbnVtYmVyO1xuICAgIHByaXZhdGUgc3ByaXRlSGVpZ2h0IDogbnVtYmVyO1xuICAgIFxuXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKGluaXRTcHJpdGVXaWR0aCA6IG51bWJlciwgaW5pdFNwcml0ZUhlaWdodCA6IG51bWJlcikge1xuICAgICAgICB0aGlzLnNwcml0ZVdpZHRoID0gaW5pdFNwcml0ZVdpZHRoO1xuICAgICAgICB0aGlzLnNwcml0ZUhlaWdodCA9IGluaXRTcHJpdGVIZWlnaHQ7XG4gICAgICAgIFxuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTcHJpdGVXaWR0aCgpIDogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ByaXRlV2lkdGg7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFNwcml0ZUhlaWdodCgpIDogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3ByaXRlSGVpZ2h0O1xuICAgIH1cblxufSIsIi8qXG4gKiBUaGlzIHByb3ZpZGVzIHJlc3BvbnNlcyB0byBVSSBpbnB1dC5cbiAqL1xuaW1wb3J0IHtBbmltYXRlZFNwcml0ZX0gZnJvbSBcIi4uL3NjZW5lL3Nwcml0ZS9BbmltYXRlZFNwcml0ZVwiXG5pbXBvcnQge1NjZW5lR3JhcGh9IGZyb20gXCIuLi9zY2VuZS9TY2VuZUdyYXBoXCJcbmltcG9ydCB7IEdyYWRpZW50Q2lyY2xlU3ByaXRlIH0gZnJvbSBcIi4uL3NjZW5lL3Nwcml0ZS9HcmFkaWVudENpcmNsZVNwcml0ZVwiO1xuaW1wb3J0IHsgUmVzb3VyY2VNYW5hZ2VyIH0gZnJvbSBcIi4uL2ZpbGVzL1Jlc291cmNlTWFuYWdlclwiO1xuaW1wb3J0IHsgQW5pbWF0ZWRTcHJpdGVUeXBlIH0gZnJvbSBcIi4uL3NjZW5lL3Nwcml0ZS9BbmltYXRlZFNwcml0ZVR5cGVcIjtcbmltcG9ydCB7IEdyYWRpZW50Q2lyY2xlU3ByaXRlVHlwZSB9IGZyb20gXCIuLi9zY2VuZS9zcHJpdGUvR3JhZGllbnRDaXJjbGVTcHJpdGVUeXBlXCI7XG5cblxuZXhwb3J0IGNsYXNzIFVJQ29udHJvbGxlciB7XG4gICAgcHJpdmF0ZSBzcHJpdGVUb0RyYWcgOiBBbmltYXRlZFNwcml0ZTtcbiAgICBwcml2YXRlIGNpcmNsZVRvRHJhZyA6IEdyYWRpZW50Q2lyY2xlU3ByaXRlO1xuICAgIHByaXZhdGUgc2NlbmUgOiBTY2VuZUdyYXBoO1xuICAgIHByaXZhdGUgZHJhZ09mZnNldFggOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBkcmFnT2Zmc2V0WSA6IG51bWJlcjtcbiAgICBwcml2YXRlIGxhc3RDbGljayA6IG51bWJlcjtcbiAgICBwcml2YXRlIHJNIDogUmVzb3VyY2VNYW5hZ2VyO1xuICAgIHByaXZhdGUgZGV0YWlscyA6IHN0cmluZztcblxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgICBwdWJsaWMgaW5pdChjYW52YXNJZCA6IHN0cmluZywgaW5pdFNjZW5lIDogU2NlbmVHcmFwaCwgcmVhc291cmNlTWFuYWdlciA6IFJlc291cmNlTWFuYWdlcikgOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zcHJpdGVUb0RyYWcgPSBudWxsO1xuICAgICAgICB0aGlzLmNpcmNsZVRvRHJhZyA9IG51bGw7XG4gICAgICAgIHRoaXMuZGV0YWlscyA9IFwiXCI7XG4gICAgICAgIHRoaXMubGFzdENsaWNrID0gMDtcblxuICAgICAgICB0aGlzLnJNID0gcmVhc291cmNlTWFuYWdlcjtcblxuICAgICAgICB0aGlzLnNjZW5lID0gaW5pdFNjZW5lO1xuICAgICAgICB0aGlzLmRyYWdPZmZzZXRYID0gLTE7XG4gICAgICAgIHRoaXMuZHJhZ09mZnNldFkgPSAtMTtcblxuICAgICAgICBsZXQgY2FudmFzIDogSFRNTENhbnZhc0VsZW1lbnQgPSA8SFRNTENhbnZhc0VsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2FudmFzSWQpO1xuICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcImRibGNsaWNrXCIsIHRoaXMuZG91YmxlQ2xpY2spO1xuICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xpY2spO1xuICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLm1vdXNlRG93bkhhbmRsZXIpO1xuICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm1vdXNlTW92ZUhhbmRsZXIpO1xuICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5tb3VzZVVwSGFuZGxlcik7XG4gICAgICAgIFxuICAgIH1cblxuICAgIHB1YmxpYyBtb3VzZURvd25IYW5kbGVyID0gKGV2ZW50IDogTW91c2VFdmVudCkgOiB2b2lkID0+IHtcbiAgICAgICAgdGhpcy5sYXN0Q2xpY2sgPSBldmVudC50aW1lU3RhbXA7ICAgXG5cbiAgICAgICAgbGV0IG1vdXNlUHJlc3NYIDogbnVtYmVyID0gZXZlbnQuY2xpZW50WDtcbiAgICAgICAgbGV0IG1vdXNlUHJlc3NZIDogbnVtYmVyID0gZXZlbnQuY2xpZW50WTtcbiAgICAgICAgbGV0IHNwcml0ZSA6IEFuaW1hdGVkU3ByaXRlID0gdGhpcy5zY2VuZS5nZXRTcHJpdGVBdChtb3VzZVByZXNzWCwgbW91c2VQcmVzc1kpO1xuICAgICAgICBsZXQgY2lyY2xlIDogR3JhZGllbnRDaXJjbGVTcHJpdGUgPSB0aGlzLnNjZW5lLmdldENpcmNsZUF0KG1vdXNlUHJlc3NYLCBtb3VzZVByZXNzWSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwibW91c2VQcmVzc1g6IFwiICsgbW91c2VQcmVzc1gpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIm1vdXNlUHJlc3NZOiBcIiArIG1vdXNlUHJlc3NZKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJzcHJpdGU6IFwiICsgKChzcHJpdGUgIT0gbnVsbCkgPyBzcHJpdGUgOiBjaXJjbGUpKTtcbiAgICAgICAgaWYgKHNwcml0ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBTVEFSVCBEUkFHR0lORyBJVFxuICAgICAgICAgICAgdGhpcy5zcHJpdGVUb0RyYWcgPSBzcHJpdGU7XG4gICAgICAgICAgICB0aGlzLmRyYWdPZmZzZXRYID0gc3ByaXRlLmdldFBvc2l0aW9uKCkuZ2V0WCgpIC0gbW91c2VQcmVzc1g7XG4gICAgICAgICAgICB0aGlzLmRyYWdPZmZzZXRZID0gc3ByaXRlLmdldFBvc2l0aW9uKCkuZ2V0WSgpIC0gbW91c2VQcmVzc1k7XG4gICAgICAgIH1lbHNlIGlmIChjaXJjbGUgIT0gbnVsbCl7XG4gICAgICAgICAgICAvLyBTVEFSVCBEUkFHR0lORyBJVFxuICAgICAgICAgICAgdGhpcy5jaXJjbGVUb0RyYWcgPSBjaXJjbGU7XG4gICAgICAgICAgICB0aGlzLmRyYWdPZmZzZXRYID0gY2lyY2xlLmdldFBvc2l0aW9uKCkuZ2V0WCgpIC0gbW91c2VQcmVzc1g7XG4gICAgICAgICAgICB0aGlzLmRyYWdPZmZzZXRZID0gY2lyY2xlLmdldFBvc2l0aW9uKCkuZ2V0WSgpIC0gbW91c2VQcmVzc1k7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgcHVibGljIG1vdXNlTW92ZUhhbmRsZXIgPSAoZXZlbnQgOiBNb3VzZUV2ZW50KSA6IHZvaWQgPT4ge1xuICAgICAgICB0aGlzLmxhc3RDbGljayAtPSA1MDA7XG4gICAgICAgIGlmICh0aGlzLnNwcml0ZVRvRHJhZyAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnNwcml0ZVRvRHJhZy5nZXRQb3NpdGlvbigpLnNldChldmVudC5jbGllbnRYICsgdGhpcy5kcmFnT2Zmc2V0WCwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5jbGllbnRZICsgdGhpcy5kcmFnT2Zmc2V0WSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZVRvRHJhZy5nZXRQb3NpdGlvbigpLmdldFooKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZVRvRHJhZy5nZXRQb3NpdGlvbigpLmdldFcoKSk7XG4gICAgICAgIH1lbHNlIGlmICh0aGlzLmNpcmNsZVRvRHJhZyAhPSBudWxsKXtcbiAgICAgICAgICAgIHRoaXMuY2lyY2xlVG9EcmFnLmdldFBvc2l0aW9uKCkuc2V0KGV2ZW50LmNsaWVudFggKyB0aGlzLmRyYWdPZmZzZXRYLCBcbiAgICAgICAgICAgICAgICBldmVudC5jbGllbnRZICsgdGhpcy5kcmFnT2Zmc2V0WSwgXG4gICAgICAgICAgICAgICAgdGhpcy5jaXJjbGVUb0RyYWcuZ2V0UG9zaXRpb24oKS5nZXRaKCksIFxuICAgICAgICAgICAgICAgIHRoaXMuY2lyY2xlVG9EcmFnLmdldFBvc2l0aW9uKCkuZ2V0VygpKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAvL2hvdmVyIFxuICAgICAgICAgICAgbGV0IG1vdXNlUHJlc3NYIDogbnVtYmVyID0gZXZlbnQuY2xpZW50WDtcbiAgICAgICAgICAgIGxldCBtb3VzZVByZXNzWSA6IG51bWJlciA9IGV2ZW50LmNsaWVudFk7XG4gICAgICAgICAgICBsZXQgc3ByaXRlIDogQW5pbWF0ZWRTcHJpdGUgPSB0aGlzLnNjZW5lLmdldFNwcml0ZUF0KG1vdXNlUHJlc3NYLCBtb3VzZVByZXNzWSk7XG4gICAgICAgICAgICBsZXQgY2lyY2xlIDogR3JhZGllbnRDaXJjbGVTcHJpdGUgPSB0aGlzLnNjZW5lLmdldENpcmNsZUF0KG1vdXNlUHJlc3NYLCBtb3VzZVByZXNzWSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkhvdmVyWDogXCIgKyBtb3VzZVByZXNzWCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkhvdmVyWTogXCIgKyBtb3VzZVByZXNzWSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInNwcml0ZTogXCIgKyAoKHNwcml0ZSAhPSBudWxsKSA/IHNwcml0ZSA6IGNpcmNsZSkpO1xuICAgICAgICAgICAgaWYgKHNwcml0ZSA9PSBudWxsICYmIGNpcmNsZSA9PSBudWxsKXtcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnNldFNjZW5lRGVzY3JpcHRpb24oXCJcIik7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICB0aGlzLmRldGFpbHMgPSBcIiwgSG92ZXJYOiBcIiArIG1vdXNlUHJlc3NYICsgXCIsIFwiICsgXCJIb3Zlclk6IFwiICsgbW91c2VQcmVzc1kgKyBcIiwgXCIgKyBcInNwcml0ZTogXCIgKyAoKHNwcml0ZSAhPSBudWxsKSA/IHNwcml0ZSA6IGNpcmNsZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zZXRTY2VuZURlc2NyaXB0aW9uKHRoaXMuZGV0YWlscyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgaG92ZXJpbmdTcHJpdGVUZXh0KCkgOiBzdHJpbmd7XG4gICAgICAgIHJldHVybiB0aGlzLmRldGFpbHM7XG4gICAgfVxuXG4gICAgcHVibGljIG1vdXNlVXBIYW5kbGVyID0gKGV2ZW50IDogTW91c2VFdmVudCkgOiB2b2lkID0+IHtcbiAgICAgICAgdGhpcy5zcHJpdGVUb0RyYWcgPSBudWxsO1xuICAgICAgICB0aGlzLmNpcmNsZVRvRHJhZyA9IG51bGw7XG5cbiAgICB9XG5cbiAgICBwdWJsaWMgZG91YmxlQ2xpY2sgPSAoZXZlbnQgOiBNb3VzZUV2ZW50KSA6IHZvaWQgPT4ge1xuICAgICAgICBsZXQgbW91c2VQcmVzc1ggOiBudW1iZXIgPSBldmVudC5jbGllbnRYO1xuICAgICAgICBsZXQgbW91c2VQcmVzc1kgOiBudW1iZXIgPSBldmVudC5jbGllbnRZO1xuICAgICAgICBsZXQgc3ByaXRlIDogQW5pbWF0ZWRTcHJpdGUgPSB0aGlzLnNjZW5lLmdldFNwcml0ZUF0KG1vdXNlUHJlc3NYLCBtb3VzZVByZXNzWSk7XG4gICAgICAgIGxldCBjaXJjbGUgOiBHcmFkaWVudENpcmNsZVNwcml0ZSA9IHRoaXMuc2NlbmUuZ2V0Q2lyY2xlQXQobW91c2VQcmVzc1gsIG1vdXNlUHJlc3NZKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJtb3VzZVByZXNzWDogXCIgKyBtb3VzZVByZXNzWCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwibW91c2VQcmVzc1k6IFwiICsgbW91c2VQcmVzc1kpO1xuICAgICAgICBjb25zb2xlLmxvZyhcInNwcml0ZTogXCIgKyAoKHNwcml0ZSAhPSBudWxsKSA/IHNwcml0ZSA6IGNpcmNsZSkpO1xuICAgICAgICBpZiAoc3ByaXRlICE9IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFNUQVJUIERSQUdHSU5HIElUXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnJlbW92ZWRBbmltYXRlZFNwcml0ZShzcHJpdGUpO1xuICAgICAgICB9ZWxzZSBpZiAoY2lyY2xlICE9IG51bGwpe1xuICAgICAgICAgICAgLy8gU1RBUlQgRFJBR0dJTkcgSVRcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucmVtb3ZlQ2lyY2xlU3ByaXRlKGNpcmNsZSk7XG4gICAgICAgIH1cbiAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGNsaWNrID0gKGV2ZW50IDogTW91c2VFdmVudCkgOiB2b2lkID0+IHtcbiAgICAgICAgXG4gICAgICAgIGxldCBtb3VzZVByZXNzWCA6IG51bWJlciA9IGV2ZW50LmNsaWVudFg7XG4gICAgICAgIGxldCBtb3VzZVByZXNzWSA6IG51bWJlciA9IGV2ZW50LmNsaWVudFk7XG4gICAgICAgIGxldCBzcHJpdGUgOiBBbmltYXRlZFNwcml0ZSA9IHRoaXMuc2NlbmUuZ2V0U3ByaXRlQXQobW91c2VQcmVzc1gsIG1vdXNlUHJlc3NZKTtcbiAgICAgICAgbGV0IGNpcmNsZSA6IEdyYWRpZW50Q2lyY2xlU3ByaXRlID0gdGhpcy5zY2VuZS5nZXRDaXJjbGVBdChtb3VzZVByZXNzWCwgbW91c2VQcmVzc1kpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIm1vdXNlUHJlc3NYOiBcIiArIG1vdXNlUHJlc3NYKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJtb3VzZVByZXNzWTogXCIgKyBtb3VzZVByZXNzWSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwic3ByaXRlOiBcIiArICgoc3ByaXRlICE9IG51bGwpID8gc3ByaXRlIDogY2lyY2xlKSk7XG4gICAgICAgIGlmIChzcHJpdGUgPT0gbnVsbCAmJiBjaXJjbGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgbGV0IGNhbnZhc1dpZHRoIDogbnVtYmVyID0gKDxIVE1MQ2FudmFzRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVfY2FudmFzXCIpKS53aWR0aDtcbiAgICAgICAgICAgIGxldCBjYW52YXNIZWlnaHQgOiBudW1iZXIgPSAoPEhUTUxDYW52YXNFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZV9jYW52YXNcIikpLmhlaWdodDtcblxuICAgICAgICAgICAgY29uc3QgREVNT19TUFJJVEVfVFlQRVMgOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgICAgICAgICAncmVzb3VyY2VzL2FuaW1hdGVkX3Nwcml0ZXMvUmVkQ2lyY2xlTWFuLmpzb24nLFxuICAgICAgICAgICAgICAgICdyZXNvdXJjZXMvYW5pbWF0ZWRfc3ByaXRlcy9NdWx0aUNvbG9yQmxvY2suanNvbidcbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIGNvbnN0IERFTU9fU1BSSVRFX1NUQVRFUyA9IHtcbiAgICAgICAgICAgICAgICBGT1JXQVJEX1NUQVRFOiAnRk9SV0FSRCcsXG4gICAgICAgICAgICAgICAgUkVWRVJTRV9TVEFURTogJ1JFVkVSU0UnXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBsZXQgcmFuZE51bSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSozKVxuXG4gICAgICAgICAgICBpZiAocmFuZE51bSA9PSAwIHx8IHJhbmROdW0gPT0gMSl7XG4gICAgICAgICAgICAgICAgbGV0IHNwcml0ZVR5cGVUb1VzZSA6IHN0cmluZyA9IERFTU9fU1BSSVRFX1RZUEVTW3JhbmROdW1dXG4gICAgICAgICAgICAgICAgbGV0IGFuaW1hdGVkU3ByaXRlVHlwZSA6IEFuaW1hdGVkU3ByaXRlVHlwZSA9IHRoaXMuck0uZ2V0QW5pbWF0ZWRTcHJpdGVUeXBlQnlJZChzcHJpdGVUeXBlVG9Vc2UpO1xuICAgICAgICAgICAgICAgIGxldCBzcHJpdGVUb0FkZCA6IEFuaW1hdGVkU3ByaXRlID0gbmV3IEFuaW1hdGVkU3ByaXRlKGFuaW1hdGVkU3ByaXRlVHlwZSwgREVNT19TUFJJVEVfU1RBVEVTLkZPUldBUkRfU1RBVEUpO1xuICAgICAgICAgICAgICAgIGxldCByYW5kb21YIDogbnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2FudmFzV2lkdGgpIC0gKGFuaW1hdGVkU3ByaXRlVHlwZS5nZXRTcHJpdGVXaWR0aCgpLzIpO1xuICAgICAgICAgICAgICAgIGxldCByYW5kb21ZIDogbnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2FudmFzSGVpZ2h0KSAtIChhbmltYXRlZFNwcml0ZVR5cGUuZ2V0U3ByaXRlSGVpZ2h0KCkvMik7XG4gICAgICAgICAgICAgICAgc3ByaXRlVG9BZGQuZ2V0UG9zaXRpb24oKS5zZXQocmFuZG9tWCwgcmFuZG9tWSwgMC4wLCAxLjApO1xuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuYWRkQW5pbWF0ZWRTcHJpdGUoc3ByaXRlVG9BZGQpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgbGV0IGdyYWRpZW50U3ByaXRlVHlwZSA6IEdyYWRpZW50Q2lyY2xlU3ByaXRlVHlwZSA9IG5ldyBHcmFkaWVudENpcmNsZVNwcml0ZVR5cGUoMjAwLCAyMDApO1xuICAgICAgICAgICAgICAgIGxldCBzcHJpdGVUb0FkZCA6IEdyYWRpZW50Q2lyY2xlU3ByaXRlID0gbmV3IEdyYWRpZW50Q2lyY2xlU3ByaXRlKGdyYWRpZW50U3ByaXRlVHlwZSwgXCJOZXcgR3JhZGllbnQgU3ByaXRlXCIpO1xuICAgICAgICAgICAgICAgIGxldCByYW5kb21YIDogbnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2FudmFzV2lkdGgpIC0gKGdyYWRpZW50U3ByaXRlVHlwZS5nZXRTcHJpdGVXaWR0aCgpLzIpO1xuICAgICAgICAgICAgICAgIGxldCByYW5kb21ZIDogbnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2FudmFzSGVpZ2h0KSAtIChncmFkaWVudFNwcml0ZVR5cGUuZ2V0U3ByaXRlSGVpZ2h0KCkvMik7XG4gICAgICAgICAgICAgICAgc3ByaXRlVG9BZGQuZ2V0UG9zaXRpb24oKS5zZXQocmFuZG9tWCwgcmFuZG9tWSwgMC4wLCAxLjApO1xuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuYWRkQ2lyY2xlU3ByaXRlKHNwcml0ZVRvQWRkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iXX0="}